/*:ja
 * @target MZ
 * @plugindesc SpriteStudio 6 アニメーション再生プラグイン
 * @version 0.5.1
 * @author Web Technology Corp.
 * @url https://github.com/SpriteStudio/SS6PlayerForWeb/tree/master/packages/ss6player-rpgmakermz
 * @help SS6Player for RPG Maker MZ
 *
 * 詳しい使い方は、GitHub リポジトリの README.md をお読みください。
 * https://github.com/SpriteStudio/SS6PlayerForWeb/tree/master/packages/ss6player-rpgmakermz/README.md
 *
 * デプロイメント時に「未使用ファイルを削除」オプションを使用した場合、
 * アニメーションを含むフォルダは削除されてしまいます。
 * 必ず、デプロイメント後にプラグインパラメータで指定したディレクトリを、
 * 出力先の同じ位置にコピーしてください。
 *
 * @param animationDir
 * @text ssfb アニメーションベースディレクトリ
 * @desc ssfb のフォルダを格納するベースディレクトリのパスです。
 * @type file
 * @default img/ssfb
 * @requiredAssets img/ssfb
 *
 * @param replaceSVActorSpriteFlag
 * @text SV アクター置き換え
 * @desc SV アクターを Sprite Studio アニメーションに置き換える機能の ON/OFF です。
 * @type boolean
 * @default false
 *
 * @param svActorDir
 * @text SV アクターディレクトリ
 * @desc SV アクターの SpriteStudio データを格納するディレクトリのパスです
 * @type file
 * @default img/ssfb/sv_actors
 * @requiredAssets img/ssfb/sv_actors
 *
 * @param svActorAnimationPack
 * @text SV アクターアニメーションパック名
 * @desc SV アクターが利用する Sprite Studio の共通アニメーションパック(ssae)名です
 * @type string
 * @default motions
 *
 * @param svActorHideWeaponGraphics
 * @text SV アクター武器非表示
 * @desc SV アクターの攻撃中の武器アニメーションを非表示にする機能の ON/OFF です。
 * @type boolean
 * @default true
 *
 * @param replaceSVEnemySpriteFlag
 * @text SV エネミー置き換え
 * @desc SV エネミーを Sprite Studio アニメーションに置き換える機能の ON/OFF です。
 * @type boolean
 * @default false
 *
 * @param svEnemyDir
 * @text SV エネミーディレクトリ
 * @desc SV アクターの SpriteStudio データを格納するディレクトリのパスです
 * @type file
 * @default img/ssfb/sv_enemies
 * @requiredAssets img/ssfb/sv_enemies
 *
 * @param svEnemyAnimationPack
 * @text SV エネミーアニメーションパック名
 * @desc SV エネミーが利用する Sprite Studio の共通アニメーションパック(ssae)名です
 * @type string
 * @default motions
 *
 * @param svEnemyAnimationName
 * @text SV エネミーアニメーション名
 * @desc SV エネミーが利用する Sprite Studio の共通アニメーション名です。
 * @type string
 * @default walk
 *
 *
 * @command loadSsfb
 * @text ssfbロード
 * @desc ssfb ファイルと関連画像をダウンロードしロードします。
 *
 * @arg ssfbId
 * @text ssfb ID
 * @desc 登録する ssfb ID です。他のコマンドから参照するのに利用します。
 * @type number
 * @min 1
 *
 * @arg ssfbFile
 * @text ssfbファイルパス
 * @desc ssfb ファイルをアニメーションディレクトリからの相対パスで指定してください。 (e.g. MeshBone/Knight.ssbp.ssfb)
 * @type string
 *
 *
 * @command setAsPicture
 * @text アニメーションピクチャの設定
 * @desc ピクチャとして表示するアニメーションを設定します。
 *       この後、画像を指定せずに「ピクチャの表示」を実行してください。
 *
 * @arg ssfbId
 * @text ssfb ID
 * @desc 利用する ssfb ID を指定してください。
 * @type number
 * @min 1
 *
 * @arg animePackName
 * @text アニメパック名
 * @desc 再生するアニメパック名(ssae)を指定してください。
 *       e.g. Knight_bomb
 * @type string
 *
 * @arg animeName
 * @text アニメ名
 * @desc 再生するアニメ名を指定してください。
 *       e.g. Balloon
 * @type string
 *
 * @arg scaleX
 * @text スケールX
 * @desc X のスケールを指定します
 * @type decimals
 * @default 1.0
 *
 * @arg scaleY
 * @text スケールY
 * @desc Y のスケールを指定します
 * @type decimals
 * @default 1.0
 *
 * @arg loop
 * @text 再生ループ回数
 * @desc 再生ループ回数を指定します。 -1 を指定すると無限ループで再生します。
 * @type number
 * @default 1
 * @min -1
 *
 *
 * @command waitForPicture
 * @text ピクチャ再生待ち
 * @desc アニメーションが再生完了するまでウエイトします。ピクチャにアニメーションがない場合とループ再生時は無視されます。
 *
 * @arg pictureId
 * @text Picture ID
 * @desc アニメーション再生中のピクチャの ID を指定してください。
 * @type number
 * @min 1
 *
 */

!function(){"use strict";var t,e={};e.SIZEOF_SHORT=2,e.SIZEOF_INT=4,e.FILE_IDENTIFIER_LENGTH=4,e.SIZE_PREFIX_LENGTH=4,e.Encoding={UTF8_BYTES:1,UTF16_STRING:2},e.int32=new Int32Array(2),e.float32=new Float32Array(e.int32.buffer),e.float64=new Float64Array(e.int32.buffer),e.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],e.Long=function(t,e){this.low=0|t,this.high=0|e},e.Long.create=function(t,i){return 0==t&&0==i?e.Long.ZERO:new e.Long(t,i)},e.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},e.Long.prototype.equals=function(t){return this.low==t.low&&this.high==t.high},e.Long.ZERO=new e.Long(0,0),e.Builder=function(t){if(t)i=t;else var i=1024;this.bb=e.ByteBuffer.allocate(i),this.space=i,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},e.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},e.Builder.prototype.forceDefaults=function(t){this.force_defaults=t},e.Builder.prototype.dataBuffer=function(){return this.bb},e.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},e.Builder.prototype.prep=function(t,i){t>this.minalign&&(this.minalign=t);for(var n=1+~(this.bb.capacity()-this.space+i)&t-1;this.space<n+t+i;){var s=this.bb.capacity();this.bb=e.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(n)},e.Builder.prototype.pad=function(t){for(var e=0;e<t;e++)this.bb.writeInt8(--this.space,0)},e.Builder.prototype.writeInt8=function(t){this.bb.writeInt8(this.space-=1,t)},e.Builder.prototype.writeInt16=function(t){this.bb.writeInt16(this.space-=2,t)},e.Builder.prototype.writeInt32=function(t){this.bb.writeInt32(this.space-=4,t)},e.Builder.prototype.writeInt64=function(t){this.bb.writeInt64(this.space-=8,t)},e.Builder.prototype.writeFloat32=function(t){this.bb.writeFloat32(this.space-=4,t)},e.Builder.prototype.writeFloat64=function(t){this.bb.writeFloat64(this.space-=8,t)},e.Builder.prototype.addInt8=function(t){this.prep(1,0),this.writeInt8(t)},e.Builder.prototype.addInt16=function(t){this.prep(2,0),this.writeInt16(t)},e.Builder.prototype.addInt32=function(t){this.prep(4,0),this.writeInt32(t)},e.Builder.prototype.addInt64=function(t){this.prep(8,0),this.writeInt64(t)},e.Builder.prototype.addFloat32=function(t){this.prep(4,0),this.writeFloat32(t)},e.Builder.prototype.addFloat64=function(t){this.prep(8,0),this.writeFloat64(t)},e.Builder.prototype.addFieldInt8=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt8(e),this.slot(t))},e.Builder.prototype.addFieldInt16=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt16(e),this.slot(t))},e.Builder.prototype.addFieldInt32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addInt32(e),this.slot(t))},e.Builder.prototype.addFieldInt64=function(t,e,i){!this.force_defaults&&e.equals(i)||(this.addInt64(e),this.slot(t))},e.Builder.prototype.addFieldFloat32=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat32(e),this.slot(t))},e.Builder.prototype.addFieldFloat64=function(t,e,i){(this.force_defaults||e!=i)&&(this.addFloat64(e),this.slot(t))},e.Builder.prototype.addFieldOffset=function(t,e,i){(this.force_defaults||e!=i)&&(this.addOffset(e),this.slot(t))},e.Builder.prototype.addFieldStruct=function(t,e,i){e!=i&&(this.nested(e),this.slot(t))},e.Builder.prototype.nested=function(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},e.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},e.Builder.prototype.slot=function(t){this.vtable[t]=this.offset()},e.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},e.Builder.growByteBuffer=function(t){var i=t.capacity();if(3221225472&i)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=i<<1,s=e.ByteBuffer.allocate(n);return s.setPosition(n-i),s.bytes().set(t.bytes(),n-i),s},e.Builder.prototype.addOffset=function(t){this.prep(e.SIZEOF_INT,0),this.writeInt32(this.offset()-t+e.SIZEOF_INT)},e.Builder.prototype.startObject=function(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(var e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()},e.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var t=this.offset(),i=this.vtable_in_use-1;i>=0&&0==this.vtable[i];i--);for(var n=i+1;i>=0;i--)this.addInt16(0!=this.vtable[i]?t-this.vtable[i]:0);this.addInt16(t-this.object_start);var s=(n+2)*e.SIZEOF_SHORT;this.addInt16(s);var r=0,a=this.space;t:for(i=0;i<this.vtables.length;i++){var o=this.bb.capacity()-this.vtables[i];if(s==this.bb.readInt16(o)){for(var b=e.SIZEOF_SHORT;b<s;b+=e.SIZEOF_SHORT)if(this.bb.readInt16(a+b)!=this.bb.readInt16(o+b))continue t;r=this.vtables[i];break}}return r?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,r-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t},e.Builder.prototype.finish=function(t,i,n){var s=n?e.SIZE_PREFIX_LENGTH:0;if(i){var r=i;if(this.prep(this.minalign,e.SIZEOF_INT+e.FILE_IDENTIFIER_LENGTH+s),r.length!=e.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+e.FILE_IDENTIFIER_LENGTH);for(var a=e.FILE_IDENTIFIER_LENGTH-1;a>=0;a--)this.writeInt8(r.charCodeAt(a))}this.prep(this.minalign,e.SIZEOF_INT+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},e.Builder.prototype.finishSizePrefixed=function(t,e){this.finish(t,e,!0)},e.Builder.prototype.requiredField=function(t,e){var i=this.bb.capacity()-t,n=i-this.bb.readInt32(i);if(!(0!=this.bb.readInt16(n+e)))throw new Error("FlatBuffers: field "+e+" must be set")},e.Builder.prototype.startVector=function(t,i,n){this.notNested(),this.vector_num_elems=i,this.prep(e.SIZEOF_INT,t*i),this.prep(n,t*i)},e.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},e.Builder.prototype.createString=function(t){if(t instanceof Uint8Array)var e=t;else{e=[];for(var i=0;i<t.length;){var n,s=t.charCodeAt(i++);if(s<55296||s>=56320)n=s;else n=(s<<10)+t.charCodeAt(i++)+-56613888;n<128?e.push(n):(n<2048?e.push(n>>6&31|192):(n<65536?e.push(n>>12&15|224):e.push(n>>18&7|240,n>>12&63|128),e.push(n>>6&63|128)),e.push(63&n|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);i=0;for(var r=this.space,a=this.bb.bytes();i<e.length;i++)a[r++]=e[i];return this.endVector()},e.Builder.prototype.createLong=function(t,i){return e.Long.create(t,i)},e.ByteBuffer=function(t){this.bytes_=t,this.position_=0},e.ByteBuffer.allocate=function(t){return new e.ByteBuffer(new Uint8Array(t))},e.ByteBuffer.prototype.clear=function(){this.position_=0},e.ByteBuffer.prototype.bytes=function(){return this.bytes_},e.ByteBuffer.prototype.position=function(){return this.position_},e.ByteBuffer.prototype.setPosition=function(t){this.position_=t},e.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},e.ByteBuffer.prototype.readInt8=function(t){return this.readUint8(t)<<24>>24},e.ByteBuffer.prototype.readUint8=function(t){return this.bytes_[t]},e.ByteBuffer.prototype.readInt16=function(t){return this.readUint16(t)<<16>>16},e.ByteBuffer.prototype.readUint16=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8},e.ByteBuffer.prototype.readInt32=function(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24},e.ByteBuffer.prototype.readUint32=function(t){return this.readInt32(t)>>>0},e.ByteBuffer.prototype.readInt64=function(t){return new e.Long(this.readInt32(t),this.readInt32(t+4))},e.ByteBuffer.prototype.readUint64=function(t){return new e.Long(this.readUint32(t),this.readUint32(t+4))},e.ByteBuffer.prototype.readFloat32=function(t){return e.int32[0]=this.readInt32(t),e.float32[0]},e.ByteBuffer.prototype.readFloat64=function(t){return e.int32[e.isLittleEndian?0:1]=this.readInt32(t),e.int32[e.isLittleEndian?1:0]=this.readInt32(t+4),e.float64[0]},e.ByteBuffer.prototype.writeInt8=function(t,e){this.bytes_[t]=e},e.ByteBuffer.prototype.writeUint8=function(t,e){this.bytes_[t]=e},e.ByteBuffer.prototype.writeInt16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},e.ByteBuffer.prototype.writeUint16=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8},e.ByteBuffer.prototype.writeInt32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},e.ByteBuffer.prototype.writeUint32=function(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24},e.ByteBuffer.prototype.writeInt64=function(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)},e.ByteBuffer.prototype.writeUint64=function(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)},e.ByteBuffer.prototype.writeFloat32=function(t,i){e.float32[0]=i,this.writeInt32(t,e.int32[0])},e.ByteBuffer.prototype.writeFloat64=function(t,i){e.float64[0]=i,this.writeInt32(t,e.int32[e.isLittleEndian?0:1]),this.writeInt32(t+4,e.int32[e.isLittleEndian?1:0])},e.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+e.SIZEOF_INT+e.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var t="",i=0;i<e.FILE_IDENTIFIER_LENGTH;i++)t+=String.fromCharCode(this.readInt8(this.position_+e.SIZEOF_INT+i));return t},e.ByteBuffer.prototype.__offset=function(t,e){var i=t-this.readInt32(t);return e<this.readInt16(i)?this.readInt16(i+e):0},e.ByteBuffer.prototype.__union=function(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t},e.ByteBuffer.prototype.__string=function(t,i){t+=this.readInt32(t);var n=this.readInt32(t),s="",r=0;if(t+=e.SIZEOF_INT,i===e.Encoding.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){var a,o=this.readUint8(t+r++);if(o<192)a=o;else{var b=this.readUint8(t+r++);if(o<224)a=(31&o)<<6|63&b;else{var f=this.readUint8(t+r++);if(o<240)a=(15&o)<<12|(63&b)<<6|63&f;else a=(7&o)<<18|(63&b)<<12|(63&f)<<6|63&this.readUint8(t+r++)}}a<65536?s+=String.fromCharCode(a):(a-=65536,s+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return s},e.ByteBuffer.prototype.__indirect=function(t){return t+this.readInt32(t)},e.ByteBuffer.prototype.__vector=function(t){return t+this.readInt32(t)+e.SIZEOF_INT},e.ByteBuffer.prototype.__vector_len=function(t){return this.readInt32(t+this.readInt32(t))},e.ByteBuffer.prototype.__has_identifier=function(t){if(t.length!=e.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+e.FILE_IDENTIFIER_LENGTH);for(var i=0;i<e.FILE_IDENTIFIER_LENGTH;i++)if(t.charCodeAt(i)!=this.readInt8(this.position_+e.SIZEOF_INT+i))return!1;return!0},e.ByteBuffer.prototype.createLong=function(t,i){return e.Long.create(t,i)},function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.SsPartType||(e.SsPartType={}))[i.Invalid=-1]="Invalid",i[i.Nulltype=0]="Nulltype",i[i.Normal=1]="Normal",i[i.Text=2]="Text",i[i.Instance=3]="Instance",i[i.Armature=4]="Armature",i[i.Effect=5]="Effect",i[i.Mesh=6]="Mesh",i[i.Movenode=7]="Movenode",i[i.Constraint=8]="Constraint",i[i.Mask=9]="Mask",i[i.Joint=10]="Joint",i[i.Bonepoint=11]="Bonepoint"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.PART_FLAG||(e.PART_FLAG={}))[i.INVISIBLE=1]="INVISIBLE",i[i.FLIP_H=2]="FLIP_H",i[i.FLIP_V=4]="FLIP_V",i[i.CELL_INDEX=8]="CELL_INDEX",i[i.POSITION_X=16]="POSITION_X",i[i.POSITION_Y=32]="POSITION_Y",i[i.POSITION_Z=64]="POSITION_Z",i[i.PIVOT_X=128]="PIVOT_X",i[i.PIVOT_Y=256]="PIVOT_Y",i[i.ROTATIONX=512]="ROTATIONX",i[i.ROTATIONY=1024]="ROTATIONY",i[i.ROTATIONZ=2048]="ROTATIONZ",i[i.SCALE_X=4096]="SCALE_X",i[i.SCALE_Y=8192]="SCALE_Y",i[i.LOCALSCALE_X=16384]="LOCALSCALE_X",i[i.LOCALSCALE_Y=32768]="LOCALSCALE_Y",i[i.OPACITY=65536]="OPACITY",i[i.LOCALOPACITY=131072]="LOCALOPACITY",i[i.PARTS_COLOR=262144]="PARTS_COLOR",i[i.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",i[i.SIZE_X=1048576]="SIZE_X",i[i.SIZE_Y=2097152]="SIZE_Y",i[i.U_MOVE=4194304]="U_MOVE",i[i.V_MOVE=8388608]="V_MOVE",i[i.UV_ROTATION=16777216]="UV_ROTATION",i[i.U_SCALE=33554432]="U_SCALE",i[i.V_SCALE=67108864]="V_SCALE",i[i.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",i[i.MASK=268435456]="MASK",i[i.PRIORITY=536870912]="PRIORITY",i[i.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",i[i.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.PART_FLAG2||(e.PART_FLAG2={}))[i.MESHDATA=1]="MESHDATA"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.VERTEX_FLAG||(e.VERTEX_FLAG={}))[i.LT=1]="LT",i[i.RT=2]="RT",i[i.LB=4]="LB",i[i.RB=8]="RB",i[i.ONE=16]="ONE"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.EffectNodeBehavior||(e.EffectNodeBehavior={}))[i.NONE=0]="NONE",i[i.EffectParticleElementBasic=1]="EffectParticleElementBasic",i[i.EffectParticleElementRndSeedChange=2]="EffectParticleElementRndSeedChange",i[i.EffectParticleElementDelay=3]="EffectParticleElementDelay",i[i.EffectParticleElementGravity=4]="EffectParticleElementGravity",i[i.EffectParticleElementPosition=5]="EffectParticleElementPosition",i[i.EffectParticleElementRotation=6]="EffectParticleElementRotation",i[i.EffectParticleElementRotationTrans=7]="EffectParticleElementRotationTrans",i[i.EffectParticleElementTransSpeed=8]="EffectParticleElementTransSpeed",i[i.EffectParticleElementTangentialAcceleration=9]="EffectParticleElementTangentialAcceleration",i[i.EffectParticleElementInitColor=10]="EffectParticleElementInitColor",i[i.EffectParticleElementTransColor=11]="EffectParticleElementTransColor",i[i.EffectParticleElementAlphaFade=12]="EffectParticleElementAlphaFade",i[i.EffectParticleElementSize=13]="EffectParticleElementSize",i[i.EffectParticleElementTransSize=14]="EffectParticleElementTransSize",i[i.EffectParticlePointGravity=15]="EffectParticlePointGravity",i[i.EffectParticleTurnToDirectionEnabled=16]="EffectParticleTurnToDirectionEnabled",i[i.EffectParticleInfiniteEmitEnabled=17]="EffectParticleInfiniteEmitEnabled"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),(i=e.userDataValue||(e.userDataValue={}))[i.NONE=0]="NONE",i[i.userDataInteger=1]="userDataInteger",i[i.userDataRect=2]="userDataRect",i[i.userDataPoint=3]="userDataPoint",i[i.userDataString=4]="userDataString"}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.flag=function(){return this.bb.readInt32(this.bb_pos)},t.createEffectParticleInfiniteEmitEnabled=function(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()},t}(),e.EffectParticleInfiniteEmitEnabled=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.Rotation=function(){return this.bb.readFloat32(this.bb_pos)},t.createEffectParticleTurnToDirectionEnabled=function(t,e){return t.prep(4,4),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleTurnToDirectionEnabled=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.PositionX=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.PositionY=function(){return this.bb.readFloat32(this.bb_pos+4)},t.prototype.Power=function(){return this.bb.readFloat32(this.bb_pos+8)},t.createEffectParticlePointGravity=function(t,e,i,n){return t.prep(4,12),t.writeFloat32(n),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticlePointGravity=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.SizeXMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.SizeXMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.prototype.SizeYMinValue=function(){return this.bb.readFloat32(this.bb_pos+8)},t.prototype.SizeYMaxValue=function(){return this.bb.readFloat32(this.bb_pos+12)},t.prototype.ScaleFactorMinValue=function(){return this.bb.readFloat32(this.bb_pos+16)},t.prototype.ScaleFactorMaxValue=function(){return this.bb.readFloat32(this.bb_pos+20)},t.createEffectParticleElementTransSize=function(t,e,i,n,s,r,a){return t.prep(4,24),t.writeFloat32(a),t.writeFloat32(r),t.writeFloat32(s),t.writeFloat32(n),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementTransSize=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.SizeXMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.SizeXMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.prototype.SizeYMinValue=function(){return this.bb.readFloat32(this.bb_pos+8)},t.prototype.SizeYMaxValue=function(){return this.bb.readFloat32(this.bb_pos+12)},t.prototype.ScaleFactorMinValue=function(){return this.bb.readFloat32(this.bb_pos+16)},t.prototype.ScaleFactorMaxValue=function(){return this.bb.readFloat32(this.bb_pos+20)},t.createEffectParticleElementSize=function(t,e,i,n,s,r,a){return t.prep(4,24),t.writeFloat32(a),t.writeFloat32(r),t.writeFloat32(s),t.writeFloat32(n),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementSize=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.disprangeMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.disprangeMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.createEffectParticleElementAlphaFade=function(t,e,i){return t.prep(4,8),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementAlphaFade=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.ColorMinValue=function(){return this.bb.readUint32(this.bb_pos)},t.prototype.ColorMaxValue=function(){return this.bb.readUint32(this.bb_pos+4)},t.createEffectParticleElementTransColor=function(t,e,i){return t.prep(4,8),t.writeInt32(i),t.writeInt32(e),t.offset()},t}(),e.EffectParticleElementTransColor=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.ColorMinValue=function(){return this.bb.readUint32(this.bb_pos)},t.prototype.ColorMaxValue=function(){return this.bb.readUint32(this.bb_pos+4)},t.createEffectParticleElementInitColor=function(t,e,i){return t.prep(4,8),t.writeInt32(i),t.writeInt32(e),t.offset()},t}(),e.EffectParticleElementInitColor=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.AccelerationMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.AccelerationMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.createEffectParticleElementTangentialAcceleration=function(t,e,i){return t.prep(4,8),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementTangentialAcceleration=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.SpeedMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.SpeedMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.createEffectParticleElementTransSpeed=function(t,e,i){return t.prep(4,8),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementTransSpeed=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.RotationFactor=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.EndLifeTimePer=function(){return this.bb.readFloat32(this.bb_pos+4)},t.createEffectParticleElementRotationTrans=function(t,e,i){return t.prep(4,8),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementRotationTrans=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.RotationMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.RotationMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.prototype.RotationAddMinValue=function(){return this.bb.readFloat32(this.bb_pos+8)},t.prototype.RotationAddMaxValue=function(){return this.bb.readFloat32(this.bb_pos+12)},t.createEffectParticleElementRotation=function(t,e,i,n,s){return t.prep(4,16),t.writeFloat32(s),t.writeFloat32(n),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementRotation=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.OffsetXMinValue=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.OffsetXMaxValue=function(){return this.bb.readFloat32(this.bb_pos+4)},t.prototype.OffsetYMinValue=function(){return this.bb.readFloat32(this.bb_pos+8)},t.prototype.OffsetYMaxValue=function(){return this.bb.readFloat32(this.bb_pos+12)},t.createEffectParticleElementPosition=function(t,e,i,n,s){return t.prep(4,16),t.writeFloat32(s),t.writeFloat32(n),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementPosition=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.GravityX=function(){return this.bb.readFloat32(this.bb_pos)},t.prototype.GravityY=function(){return this.bb.readFloat32(this.bb_pos+4)},t.createEffectParticleElementGravity=function(t,e,i){return t.prep(4,8),t.writeFloat32(i),t.writeFloat32(e),t.offset()},t}(),e.EffectParticleElementGravity=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.DelayTime=function(){return this.bb.readInt32(this.bb_pos)},t.createEffectParticleElementDelay=function(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()},t}(),e.EffectParticleElementDelay=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.Seed=function(){return this.bb.readInt32(this.bb_pos)},t.createEffectParticleElementRndSeedChange=function(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()},t}(),e.EffectParticleElementRndSeedChange=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.SsEffectFunctionType=function(){return this.bb.readInt32(this.bb_pos)},t.prototype.priority=function(){return this.bb.readInt32(this.bb_pos+4)},t.prototype.maximumParticle=function(){return this.bb.readInt32(this.bb_pos+8)},t.prototype.attimeCreate=function(){return this.bb.readInt32(this.bb_pos+12)},t.prototype.interval=function(){return this.bb.readInt32(this.bb_pos+16)},t.prototype.lifetime=function(){return this.bb.readInt32(this.bb_pos+20)},t.prototype.speedMinValue=function(){return this.bb.readFloat32(this.bb_pos+24)},t.prototype.speedMaxValue=function(){return this.bb.readFloat32(this.bb_pos+28)},t.prototype.lifespanMinValue=function(){return this.bb.readInt32(this.bb_pos+32)},t.prototype.lifespanMaxValue=function(){return this.bb.readInt32(this.bb_pos+36)},t.prototype.angle=function(){return this.bb.readFloat32(this.bb_pos+40)},t.prototype.angleVariance=function(){return this.bb.readFloat32(this.bb_pos+44)},t.createEffectParticleElementBasic=function(t,e,i,n,s,r,a,o,b,f,c,u,l){return t.prep(4,48),t.writeFloat32(l),t.writeFloat32(u),t.writeInt32(c),t.writeInt32(f),t.writeFloat32(b),t.writeFloat32(o),t.writeInt32(a),t.writeInt32(r),t.writeInt32(s),t.writeInt32(n),t.writeInt32(i),t.writeInt32(e),t.offset()},t}(),e.EffectParticleElementBasic=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsEffectNode=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsEffectNode=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.arrayIndex=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.parentIndex=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.type=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.cellIndex=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.blendType=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.numBehavior=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.BehaviorType=function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0},t.prototype.BehaviorTypeLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.BehaviorTypeArray=function(){var t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.prototype.Behavior=function(t,e){var i=this.bb.__offset(this.bb_pos,18);return i?this.bb.__union(e,this.bb.__vector(this.bb_pos+i)+4*t):null},t.prototype.BehaviorLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0},t.startEffectNode=function(t){t.startObject(8)},t.addArrayIndex=function(t,e){t.addFieldInt16(0,e,0)},t.addParentIndex=function(t,e){t.addFieldInt16(1,e,0)},t.addType=function(t,e){t.addFieldInt16(2,e,0)},t.addCellIndex=function(t,e){t.addFieldInt16(3,e,0)},t.addBlendType=function(t,e){t.addFieldInt16(4,e,0)},t.addNumBehavior=function(t,e){t.addFieldInt16(5,e,0)},t.addBehaviorType=function(t,e){t.addFieldOffset(6,e,0)},t.createBehaviorTypeVector=function(t,e){t.startVector(1,e.length,1);for(var i=e.length-1;i>=0;i--)t.addInt8(e[i]);return t.endVector()},t.startBehaviorTypeVector=function(t,e){t.startVector(1,e,1)},t.addBehavior=function(t,e){t.addFieldOffset(7,e,0)},t.createBehaviorVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},t.startBehaviorVector=function(t,e){t.startVector(4,e,4)},t.endEffectNode=function(t){return t.endObject()},t.createEffectNode=function(e,i,n,s,r,a,o,b,f){return t.startEffectNode(e),t.addArrayIndex(e,i),t.addParentIndex(e,n),t.addType(e,s),t.addCellIndex(e,r),t.addBlendType(e,a),t.addNumBehavior(e,o),t.addBehaviorType(e,b),t.addBehavior(e,f),t.endEffectNode(e)},t}(),e.EffectNode=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsEffectFile=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsEffectFile=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.fps=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.isLockRandSeed=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.lockRandSeed=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.layoutScaleX=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.layoutScaleY=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.numNodeList=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.effectNode=function(e,i){var n=this.bb.__offset(this.bb_pos,18);return n?(i||new t.ssfb.EffectNode).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.effectNodeLength=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startEffectFile=function(t){t.startObject(8)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addFps=function(t,e){t.addFieldInt16(1,e,0)},e.addIsLockRandSeed=function(t,e){t.addFieldInt16(2,e,0)},e.addLockRandSeed=function(t,e){t.addFieldInt16(3,e,0)},e.addLayoutScaleX=function(t,e){t.addFieldInt16(4,e,0)},e.addLayoutScaleY=function(t,e){t.addFieldInt16(5,e,0)},e.addNumNodeList=function(t,e){t.addFieldInt16(6,e,0)},e.addEffectNode=function(t,e){t.addFieldOffset(7,e,0)},e.createEffectNodeVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startEffectNodeVector=function(t,e){t.startVector(4,e,4)},e.endEffectFile=function(t){return t.endObject()},e.createEffectFile=function(t,i,n,s,r,a,o,b,f){return e.startEffectFile(t),e.addName(t,i),e.addFps(t,n),e.addIsLockRandSeed(t,s),e.addLockRandSeed(t,r),e.addLayoutScaleX(t,a),e.addLayoutScaleY(t,o),e.addNumNodeList(t,b),e.addEffectNode(t,f),e.endEffectFile(t)},e}(),e.EffectFile=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsCellMap=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsCellMap=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},t.prototype.imagePath=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},t.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.wrapmode=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.filtermode=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},t.startCellMap=function(t){t.startObject(5)},t.addName=function(t,e){t.addFieldOffset(0,e,0)},t.addImagePath=function(t,e){t.addFieldOffset(1,e,0)},t.addIndex=function(t,e){t.addFieldInt16(2,e,0)},t.addWrapmode=function(t,e){t.addFieldInt16(3,e,0)},t.addFiltermode=function(t,e){t.addFieldInt16(4,e,0)},t.endCellMap=function(t){return t.endObject()},t.createCellMap=function(e,i,n,s,r,a){return t.startCellMap(e),t.addName(e,i),t.addImagePath(e,n),t.addIndex(e,s),t.addWrapmode(e,r),t.addFiltermode(e,a),t.endCellMap(e)},t}(),e.CellMap=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsCell=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsCell=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.cellMap=function(e){var i=this.bb.__offset(this.bb_pos,6);return i?(e||new t.ssfb.CellMap).__init(this.bb.__indirect(this.bb_pos+i),this.bb):null},e.prototype.indexInCellMap=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.x=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.y=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.width=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.height=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.pivotX=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.pivotY=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.u1=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.v1=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.u2=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.v2=function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0},e.startCell=function(t){t.startObject(13)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addCellMap=function(t,e){t.addFieldOffset(1,e,0)},e.addIndexInCellMap=function(t,e){t.addFieldInt16(2,e,0)},e.addX=function(t,e){t.addFieldInt16(3,e,0)},e.addY=function(t,e){t.addFieldInt16(4,e,0)},e.addWidth=function(t,e){t.addFieldInt16(5,e,0)},e.addHeight=function(t,e){t.addFieldInt16(6,e,0)},e.addPivotX=function(t,e){t.addFieldFloat32(7,e,0)},e.addPivotY=function(t,e){t.addFieldFloat32(8,e,0)},e.addU1=function(t,e){t.addFieldFloat32(9,e,0)},e.addV1=function(t,e){t.addFieldFloat32(10,e,0)},e.addU2=function(t,e){t.addFieldFloat32(11,e,0)},e.addV2=function(t,e){t.addFieldFloat32(12,e,0)},e.endCell=function(t){return t.endObject()},e.createCell=function(t,i,n,s,r,a,o,b,f,c,u,l,h,p){return e.startCell(t),e.addName(t,i),e.addCellMap(t,n),e.addIndexInCellMap(t,s),e.addX(t,r),e.addY(t,a),e.addWidth(t,o),e.addHeight(t,b),e.addPivotX(t,f),e.addPivotY(t,c),e.addU1(t,u),e.addV1(t,l),e.addU2(t,h),e.addV2(t,p),e.endCell(t)},e}(),e.Cell=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsmeshDataUV=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsmeshDataUV=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.uv=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0},t.prototype.uvLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.uvArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.startmeshDataUV=function(t){t.startObject(1)},t.addUv=function(t,e){t.addFieldOffset(0,e,0)},t.createUvVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addFloat32(e[i]);return t.endVector()},t.startUvVector=function(t,e){t.startVector(4,e,4)},t.endmeshDataUV=function(t){return t.endObject()},t.createmeshDataUV=function(e,i){return t.startmeshDataUV(e),t.addUv(e,i),t.endmeshDataUV(e)},t}(),e.meshDataUV=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsmeshDataIndices=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsmeshDataIndices=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.indices=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0},t.prototype.indicesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.indicesArray=function(){var t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.startmeshDataIndices=function(t){t.startObject(1)},t.addIndices=function(t,e){t.addFieldOffset(0,e,0)},t.createIndicesVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addFloat32(e[i]);return t.endVector()},t.startIndicesVector=function(t,e){t.startVector(4,e,4)},t.endmeshDataIndices=function(t){return t.endObject()},t.createmeshDataIndices=function(e,i){return t.startmeshDataIndices(e),t.addIndices(e,i),t.endmeshDataIndices(e)},t}(),e.meshDataIndices=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAspartState=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAspartState=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.flag1=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0},t.prototype.flag2=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0},t.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0},t.prototype.dataLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.dataArray=function(){var t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.startpartState=function(t){t.startObject(4)},t.addIndex=function(t,e){t.addFieldInt16(0,e,0)},t.addFlag1=function(t,e){t.addFieldInt32(1,e,0)},t.addFlag2=function(t,e){t.addFieldInt32(2,e,0)},t.addData=function(t,e){t.addFieldOffset(3,e,0)},t.createDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addInt32(e[i]);return t.endVector()},t.startDataVector=function(t,e){t.startVector(4,e,4)},t.endpartState=function(t){return t.endObject()},t.createpartState=function(e,i,n,s,r){return t.startpartState(e),t.addIndex(e,i),t.addFlag1(e,n),t.addFlag2(e,s),t.addData(e,r),t.endpartState(e)},t}(),e.partState=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsframeDataIndex=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsframeDataIndex=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.states=function(e,i){var n=this.bb.__offset(this.bb_pos,4);return n?(i||new t.ssfb.partState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.statesLength=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startframeDataIndex=function(t){t.startObject(1)},e.addStates=function(t,e){t.addFieldOffset(0,e,0)},e.createStatesVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startStatesVector=function(t,e){t.startVector(4,e,4)},e.endframeDataIndex=function(t){return t.endObject()},e.createframeDataIndex=function(t,i){return e.startframeDataIndex(t),e.addStates(t,i),e.endframeDataIndex(t)},e}(),e.frameDataIndex=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.integer=function(){return this.bb.readInt32(this.bb_pos)},t.createuserDataInteger=function(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()},t}(),e.userDataInteger=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.x=function(){return this.bb.readInt32(this.bb_pos)},t.prototype.y=function(){return this.bb.readInt32(this.bb_pos+4)},t.prototype.w=function(){return this.bb.readInt32(this.bb_pos+8)},t.prototype.h=function(){return this.bb.readInt32(this.bb_pos+12)},t.createuserDataRect=function(t,e,i,n,s){return t.prep(4,16),t.writeInt32(s),t.writeInt32(n),t.writeInt32(i),t.writeInt32(e),t.offset()},t}(),e.userDataRect=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.prototype.x=function(){return this.bb.readInt32(this.bb_pos)},t.prototype.y=function(){return this.bb.readInt32(this.bb_pos+4)},t.createuserDataPoint=function(t,e,i){return t.prep(4,8),t.writeInt32(i),t.writeInt32(e),t.offset()},t}(),e.userDataPoint=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsuserDataString=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsuserDataString=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.length=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.data=function(t){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null},t.startuserDataString=function(t){t.startObject(2)},t.addLength=function(t,e){t.addFieldInt32(0,e,0)},t.addData=function(t,e){t.addFieldOffset(1,e,0)},t.enduserDataString=function(t){return t.endObject()},t.createuserDataString=function(e,i,n){return t.startuserDataString(e),t.addLength(e,i),t.addData(e,n),t.enduserDataString(e)},t}(),e.userDataString=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsuserDataItem=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsuserDataItem=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.flags=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.arrayIndex=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.dataType=function(t){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0},t.prototype.dataTypeLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},t.prototype.dataTypeArray=function(){var t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null},t.prototype.data=function(t,e){var i=this.bb.__offset(this.bb_pos,10);return i?this.bb.__union(e,this.bb.__vector(this.bb_pos+i)+4*t):null},t.prototype.dataLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},t.startuserDataItem=function(t){t.startObject(4)},t.addFlags=function(t,e){t.addFieldInt16(0,e,0)},t.addArrayIndex=function(t,e){t.addFieldInt16(1,e,0)},t.addDataType=function(t,e){t.addFieldOffset(2,e,0)},t.createDataTypeVector=function(t,e){t.startVector(1,e.length,1);for(var i=e.length-1;i>=0;i--)t.addInt8(e[i]);return t.endVector()},t.startDataTypeVector=function(t,e){t.startVector(1,e,1)},t.addData=function(t,e){t.addFieldOffset(3,e,0)},t.createDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},t.startDataVector=function(t,e){t.startVector(4,e,4)},t.enduserDataItem=function(t){return t.endObject()},t.createuserDataItem=function(e,i,n,s,r){return t.startuserDataItem(e),t.addFlags(e,i),t.addArrayIndex(e,n),t.addDataType(e,s),t.addData(e,r),t.enduserDataItem(e)},t}(),e.userDataItem=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsuserDataPerFrame=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsuserDataPerFrame=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.frameIndex=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.data=function(e,i){var n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.ssfb.userDataItem).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.dataLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startuserDataPerFrame=function(t){t.startObject(2)},e.addFrameIndex=function(t,e){t.addFieldInt16(0,e,0)},e.addData=function(t,e){t.addFieldOffset(1,e,0)},e.createDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startDataVector=function(t,e){t.startVector(4,e,4)},e.enduserDataPerFrame=function(t){return t.endObject()},e.createuserDataPerFrame=function(t,i,n){return e.startuserDataPerFrame(t),e.addFrameIndex(t,i),e.addData(t,n),e.enduserDataPerFrame(t)},e}(),e.userDataPerFrame=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAslabelDataItem=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAslabelDataItem=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.label=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},t.prototype.frameIndex=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0},t.startlabelDataItem=function(t){t.startObject(2)},t.addLabel=function(t,e){t.addFieldOffset(0,e,0)},t.addFrameIndex=function(t,e){t.addFieldInt16(1,e,0)},t.endlabelDataItem=function(t){return t.endObject()},t.createlabelDataItem=function(e,i,n){return t.startlabelDataItem(e),t.addLabel(e,i),t.addFrameIndex(e,n),t.endlabelDataItem(e)},t}(),e.labelDataItem=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsAnimationData=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsAnimationData=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.defaultData=function(e,i){var n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.ssfb.AnimationInitialData).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.defaultDataLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.frameData=function(e,i){var n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.ssfb.frameDataIndex).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.frameDataLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.userData=function(e,i){var n=this.bb.__offset(this.bb_pos,10);return n?(i||new t.ssfb.userDataPerFrame).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.userDataLength=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.labelData=function(e,i){var n=this.bb.__offset(this.bb_pos,12);return n?(i||new t.ssfb.labelDataItem).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.labelDataLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.meshsDataUV=function(e,i){var n=this.bb.__offset(this.bb_pos,14);return n?(i||new t.ssfb.meshDataUV).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.meshsDataUVLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.meshsDataIndices=function(e,i){var n=this.bb.__offset(this.bb_pos,16);return n?(i||new t.ssfb.meshDataIndices).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.meshsDataIndicesLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.startFrames=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.endFrames=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.totalFrames=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.fps=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.labelNum=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.canvasSizeW=function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.canvasSizeH=function(){var t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.canvasPvotX=function(){var t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0},e.prototype.canvasPvotY=function(){var t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0},e.startAnimationData=function(t){t.startObject(16)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addDefaultData=function(t,e){t.addFieldOffset(1,e,0)},e.createDefaultDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startDefaultDataVector=function(t,e){t.startVector(4,e,4)},e.addFrameData=function(t,e){t.addFieldOffset(2,e,0)},e.createFrameDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startFrameDataVector=function(t,e){t.startVector(4,e,4)},e.addUserData=function(t,e){t.addFieldOffset(3,e,0)},e.createUserDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startUserDataVector=function(t,e){t.startVector(4,e,4)},e.addLabelData=function(t,e){t.addFieldOffset(4,e,0)},e.createLabelDataVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startLabelDataVector=function(t,e){t.startVector(4,e,4)},e.addMeshsDataUV=function(t,e){t.addFieldOffset(5,e,0)},e.createMeshsDataUVVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startMeshsDataUVVector=function(t,e){t.startVector(4,e,4)},e.addMeshsDataIndices=function(t,e){t.addFieldOffset(6,e,0)},e.createMeshsDataIndicesVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startMeshsDataIndicesVector=function(t,e){t.startVector(4,e,4)},e.addStartFrames=function(t,e){t.addFieldInt16(7,e,0)},e.addEndFrames=function(t,e){t.addFieldInt16(8,e,0)},e.addTotalFrames=function(t,e){t.addFieldInt16(9,e,0)},e.addFps=function(t,e){t.addFieldInt16(10,e,0)},e.addLabelNum=function(t,e){t.addFieldInt16(11,e,0)},e.addCanvasSizeW=function(t,e){t.addFieldInt16(12,e,0)},e.addCanvasSizeH=function(t,e){t.addFieldInt16(13,e,0)},e.addCanvasPvotX=function(t,e){t.addFieldFloat32(14,e,0)},e.addCanvasPvotY=function(t,e){t.addFieldFloat32(15,e,0)},e.endAnimationData=function(t){return t.endObject()},e.createAnimationData=function(t,i,n,s,r,a,o,b,f,c,u,l,h,p,d,_,y){return e.startAnimationData(t),e.addName(t,i),e.addDefaultData(t,n),e.addFrameData(t,s),e.addUserData(t,r),e.addLabelData(t,a),e.addMeshsDataUV(t,o),e.addMeshsDataIndices(t,b),e.addStartFrames(t,f),e.addEndFrames(t,c),e.addTotalFrames(t,u),e.addFps(t,l),e.addLabelNum(t,h),e.addCanvasSizeW(t,p),e.addCanvasSizeH(t,d),e.addCanvasPvotX(t,_),e.addCanvasPvotY(t,y),e.endAnimationData(t)},e}(),e.AnimationData=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function t(){this.bb=null,this.bb_pos=0}return t.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},t.getRootAsAnimationInitialData=function(e,i){return(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.getSizePrefixedRootAsAnimationInitialData=function(e,i){return e.setPosition(e.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new t).__init(e.readInt32(e.position())+e.position(),e)},t.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.lowflag=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.highflag=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.priority=function(){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.cellIndex=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.opacity=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.localopacity=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.masklimen=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0},t.prototype.positionX=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.positionY=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.positionZ=function(){var t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.pivotX=function(){var t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.pivotY=function(){var t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.rotationX=function(){var t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.rotationY=function(){var t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.rotationZ=function(){var t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.scaleX=function(){var t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.scaleY=function(){var t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.localscaleX=function(){var t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.localscaleY=function(){var t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.sizeX=function(){var t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.sizeY=function(){var t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.uvMoveX=function(){var t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.uvMoveY=function(){var t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.uvRotation=function(){var t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.uvScaleX=function(){var t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.uvScaleY=function(){var t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.boundingRadius=function(){var t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.instanceValueCurKeyframe=function(){var t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.instanceValueStartFrame=function(){var t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.instanceValueEndFrame=function(){var t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.instanceValueLoopNum=function(){var t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.instanceValueSpeed=function(){var t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.instanceValueLoopflag=function(){var t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.effectValueCurKeyframe=function(){var t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.effectValueStartTime=function(){var t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0},t.prototype.effectValueSpeed=function(){var t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0},t.prototype.effectValueLoopflag=function(){var t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0},t.startAnimationInitialData=function(t){t.startObject(38)},t.addIndex=function(t,e){t.addFieldInt16(0,e,0)},t.addLowflag=function(t,e){t.addFieldInt32(1,e,0)},t.addHighflag=function(t,e){t.addFieldInt32(2,e,0)},t.addPriority=function(t,e){t.addFieldInt16(3,e,0)},t.addCellIndex=function(t,e){t.addFieldInt16(4,e,0)},t.addOpacity=function(t,e){t.addFieldInt16(5,e,0)},t.addLocalopacity=function(t,e){t.addFieldInt16(6,e,0)},t.addMasklimen=function(t,e){t.addFieldInt16(7,e,0)},t.addPositionX=function(t,e){t.addFieldFloat32(8,e,0)},t.addPositionY=function(t,e){t.addFieldFloat32(9,e,0)},t.addPositionZ=function(t,e){t.addFieldFloat32(10,e,0)},t.addPivotX=function(t,e){t.addFieldFloat32(11,e,0)},t.addPivotY=function(t,e){t.addFieldFloat32(12,e,0)},t.addRotationX=function(t,e){t.addFieldFloat32(13,e,0)},t.addRotationY=function(t,e){t.addFieldFloat32(14,e,0)},t.addRotationZ=function(t,e){t.addFieldFloat32(15,e,0)},t.addScaleX=function(t,e){t.addFieldFloat32(16,e,0)},t.addScaleY=function(t,e){t.addFieldFloat32(17,e,0)},t.addLocalscaleX=function(t,e){t.addFieldFloat32(18,e,0)},t.addLocalscaleY=function(t,e){t.addFieldFloat32(19,e,0)},t.addSizeX=function(t,e){t.addFieldFloat32(20,e,0)},t.addSizeY=function(t,e){t.addFieldFloat32(21,e,0)},t.addUvMoveX=function(t,e){t.addFieldFloat32(22,e,0)},t.addUvMoveY=function(t,e){t.addFieldFloat32(23,e,0)},t.addUvRotation=function(t,e){t.addFieldFloat32(24,e,0)},t.addUvScaleX=function(t,e){t.addFieldFloat32(25,e,0)},t.addUvScaleY=function(t,e){t.addFieldFloat32(26,e,0)},t.addBoundingRadius=function(t,e){t.addFieldFloat32(27,e,0)},t.addInstanceValueCurKeyframe=function(t,e){t.addFieldInt32(28,e,0)},t.addInstanceValueStartFrame=function(t,e){t.addFieldInt32(29,e,0)},t.addInstanceValueEndFrame=function(t,e){t.addFieldInt32(30,e,0)},t.addInstanceValueLoopNum=function(t,e){t.addFieldInt32(31,e,0)},t.addInstanceValueSpeed=function(t,e){t.addFieldFloat32(32,e,0)},t.addInstanceValueLoopflag=function(t,e){t.addFieldInt32(33,e,0)},t.addEffectValueCurKeyframe=function(t,e){t.addFieldInt32(34,e,0)},t.addEffectValueStartTime=function(t,e){t.addFieldInt32(35,e,0)},t.addEffectValueSpeed=function(t,e){t.addFieldFloat32(36,e,0)},t.addEffectValueLoopflag=function(t,e){t.addFieldInt32(37,e,0)},t.endAnimationInitialData=function(t){return t.endObject()},t.createAnimationInitialData=function(e,i,n,s,r,a,o,b,f,c,u,l,h,p,d,_,y,m,v,I,F,S,P,E,g,A,D,V,T,L,O,w,M,N,R,B,C,x,X){return t.startAnimationInitialData(e),t.addIndex(e,i),t.addLowflag(e,n),t.addHighflag(e,s),t.addPriority(e,r),t.addCellIndex(e,a),t.addOpacity(e,o),t.addLocalopacity(e,b),t.addMasklimen(e,f),t.addPositionX(e,c),t.addPositionY(e,u),t.addPositionZ(e,l),t.addPivotX(e,h),t.addPivotY(e,p),t.addRotationX(e,d),t.addRotationY(e,_),t.addRotationZ(e,y),t.addScaleX(e,m),t.addScaleY(e,v),t.addLocalscaleX(e,I),t.addLocalscaleY(e,F),t.addSizeX(e,S),t.addSizeY(e,P),t.addUvMoveX(e,E),t.addUvMoveY(e,g),t.addUvRotation(e,A),t.addUvScaleX(e,D),t.addUvScaleY(e,V),t.addBoundingRadius(e,T),t.addInstanceValueCurKeyframe(e,L),t.addInstanceValueStartFrame(e,O),t.addInstanceValueEndFrame(e,w),t.addInstanceValueLoopNum(e,M),t.addInstanceValueSpeed(e,N),t.addInstanceValueLoopflag(e,R),t.addEffectValueCurKeyframe(e,B),t.addEffectValueStartTime(e,C),t.addEffectValueSpeed(e,x),t.addEffectValueLoopflag(e,X),t.endAnimationInitialData(e)},t}(),e.AnimationInitialData=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsPartData=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsPartData=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.index=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.parentIndex=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.type=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt8(this.bb_pos+e):t.ssfb.SsPartType.Nulltype},e.prototype.boundsType=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.alphaBlendType=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.refname=function(t){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.effectfilename=function(t){var e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.colorLabel=function(t){var e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.maskInfluence=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0},e.startPartData=function(t){t.startObject(10)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addIndex=function(t,e){t.addFieldInt16(1,e,0)},e.addParentIndex=function(t,e){t.addFieldInt16(2,e,0)},e.addType=function(e,i){e.addFieldInt8(3,i,t.ssfb.SsPartType.Nulltype)},e.addBoundsType=function(t,e){t.addFieldInt16(4,e,0)},e.addAlphaBlendType=function(t,e){t.addFieldInt16(5,e,0)},e.addRefname=function(t,e){t.addFieldOffset(6,e,0)},e.addEffectfilename=function(t,e){t.addFieldOffset(7,e,0)},e.addColorLabel=function(t,e){t.addFieldOffset(8,e,0)},e.addMaskInfluence=function(t,e){t.addFieldInt16(9,e,0)},e.endPartData=function(t){return t.endObject()},e.createPartData=function(t,i,n,s,r,a,o,b,f,c,u){return e.startPartData(t),e.addName(t,i),e.addIndex(t,n),e.addParentIndex(t,s),e.addType(t,r),e.addBoundsType(t,a),e.addAlphaBlendType(t,o),e.addRefname(t,b),e.addEffectfilename(t,f),e.addColorLabel(t,c),e.addMaskInfluence(t,u),e.endPartData(t)},e}(),e.PartData=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsAnimePackData=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsAnimePackData=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.prototype.name=function(t){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.parts=function(e,i){var n=this.bb.__offset(this.bb_pos,6);return n?(i||new t.ssfb.PartData).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.partsLength=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.animations=function(e,i){var n=this.bb.__offset(this.bb_pos,8);return n?(i||new t.ssfb.AnimationData).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.animationsLength=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0},e.startAnimePackData=function(t){t.startObject(3)},e.addName=function(t,e){t.addFieldOffset(0,e,0)},e.addParts=function(t,e){t.addFieldOffset(1,e,0)},e.createPartsVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startPartsVector=function(t,e){t.startVector(4,e,4)},e.addAnimations=function(t,e){t.addFieldOffset(2,e,0)},e.createAnimationsVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startAnimationsVector=function(t,e){t.startVector(4,e,4)},e.endAnimePackData=function(t){return t.endObject()},e.createAnimePackData=function(t,i,n,s){return e.startAnimePackData(t),e.addName(t,i),e.addParts(t,n),e.addAnimations(t,s),e.endAnimePackData(t)},e}(),e.AnimePackData=i}(t||(t={})),function(t){var e,i;e=t.ssfb||(t.ssfb={}),i=function(){function e(){this.bb=null,this.bb_pos=0}return e.prototype.__init=function(t,e){return this.bb_pos=t,this.bb=e,this},e.getRootAsProjectData=function(t,i){return(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.getSizePrefixedRootAsProjectData=function(t,i){return t.setPosition(t.position()+flatbuffers.SIZE_PREFIX_LENGTH),(i||new e).__init(t.readInt32(t.position())+t.position(),t)},e.bufferHasIdentifier=function(t){return t.__has_identifier("SSFB")},e.prototype.dataId=function(){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.version=function(){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.flags=function(){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0},e.prototype.imageBaseDir=function(t){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null},e.prototype.cells=function(e,i){var n=this.bb.__offset(this.bb_pos,12);return n?(i||new t.ssfb.Cell).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.cellsLength=function(){var t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.animePacks=function(e,i){var n=this.bb.__offset(this.bb_pos,14);return n?(i||new t.ssfb.AnimePackData).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.animePacksLength=function(){var t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.effectFileList=function(e,i){var n=this.bb.__offset(this.bb_pos,16);return n?(i||new t.ssfb.EffectFile).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null},e.prototype.effectFileListLength=function(){var t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0},e.prototype.numCells=function(){var t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.numAnimePacks=function(){var t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0},e.prototype.numEffectFileList=function(){var t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0},e.startProjectData=function(t){t.startObject(10)},e.addDataId=function(t,e){t.addFieldInt32(0,e,0)},e.addVersion=function(t,e){t.addFieldInt32(1,e,0)},e.addFlags=function(t,e){t.addFieldInt32(2,e,0)},e.addImageBaseDir=function(t,e){t.addFieldOffset(3,e,0)},e.addCells=function(t,e){t.addFieldOffset(4,e,0)},e.createCellsVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startCellsVector=function(t,e){t.startVector(4,e,4)},e.addAnimePacks=function(t,e){t.addFieldOffset(5,e,0)},e.createAnimePacksVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startAnimePacksVector=function(t,e){t.startVector(4,e,4)},e.addEffectFileList=function(t,e){t.addFieldOffset(6,e,0)},e.createEffectFileListVector=function(t,e){t.startVector(4,e.length,4);for(var i=e.length-1;i>=0;i--)t.addOffset(e[i]);return t.endVector()},e.startEffectFileListVector=function(t,e){t.startVector(4,e,4)},e.addNumCells=function(t,e){t.addFieldInt16(7,e,0)},e.addNumAnimePacks=function(t,e){t.addFieldInt16(8,e,0)},e.addNumEffectFileList=function(t,e){t.addFieldInt16(9,e,0)},e.endProjectData=function(t){return t.endObject()},e.finishProjectDataBuffer=function(t,e){t.finish(e,"SSFB")},e.finishSizePrefixedProjectDataBuffer=function(t,e){t.finish(e,"SSFB",!0)},e.createProjectData=function(t,i,n,s,r,a,o,b,f,c,u){return e.startProjectData(t),e.addDataId(t,i),e.addVersion(t,n),e.addFlags(t,s),e.addImageBaseDir(t,r),e.addCells(t,a),e.addAnimePacks(t,o),e.addEffectFileList(t,b),e.addNumCells(t,f),e.addNumAnimePacks(t,c),e.addNumEffectFileList(t,u),e.endProjectData(t)},e}(),e.ProjectData=i}(t||(t={}));var i=function(){function i(t,e,i,n,s,r,a){if("string"==typeof t){var o=t,b=e,f=void 0!==i?i:0,c=void 0!==n?n:0,u=void 0!==s?s:null,l=void 0!==r?r:null,h=void 0!==a?a:null;this.ssfbPath=o;var p=o.lastIndexOf("/");this.rootPath=o.substring(0,p)+"/",this.status="not ready",this.onComplete=b,this.onError=u,this.onTimeout=l,this.onRetry=h,this.LoadFlatBuffersProject(o,f,c)}else if("object"==typeof t&&t.constructor===Uint8Array){var d=t,_=e;this.onComplete=void 0!==i?i:null,this.load(d,_)}}return i.prototype.LoadFlatBuffersProject=function(i,n,s){void 0===n&&(n=0),void 0===s&&(s=0);var r=this,a=new XMLHttpRequest;a.open("GET",i,!0),a.responseType="arraybuffer",a.timeout=n,a.onload=function(){if(a.status>=200&&a.status<400){var o=this.response,b=new Uint8Array(o),f=new e.ByteBuffer(b);r.fbObj=t.ssfb.ProjectData.getRootAsProjectData(f),r.LoadCellResources()}else null!==r.onError&&r.onError(i,n,s,a)},a.ontimeout=function(){s>0?(null!==r.onRetry&&r.onRetry(i,n,s-1,a),r.LoadFlatBuffersProject(i,n,s-1)):null!==r.onTimeout&&r.onTimeout(i,n,s,a)},a.onerror=function(){null!==r.onError&&r.onError(i,n,s,a)},a.send(null)},i.prototype.LoadCellResources=function(){for(var t=this,e=new PIXI.Loader,i=[],n=function(n){i.some((function(e){return e===t.fbObj.cells(n).cellMap().index()}))||(i.push(t.fbObj.cells(n).cellMap().index()),e.add(t.fbObj.cells(n).cellMap().name(),t.rootPath+s.fbObj.cells(n).cellMap().imagePath()))},s=this,r=0;r<t.fbObj.cellsLength();r++)n(r);e.load((function(e,i){t.resources=i,t.status="ready",null!==t.onComplete&&t.onComplete()}))},i.prototype.load=function(i,n){var s=new e.ByteBuffer(i);this.fbObj=t.ssfb.ProjectData.getRootAsProjectData(s);var r=new PIXI.Loader;for(var a in n){for(var o=n[a],b="",f=o.byteLength,c=0;c<f;c++)b+=String.fromCharCode(o[c]);var u="data:image/png;base64,"+window.btoa(b);r.add(a,u)}var l=this;r.load((function(t,e){l.resources=e,l.status="ready",null!==l.onComplete&&l.onComplete()}))},i}(),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)};
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var s=function(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1},r=function(e){function i(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var s=e.call(this)||this;return s.animation=[],s.curAnimePackName=null,s.curAnimeName=null,s.curAnimation=null,s.curAnimePackData=null,s.parts=-1,s.parentIndex=[],s.prio2index=[],s.userData=[],s.frameDataCache={},s.currentCachedFrameNumber=-1,s.liveFrame=[],s.colorMatrixFilterCache=[],s.defaultFrameMap=[],s.parentAlpha=1,s.prevCellID=[],s.prevMesh=[],s.substituteOverWrite=[],s.substituteKeyParam=[],s.alphaBlendType=[],s._uint32=new Uint32Array(1),s._float32=new Float32Array(s._uint32.buffer),s.defaultColorFilter=new PIXI.filters.ColorMatrixFilter,s.ss6project=t,s.fbObj=s.ss6project.fbObj,s.resources=s.ss6project.resources,s.parentAlpha=1,null!==i&&null!==n&&s.Setup(i,n),PIXI.Ticker.shared.add(s.Update,s),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(i,e),Object.defineProperty(i.prototype,"startFrame",{get:function(){return this._startFrame},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endFrame",{get:function(){return this.curAnimation.endFrames()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalFrame",{get:function(){return this.curAnimation.totalFrames()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fps",{get:function(){return this.curAnimation.fps()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"frameNo",{get:function(){return Math.floor(this._currentFrame)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"loop",{get:function(){return this._loops},set:function(t){this._loops=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPausing",{get:function(){return this._isPausing},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"animePackName",{get:function(){return this.curAnimePackName},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"animeName",{get:function(){return this.curAnimeName},enumerable:!1,configurable:!0}),i.prototype.Setup=function(t,e){this.clearCaches();for(var i=this.fbObj.animePacksLength(),n=0;n<i;n++)if(this.fbObj.animePacks(n).name()===t){var s=void 0,r=this.fbObj.animePacks(n).animationsLength();for(s=0;s<r;s++)if(this.fbObj.animePacks(n).animations(s).name()===e){this.animation=[n,s],this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this.fbObj.animePacks(this.animation[0]),this.curAnimation=this.curAnimePackData.animations(this.animation[1]);break}for(var a=this.curAnimation.defaultDataLength(),o=0;o<a;o++){var b=this.curAnimation.defaultData(o);this.defaultFrameMap[b.index()]=b}this.parts=n;var f=this.fbObj.animePacks(this.parts).partsLength();for(this.parentIndex=new Array(f),this.prevCellID=new Array(f),this.prevMesh=new Array(f),this.substituteOverWrite=new Array(f),this.substituteKeyParam=new Array(f),s=0;s<f;s++){var c=this.fbObj.animePacks(this.parts).parts(s).index();this.parentIndex[c]=this.fbObj.animePacks(n).parts(s).parentIndex(),this.prevCellID[c]=-1,this.prevMesh[c]=null,this.substituteOverWrite[c]=null,this.substituteKeyParam[c]=null}}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.curAnimation.startFrames(),this._endFrame=this.curAnimation.endFrames(),this._currentFrame=this.curAnimation.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.curAnimation.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1},i.prototype.clearCaches=function(){this.prio2index=[],this.userData=[],this.frameDataCache=[],this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[]},i.prototype.Update=function(t){this.UpdateInternal(t)},i.prototype.UpdateInternal=function(t,e){void 0===e&&(e=!0);var i=PIXI.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&0!==this.updateInterval){if(this.nextFrameTime+=i,this.nextFrameTime>=this.updateInterval){var n=!1,s=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*s;var r=this.skipEnabled?s*this.playDirection:this.playDirection,a=this._currentFrame+r,o=Math.floor(a),b=a-o,f=Math.floor(this._currentFrame);if(this.playDirection>=1)for(var c=o-f;c;c--){var u=f+1;if(u>this._endFrame)if(-1===this._loops)u=this._startFrame;else{if(this._loops--,n=!0,0===this._loops){this._isPlaying=!1,u=e?this._startFrame:this._endFrame;break}u=this._startFrame}f=u,this._isPlaying&&this.HaveUserData(f)&&null!==this.onUserDataCallback&&this.onUserDataCallback(this.GetUserData(f))}if(this.playDirection<=-1)for(c=f-o;c;c--){var l=f-1;if(l<this._startFrame)if(-1===this._loops)l=this._endFrame;else{if(this._loops--,n=!0,0===this._loops){this._isPlaying=!1,l=e?this._endFrame:this._startFrame;break}l=this._endFrame}f=l,this._isPlaying&&this.HaveUserData(f)&&null!==this.onUserDataCallback&&this.onUserDataCallback(this.GetUserData(f))}this._currentFrame=f+b,n&&null!==this.playEndCallback&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),s)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))},i.prototype.SetAnimationFramerate=function(t,e){void 0===e&&(e=!0),t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)},i.prototype.SetAnimationSpeed=function(t,e){void 0===e&&(e=!0),0!==t&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.curAnimation.fps()*t*this.playDirection),this.skipEnabled=e)},i.prototype.SetAnimationSection=function(t,e,i){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===i&&(i=-1),t>=0&&t<this.curAnimation.totalFrames()&&(this._startFrame=t),e>=0&&e<this.curAnimation.totalFrames()&&(this._endFrame=e),this._loops=i>0?i:-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame},i.prototype.Play=function(t){this._isPlaying=!0,this._isPausing=!1;var e=this.playDirection>0?this._startFrame:this._endFrame;t&&"number"==typeof t&&(e=t),this._currentFrame=e,this.resetLiveFrame();var i=Math.floor(this._currentFrame);this.SetFrameAnimation(i),this.HaveUserData(i)&&null!==this.onUserDataCallback&&this.onUserDataCallback(this.GetUserData(i))},i.prototype.Pause=function(){this._isPausing=!0},i.prototype.Resume=function(){this._isPausing=!1},i.prototype.Stop=function(){this._isPlaying=!1},i.prototype.SetFrame=function(t){this._currentFrame=t},i.prototype.NextFrame=function(){var t=Math.floor(this._currentFrame);t!==this.endFrame&&this.SetFrame(t+1)},i.prototype.PrevFrame=function(){var t=Math.floor(this._currentFrame);0!==t&&this.SetFrame(t-1)},i.prototype.SetAlpha=function(t){this.parentAlpha=t},i.prototype.ThrowError=function(t){},i.prototype.SetUserDataCalback=function(t){this.onUserDataCallback=t},i.prototype.SetPlayEndCallback=function(t){this.playEndCallback=t},i.prototype.HaveUserData=function(t){if(-1===this.userData[t])return!1;if(this.userData[t])return!0;for(var e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=-1,!1},i.prototype.GetUserData=function(e){if(!1!==this.HaveUserData(e)){for(var i=this.userData[e],n=i.dataLength(),s=0,r=[],a=0;a<n;a++){var o=i.data(a).flags(),b=i.data(a).arrayIndex(),f=null,c=null,u=null,l=null,h=null,p=null,d=null,_=null,y=null;1&o&&(f=i.data(a).data(s,new t.ssfb.userDataInteger).integer(),s++),2&o&&(c=i.data(a).data(s,new t.ssfb.userDataRect).x(),u=i.data(a).data(s,new t.ssfb.userDataRect).y(),l=i.data(a).data(s,new t.ssfb.userDataRect).w(),h=i.data(a).data(s,new t.ssfb.userDataRect).h(),s++),4&o&&(p=i.data(a).data(s,new t.ssfb.userDataPoint).x(),d=i.data(a).data(s,new t.ssfb.userDataPoint).y(),s++),8&o&&(_=i.data(a).data(s,new t.ssfb.userDataString).length(),y=i.data(a).data(s,new t.ssfb.userDataString).data(),s++),r.push([b,o,f,c,u,l,h,p,d,_,y])}return r}},i.prototype.GetPartsBlendMode=function(){for(var t=this.fbObj.animePacks(this.parts).partsLength(),e=[],i=this.fbObj.animePacks(this.parts),n=0;n<t;n++)e.push(i.parts(n).alphaBlendType());return e},i.prototype.I2F=function(t){return this._uint32[0]=t,this._float32[0]},i.prototype.GetFrameData=function(e){if(this.currentCachedFrameNumber===e&&this.frameDataCache)return this.frameDataCache;var i=this.curAnimation.defaultDataLength(),n=new Array(i);this.prio2index=new Array(i);for(var s=this.curAnimation.frameData(e),r=0;r<i;r++){var a=s.states(r),o=a.index(),b=a.flag1(),f=a.flag2(),c=-1,u=this.GetDefaultDataByIndex(o);u.flag1=b,u.flag2=f;var l=0;if(b&t.ssfb.PART_FLAG.INVISIBLE&&(u.f_hide=!0),b&t.ssfb.PART_FLAG.FLIP_H&&(u.f_flipH=!0),b&t.ssfb.PART_FLAG.FLIP_V&&(u.f_flipV=!0),b&t.ssfb.PART_FLAG.CELL_INDEX&&(u.cellIndex=a.data(l++)),b&t.ssfb.PART_FLAG.POSITION_X&&(u.positionX=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.POSITION_Y&&(u.positionY=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.POSITION_Z&&l++,b&t.ssfb.PART_FLAG.PIVOT_X&&(u.pivotX=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.PIVOT_Y&&(u.pivotY=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.ROTATIONX&&l++,b&t.ssfb.PART_FLAG.ROTATIONY&&l++,b&t.ssfb.PART_FLAG.ROTATIONZ&&(u.rotationZ=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.SCALE_X&&(u.scaleX=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.SCALE_Y&&(u.scaleY=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.LOCALSCALE_X&&(u.localscaleX=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.LOCALSCALE_Y&&(u.localscaleY=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.OPACITY&&(u.opacity=a.data(l++)),b&t.ssfb.PART_FLAG.LOCALOPACITY&&(u.localopacity=a.data(l++)),b&t.ssfb.PART_FLAG.SIZE_X&&(u.size_X=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.SIZE_Y&&(u.size_Y=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.U_MOVE&&(u.uv_move_X=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.V_MOVE&&(u.uv_move_Y=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.UV_ROTATION&&(u.uv_rotation=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.U_SCALE&&(u.uv_scale_X=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.V_SCALE&&(u.uv_scale_Y=this.I2F(a.data(l++))),b&t.ssfb.PART_FLAG.BOUNDINGRADIUS&&l++,b&t.ssfb.PART_FLAG.MASK&&(u.masklimen=a.data(l++)),b&t.ssfb.PART_FLAG.PRIORITY&&(u.priority=a.data(l++)),b&t.ssfb.PART_FLAG.INSTANCE_KEYFRAME&&(u.instanceValue_curKeyframe=a.data(l++),u.instanceValue_startFrame=a.data(l++),u.instanceValue_endFrame=a.data(l++),u.instanceValue_loopNum=a.data(l++),u.instanceValue_speed=this.I2F(a.data(l++)),u.instanceValue_loopflag=a.data(l++)),b&t.ssfb.PART_FLAG.EFFECT_KEYFRAME&&(u.effectValue_curKeyframe=a.data(l++),u.effectValue_startTime=a.data(l++),u.effectValue_speed=this.I2F(a.data(l++)),u.effectValue_loopflag=a.data(l++)),b&t.ssfb.PART_FLAG.VERTEX_TRANSFORM)u.f_mesh=!0,1&(h=u.i_transformVerts=a.data(l++))&&(u.u00=this.I2F(a.data(l++)),u.v00=this.I2F(a.data(l++))),2&h&&(u.u01=this.I2F(a.data(l++)),u.v01=this.I2F(a.data(l++))),4&h&&(u.u10=this.I2F(a.data(l++)),u.v10=this.I2F(a.data(l++))),8&h&&(u.u11=this.I2F(a.data(l++)),u.v11=this.I2F(a.data(l++)));if(b&t.ssfb.PART_FLAG.PARTS_COLOR){var h;if(c=255&(h=a.data(l++)),u.useColorMatrix=1!==c,4096&h){var p=this.I2F(a.data(l++)),d=a.data(l++)<<16|a.data(l++);u.partsColorARGB=d>>>0,1===c?u.tint=16777215&d:u.colorMatrix=this.GetColorMatrixFilter(c,p,d)}2048&h&&(l++,l++,l++,u.colorMatrix=this.defaultColorFilter),1024&h&&(l++,l++,l++,u.colorMatrix=this.defaultColorFilter),512&h&&(l++,l++,l++,u.colorMatrix=this.defaultColorFilter),256&h&&(l++,l++,l++,u.colorMatrix=this.defaultColorFilter)}if(f&t.ssfb.PART_FLAG2.MESHDATA){u.meshIsBind=this.curAnimation.meshsDataUV(o).uv(0),u.meshNum=this.curAnimation.meshsDataUV(o).uv(1);for(var _=new Float32Array(3*u.meshNum),y=0;y<u.meshNum;y++){var m=this.I2F(a.data(l++)),v=this.I2F(a.data(l++)),I=this.I2F(a.data(l++));_[3*y+0]=m,_[3*y+1]=v,_[3*y+2]=I}u.meshDataPoint=_}n[o]=u,this.prio2index[r]=o,0===this.fbObj.animePacks(this.parts).parts(o).type()&&(n[o].cellIndex=-2)}return this.frameDataCache=n,this.currentCachedFrameNumber=e,n},i.prototype.GetColorMatrixFilter=function(t,e,i){var n=t.toString()+"_"+e.toString()+"_"+i.toString();if(this.colorMatrixFilterCache[n])return this.colorMatrixFilterCache[n];var s=new PIXI.filters.ColorMatrixFilter,r=((4278190080&i)>>>24)/255,a=((16711680&i)>>>16)/255,o=((65280&i)>>>8)/255,b=(255&i)/255;if(0===t){var f=1-e;s.matrix=[f,0,0,0,a*e,0,f,0,0,o*e,0,0,f,0,b*e,0,0,0,1,0]}else 1===t?s.matrix=[a,0,0,0,0,0,o,0,0,0,0,0,b,0,0,0,0,0,r,0]:2===t?s.matrix=[1,0,0,0,a,0,1,0,0,o,0,0,1,0,b,0,0,0,r,0]:3===t&&(s.matrix=[1,0,0,0,-a,0,1,0,0,-o,0,0,1,0,-b,0,0,0,r,0]);return this.colorMatrixFilterCache[n]=s,s},i.prototype.GetDefaultDataByIndex=function(t){var e=this.defaultFrameMap[t];return{index:e.index(),lowflag:e.lowflag(),highflag:e.highflag(),priority:e.priority(),cellIndex:e.cellIndex(),opacity:e.opacity(),localopacity:e.localopacity(),masklimen:e.masklimen(),positionX:e.positionX(),positionY:e.positionY(),pivotX:e.pivotX(),pivotY:e.pivotY(),rotationX:e.rotationX(),rotationY:e.rotationY(),rotationZ:e.rotationZ(),scaleX:e.scaleX(),scaleY:e.scaleY(),localscaleX:e.localscaleX(),localscaleY:e.localscaleY(),size_X:e.sizeX(),size_Y:e.sizeY(),uv_move_X:e.uvMoveX(),uv_move_Y:e.uvMoveY(),uv_rotation:e.uvRotation(),uv_scale_X:e.uvScaleX(),uv_scale_Y:e.uvScaleY(),boundingRadius:e.boundingRadius(),instanceValue_curKeyframe:e.instanceValueCurKeyframe(),instanceValue_endFrame:e.instanceValueEndFrame(),instanceValue_startFrame:e.instanceValueStartFrame(),instanceValue_loopNum:e.instanceValueLoopNum(),instanceValue_speed:e.instanceValueSpeed(),instanceValue_loopflag:e.instanceValueLoopflag(),effectValue_curKeyframe:e.effectValueCurKeyframe(),effectValue_startTime:e.effectValueStartTime(),effectValue_speed:e.effectValueSpeed(),effectValue_loopflag:e.effectValueLoopflag(),f_hide:!1,f_flipH:!1,f_flipV:!1,f_mesh:!1,i_transformVerts:0,u00:0,v00:0,u01:0,v01:0,u10:0,v10:0,u11:0,v11:0,useColorMatrix:!1,colorMatrix:null,meshIsBind:0,meshNum:0,meshDataPoint:0,flag1:0,flag2:0,partsColorARGB:0}},i.prototype.SetFrameAnimation=function(e,n){void 0===n&&(n=0);var s=this.GetFrameData(e);this.removeChildren();for(var r=s.length,a=0;a<r;a=a+1|0){var o=this.prio2index[a],b=s[o],f=b.cellIndex,c=this.prevMesh[o],u=this.fbObj.animePacks(this.parts).parts(o),l=u.type(),h=null!==this.substituteOverWrite[o]&&this.substituteOverWrite[o],p=this.substituteKeyParam[o];switch(l){case t.ssfb.SsPartType.Instance:null==c&&((c=this.MakeCellPlayer(u.refname())).name=u.name());break;case t.ssfb.SsPartType.Normal:case t.ssfb.SsPartType.Mask:f>=0&&this.prevCellID[o]!==f&&(null!=c&&c.destroy(),(c=this.MakeCellMesh(f)).name=u.name());break;case t.ssfb.SsPartType.Mesh:f>=0&&this.prevCellID[o]!==f&&(null!=c&&c.destroy(),(c=this.MakeMeshCellMesh(o,f)).name=u.name());break;case t.ssfb.SsPartType.Nulltype:case t.ssfb.SsPartType.Joint:this.prevCellID[o]!==f&&(null!=c&&c.destroy(),(c=new PIXI.Container).name=u.name());break;default:f>=0&&this.prevCellID[o]!==f&&(null!=c&&c.destroy(),(c=this.MakeCellMesh(f)).name=u.name())}if(null!=c)switch(this.prevCellID[o]=f,this.prevMesh[o]=c,l){case t.ssfb.SsPartType.Instance:var d=new Float32Array(5);d[0]=0,d[1]=0,d[2]=1,d[3]=1,d[4]=0;var _=(d=this.TransformPositionLocal(d,b.index,e))[4]*Math.PI/180;c.rotation=_,c.position.set(d[0],d[1]),c.scale.set(d[2],d[3]);var y=b.opacity/255;b.localopacity<255&&(y=b.localopacity/255),c.SetAlpha(y*this.parentAlpha),c.visible=!b.f_hide;var m=b.instanceValue_curKeyframe,v=b.instanceValue_startFrame,I=b.instanceValue_endFrame,F=b.instanceValue_speed,S=b.instanceValue_loopNum,P=!1,E=!1,g=!1,A=!1,D=b.instanceValue_loopflag;1&D&&(P=!0),2&D&&(E=!0),4&D&&(g=!0),8&D&&(A=!0),h&&(v=p.refStartframe,I=p.refEndframe,F=p.refSpeed,S=p.refloopNum,P=p.infinity,E=p.reverse,g=p.pingpong,A=p.independent);var V=e;!0===A&&(this.liveFrame[a]+=n,V=Math.floor(this.liveFrame[a]));var T=m,L=Math.floor((V-T)*F);if(L<0)continue;if(T>V)continue;var O=I-v+1;if(O<=0)continue;var w=Math.floor(L/O),M=S;g&&(M*=2),P||w>=M&&(L=O-1,w=M-1);var N=Math.floor(L%O),R=0;g&&w%2==1&&(E=!E),this.playDirection<=-1&&(E=!E),R=E?I-N:N+v,c.SetFrame(Math.floor(R)),this.addChild(c);break;case t.ssfb.SsPartType.Normal:case t.ssfb.SsPartType.Mesh:case t.ssfb.SsPartType.Joint:case t.ssfb.SsPartType.Mask:var B=this.fbObj.cells(f),C=void 0;if(C=l===t.ssfb.SsPartType.Mesh?0===b.meshIsBind?this.TransformMeshVertsLocal(i.GetMeshVerts(B,b),b.index,e):i.GetMeshVerts(B,b):this.TransformVertsLocal(i.GetVerts(B,b),b.index,e),b.flag1&t.ssfb.PART_FLAG.VERTEX_TRANSFORM){var x=C[6],X=C[7],k=C[2],G=C[3],Y=C[8],U=C[9],j=C[4],z=C[5],Z=.5*(x+Y),H=.5*(X+U),W=.5*(x+k),K=.5*(X+G),$=.5*(k+j),q=.5*(G+z),J=.5*(Y+j),Q=.5*(U+z),tt=i.CoordinateGetDiagonalIntersection(C[0],C[1],Z,H,J,Q,W,K,$,q);C[0]=tt[0],C[1]=tt[1]}for(var et=C[0],it=C[1],nt=0;nt<C.length/2;nt++)C[2*nt]-=et,C[2*nt+1]-=it;if(c.vertices=C,b.flag1&t.ssfb.PART_FLAG.U_MOVE||b.flag1&t.ssfb.PART_FLAG.V_MOVE||b.flag1&t.ssfb.PART_FLAG.U_SCALE||b.flag1&t.ssfb.PART_FLAG.V_SCALE||b.flag1&t.ssfb.PART_FLAG.UV_ROTATION){var st=B.u1()+b.uv_move_X,rt=B.u2()+b.uv_move_X,at=B.v1()+b.uv_move_Y,ot=B.v2()+b.uv_move_Y,bt=(rt+st)/2,ft=(ot+at)/2,ct=(rt-st)/2*b.uv_scale_X,ut=(ot-at)/2*b.uv_scale_Y;if(c.uvs[0]=bt,c.uvs[1]=ft,c.uvs[2]=bt-ct,c.uvs[3]=ft-ut,c.uvs[4]=bt+ct,c.uvs[5]=ft-ut,c.uvs[6]=bt-ct,c.uvs[7]=ft+ut,c.uvs[8]=bt+ct,c.uvs[9]=ft+ut,b.flag1&t.ssfb.PART_FLAG.UV_ROTATION){_=b.uv_rotation*Math.PI/180;for(var lt=0;lt<5;lt++){var ht=c.uvs[2*lt+0]-bt,pt=c.uvs[2*lt+1]-ft,dt=Math.cos(_),_t=Math.sin(_),yt=dt*ht-_t*pt,mt=_t*ht+dt*pt;c.uvs[2*lt+0]=bt+yt,c.uvs[2*lt+1]=ft+mt}}c.dirty++}c.position.set(et,it);y=b.opacity/255;if(b.localopacity<255&&(y=b.localopacity/255),c.alpha=y*this.parentAlpha,c.visible=!b.f_hide,b.useColorMatrix&&(c.filters=[b.colorMatrix]),b.tint){c.tint=b.tint;var vt=((4278190080&b.partsColorARGB)>>>24)/255;c.alpha=c.alpha*vt}b.tintRgb&&(c.tintRgb=b.tintRgb);var It=this.alphaBlendType[o];0===It&&(c.blendMode=PIXI.BLEND_MODES.NORMAL),1===It&&(c.blendMode=PIXI.BLEND_MODES.MULTIPLY,c.alpha=1),2===It&&(c.blendMode=PIXI.BLEND_MODES.ADD),3===It&&(c.blendMode=PIXI.BLEND_MODES.NORMAL),4===It&&(c.blendMode=PIXI.BLEND_MODES.MULTIPLY),5===It&&(c.blendMode=PIXI.BLEND_MODES.SCREEN,c.alpha=1),6===It&&(c.blendMode=PIXI.BLEND_MODES.EXCLUSION),7===It&&(c.blendMode=PIXI.BLEND_MODES.NORMAL),l!==t.ssfb.SsPartType.Mask&&this.addChild(c);break;case t.ssfb.SsPartType.Nulltype:y=this.InheritOpacity(1,b.index,e);c.alpha=y*b.localopacity/255;et=(C=this.TransformVerts(i.GetDummyVerts(),b.index,e))[0],it=C[1];c.position.set(et,it);var Ft=Math.atan2(C[5]-C[3],C[4]-C[2]),St=Math.atan2(C[7]-C[3],C[6]-C[2]);c.rotation=Ft,c.skew.x=St-Ft-Math.PI/2}}},i.prototype.ChangeInstanceAnime=function(t,e,n,r,a){void 0===a&&(a=null);var o=!1;if(null!==this.curAnimePackName&&null!==this.curAnimation)for(var b=this.curAnimePackData,f=b.partsLength(),c=0;c<f;c++){var u=b.parts(c);if(u.name()===t){var l=this.prevMesh[c];if(null===l||l instanceof i){if((l=this.MakeCellPlayer(e+"/"+n)).name=u.name(),this.prevMesh[c]=l,this.substituteOverWrite[c]=r,null===a){var h=new s;h.refStartframe=l.startFrame,h.refEndframe=l.endFrame,this.substituteKeyParam[c]=h}else this.substituteKeyParam[c]=a;o=!0;break}}}return o},i.prototype.InheritOpacity=function(t,e,i){return t=this.GetFrameData(i)[e].opacity/255,this.parentIndex[e]>=0&&(t=this.InheritOpacity(t,this.parentIndex[e],i)),t},i.prototype.TransformVertsLocal=function(t,e,i){for(var n=this.GetFrameData(i)[e],s=-n.rotationZ*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=0;o<t.length/2;o++){var b=t[2*o],f=t[2*o+1];1&n.i_transformVerts&&1===o&&(b+=n.u00,f-=n.v00),2&n.i_transformVerts&&2===o&&(b+=n.u01,f-=n.v01),4&n.i_transformVerts&&3===o&&(b+=n.u10,f-=n.v10),8&n.i_transformVerts&&4===o&&(b+=n.u11,f-=n.v11),b*=n.scaleX*n.localscaleX,f*=n.scaleY*n.localscaleY,t[2*o]=r*b-a*f+n.positionX,t[2*o+1]=a*b+r*f-n.positionY,n.f_flipH&&(t[2*o]=2*t[0]-t[2*o]),n.f_flipV&&(t[2*o+1]=2*t[1]-t[2*o+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],i)),t},i.prototype.TransformMeshVertsLocal=function(t,e,i){for(var n=this.GetFrameData(i)[e],s=-n.rotationZ*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=0;o<t.length/2;o++){var b=t[2*o],f=t[2*o+1];b*=n.scaleX*n.localscaleX,f*=n.scaleY*n.localscaleY,t[2*o]=r*b-a*f+n.positionX,t[2*o+1]=a*b+r*f-n.positionY}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],i)),t},i.prototype.TransformPositionLocal=function(t,e,i){var n=this.GetFrameData(i)[e];t[4]+=-n.rotationZ;var s=-n.rotationZ*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=t[0],b=t[1];return t[2]*=n.scaleX*n.localscaleX,t[3]*=n.scaleY*n.localscaleY,t[0]=r*o-a*b+n.positionX,t[1]=a*o+r*b-n.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],i)),t},i.CoordinateGetDiagonalIntersection=function(t,e,i,n,s,r,a,o,b,f){var c=new Float32Array([t,e]),u=(b-i)*(o-r)-(f-n)*(a-s);if(u<=0&&u>=0)return c;var l=((o-r)*(a-i)-(a-s)*(o-n))/u,h=((b-i)*(o-n)-(f-n)*(a-i))/u;return 0<=l&&1>=l&&0<=h&&1>=h&&(t=i+l*(b-i),e=n+l*(f-n)),c[0]=t,c[1]=e,c},i.prototype.TransformVerts=function(t,e,i){for(var n=this.GetFrameData(i)[e],s=-n.rotationZ*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=0;o<t.length/2;o++){var b=t[2*o],f=t[2*o+1];b*=n.scaleX,f*=n.scaleY,t[2*o]=r*b-a*f+n.positionX,t[2*o+1]=a*b+r*f-n.positionY,n.f_flipH&&(t[2*o]=2*t[0]-t[2*o]),n.f_flipV&&(t[2*o+1]=2*t[1]-t[2*o+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],i)),t},i.prototype.TransformPosition=function(t,e,i){var n=this.GetFrameData(i)[e];t[4]+=-n.rotationZ;var s=-n.rotationZ*Math.PI/180,r=Math.cos(s),a=Math.sin(s),o=t[0],b=t[1];return t[2]*=n.scaleX,t[3]*=n.scaleY,t[0]=r*o-a*b+n.positionX,t[1]=a*o+r*b-n.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],i)),t},i.prototype.MakeCellMesh=function(t){var e=this.fbObj.cells(t),i=e.u1(),n=e.u2(),s=e.v1(),r=e.v2(),a=e.width()/2,o=e.height()/2,b=new Float32Array([0,0,-a,-o,a,-o,-a,o,a,o]),f=new Float32Array([(i+n)/2,(s+r)/2,i,s,n,s,i,r,n,r]),c=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new PIXI.SimpleMesh(this.resources[e.cellMap().name()].texture,b,f,c,PIXI.DRAW_MODES.TRIANGLES)},i.prototype.MakeMeshCellMesh=function(t,e){var i=this.curAnimation.meshsDataUV(t),n=i.uvLength();if(n>0){for(var s=new Float32Array(n-2),r=i.uv(1),a=2;a<n;a++)s[a-2]=i.uv(a);var o=this.curAnimation.meshsDataIndices(t),b=o.indicesLength(),f=new Uint16Array(b-1);for(a=1;a<b;a++)f[a-1]=o.indices(a);var c=new Float32Array(2*r);return new PIXI.SimpleMesh(this.resources[this.fbObj.cells(e).cellMap().name()].texture,c,s,f,PIXI.DRAW_MODES.TRIANGLES)}return null},i.prototype.MakeCellPlayer=function(t){var e=t.split("/"),n=new i(this.ss6project);return n.Setup(e[0],e[1]),n.Play(),n},i.GetVerts=function(t,e){var i=e.size_X/2,n=e.size_Y/2,s=e.size_X*-(e.pivotX+t.pivotX()),r=e.size_Y*(e.pivotY+t.pivotY());return new Float32Array([s,r,s-i,r-n,s+i,r-n,s-i,r+n,s+i,r+n])},i.GetMeshVerts=function(t,e){for(var i=new Float32Array(2*e.meshNum),n=0;n<e.meshNum;n++)i[2*n+0]=e.meshDataPoint[3*n+0],i[2*n+1]=-e.meshDataPoint[3*n+1];return i},i.GetDummyVerts=function(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])},i.prototype.resetLiveFrame=function(){for(var t=this.curAnimation.defaultDataLength(),e=0;e<t;e++)this.liveFrame[e]=0},i}(PIXI.Container);class a{static instance;pluginParameters;animationDir;replaceSVActorSpriteFlag;svActorDir;svActorAnimationPack;svActorHideWeaponGraphics;replaceSVEnemySpriteFlag;svEnemyDir;svEnemyAnimationPack;svEnemyAnimationName;constructor(){this.pluginParameters=PluginManager.parameters("ss6player-rpgmakermz"),this.animationDir=String(this.pluginParameters.animationDir||"img/ssfb")+"/",this.replaceSVActorSpriteFlag="true"===this.pluginParameters.replaceSVActorSpriteFlag||!1,this.svActorDir=String(this.pluginParameters.svActorDir||"img/ssfb/sv_actors")+"/",this.svActorAnimationPack=String(this.pluginParameters.svActorAnimationPack||"motions"),this.svActorHideWeaponGraphics="true"===this.pluginParameters.svActorHideWeaponGraphics||!1,this.replaceSVEnemySpriteFlag="true"===this.pluginParameters.replaceSVEnemySpriteFlag||!1,this.svEnemyDir=String(this.pluginParameters.svEnemyDir||"img/ssfb/sv_enemies")+"/",this.svEnemyAnimationPack=String(this.pluginParameters.svEnemyAnimationPack||"motions"),this.svEnemyAnimationName=String(this.pluginParameters.svEnemyAnimationName||"walk")}static getInstance(){return a.instance||(a.instance=new a),a.instance}}class o{static instance;ssprojectMap;_isLoading;constructor(){this.clear(),this._isLoading=!1}prepare(t){this.ssprojectMap.set(t,null),this._isLoading=!0}isLoading(){return this._isLoading}isExist(t){return this.ssprojectMap.has(t)&&null!==this.ssprojectMap.get(t)}set(t,e){this.ssprojectMap.set(t,e),this._isLoading=!1}get(t){return this.ssprojectMap.has(t)?this.ssprojectMap.get(t):null}clear(){this.ssprojectMap=new Map}static getInstance(){return o.instance||(o.instance=new o),o.instance}}const b="ss6player-rpgmakermz",f="ss6projectLoadWait",c="ss6playerPlayWaitMode";let u=!1,l=null,h=null,p=null;PluginManager.registerCommand(b,"loadSsfb",(function(t){const e=Number(t.ssfbId),n=t.ssfbFile,s=a.getInstance().animationDir+n;if(o.getInstance().isExist(e)){if(s===o.getInstance().get(e).ssfbPath)return}this.setWaitMode(f),o.getInstance().prepare(e);let r=new i(s,(()=>{o.getInstance().set(e,r)}),18e4,3,((t,e,i,n)=>{throw this.setWaitMode(""),n}),((t,e,i,n)=>{throw console.log("timeout download ssfb file: "+t),this.setWaitMode(""),n}),null)})),PluginManager.registerCommand(b,"setAsPicture",(function(t){const e=Number(t.ssfbId),i=t.animePackName,n=t.animeName,s=Number(t.scaleX)||1,a=Number(t.scaleY)||1,b=Number(t.loop)||1;let f=o.getInstance().get(e);if(null===f){const t="not found ssfbId: "+e;throw console.error(t),t}let c=new r(f,i,n);c.scale=new PIXI.Point(s,a),c.loop=b,l=c})),PluginManager.registerCommand(b,"waitForPicture",(function(t){const e=Number(t.pictureId)||1,i=$gameScreen.picture(e);if(i&&i.mzkpSS6Player){if(i.mzkpSS6Player instanceof r){-1!==i.mzkpSS6Player.loop?(this.setWaitMode(c),u=!0,h=function(t){0===t.loop&&(u=!1)}):console.warn("pictureId: "+e+" can not wait SS6Player because setting infinity loop.")}}else console.warn("pictureId: "+e+" not have SS6Player")}));const d=Game_Interpreter.prototype.updateWaitMode;Game_Interpreter.prototype.updateWaitMode=function(){let t=!1;return t=this._waitMode===f?o.getInstance().isLoading():this._waitMode===c?u:d.call(this),t};const _=Game_Picture.prototype.show;Game_Picture.prototype.show=function(){_.apply(this,arguments),""===this._name&&null!==l&&(this.mzkpSS6Player=l,this.mzkpSS6PlayerChanged=!0,l=null)};const y=Sprite_Picture.prototype.destroy;Sprite_Picture.prototype.destroy=function(t){null!==this.mzkpSS6Player&&this.mzkpSS6Player instanceof r&&(this.mzkpSS6Player.Stop(),this.picture().mzkpSS6PlayerPrevFrameNo=this.mzkpSS6Player.frameNo,this.removeChild(this.mzkpSS6Player),this.mzkpSS6Player=null),y.call(this,t)};const m=Scene_Base.prototype.terminate;Scene_Base.prototype.terminate=function(){$gameActors._data.forEach(((t,e,i)=>{t&&t._svActorSS6Player&&(t._svActorSS6Player.Stop(),t._svActorSS6PlayerParent.removeChild(t._svActorSS6Player),t._svActorSS6Player=null,t._svActorSS6PlayerParent=null)})),$gameTroop.members().forEach(((t,e,i)=>{t&&t._svEnemySS6Player&&(t._svEnemySS6Player.Stop(),t._svEnemySS6PlayerParent.removeChild(t._svEnemySS6Player),t._svEnemySS6ProjectLoaded=!1,t._svEnemySS6Player=null,t._svEnemySS6PlayerParent=null)})),m.apply(this,arguments)};const v=Sprite_Picture.prototype.updateBitmap;Sprite_Picture.prototype.updateBitmap=function(){if(v.apply(this,arguments),this.visible&&""===this._pictureName){const t=this.picture(),e=t&&t.mzkpSS6Player||null,i=t&&t.mzkpSS6PlayerChanged;if(this.mzkpSS6Player!==e||i)if(null!==e){if(0===e.loop)return void(this.mzkpSS6Player=null);const i=h,n=p,s=this;e.SetPlayEndCallback((()=>{null!==i&&i(e),0===e.loop&&(e.Stop(),s.removeChild(e)),null!==n&&n(e)})),this.mzkpSS6Player=e,this.addChild(this.mzkpSS6Player),this.mzkpSS6Player.Play(t.mzkpSS6PlayerPrevFrameNo),t.mzkpSS6PlayerChanged=!1,h=null,p=null}else this.mzkpSS6Player=null}else this.mzkpSS6Player=null};const I=Game_Screen.prototype.clear;Game_Screen.prototype.clear=function(){o.getInstance().clear(),I.call(this)};let F=!1;const S=SceneManager.updateScene;SceneManager.updateScene=function(){S.apply(this,arguments),this._scene&&(this.isGameActive()?F&&($gameScreen._pictures.forEach(((t,e,i)=>{t&&t.mzkpSS6Player&&t.mzkpSS6Player.Resume()})),$gameActors._data.forEach(((t,e,i)=>{t&&t._svActorSS6Player&&t._svActorSS6Player.Resume()})),$gameTroop.members().forEach(((t,e,i)=>{t&&t._svEnemySS6Player&&t._svEnemySS6Player.Resume()})),F=!1):($gameScreen&&$gameScreen._pictures&&$gameScreen._pictures.forEach(((t,e,i)=>{t&&t.mzkpSS6Player&&t.mzkpSS6Player.Pause()})),$gameActors&&$gameActors._data&&$gameActors._data.forEach(((t,e,i)=>{t&&t._svActorSS6Player&&t._svActorSS6Player.Pause()})),$gameTroop&&$gameTroop.members()&&$gameTroop.members().forEach(((t,e,i)=>{t&&t._svEnemySS6Player&&t._svEnemySS6Player.Pause()})),F=!0))};let P=!1;const E=DataManager.isDatabaseLoaded;DataManager.isDatabaseLoaded=function(){return a.getInstance().replaceSVActorSpriteFlag?!!E.call(this)&&(P||(this.loadEnemyNoteTags(),P=!0),!0):E()};DataManager.loadEnemyNoteTags=function(){const t=new RegExp("<SS6SVEnemy (.*):(.*)>","i");$dataEnemies.forEach(((e,i,n)=>{if(null===e)return;e.note.split(/\r?\n/).forEach(((i,n,s)=>{const r=t.exec(i);if(r&&3===r.length){const t=r[1].toLowerCase(),i=r[2];switch(t){case"file".toLowerCase():e._svEnemyFile=i;break;case"animationPackName".toLowerCase():e._svEnemyAnimationPackName=i;break;case"animationName".toLowerCase():e._svEnemyAnimationName=i;break;case"scaleX".toLowerCase():e._svEnemyScaleX=Number(i);break;case"scaleY".toLowerCase():e._svEnemyScaleY=Number(i);break;case"offsetX".toLowerCase():e._svEnemyOffsetX=Number(i);break;case"offsetY".toLowerCase():e._svEnemyOffsetY=Number(i)}}}))}))},Sprite_Actor.svActorSsfbId=function(t){return"sv_actor_"+t},Sprite_Actor.svActorSsfbDir=function(t){return a.getInstance().svActorDir+String(t)+"/"},Sprite_Actor.svActorSsfbPath=function(t){return Sprite_Actor.svActorSsfbDir(t)+String(t)+".ssbp.ssfb"};let g=new Map;const A=Sprite_Actor.prototype.setBattler;Sprite_Actor.prototype.setBattler=function(t){const e=t!==this._actor;if(A.call(this,t),a.getInstance().replaceSVActorSpriteFlag&&e){const t=this._actor.actorId(),e=Sprite_Actor.svActorSsfbId(t);if(g.has(e))return;let n=Sprite_Actor.svActorSsfbPath(t);if(o.getInstance().isExist(e)){if(n===o.getInstance().get(e).ssfbPath)return this._actor._svActorSS6Player=null,void(this._actor._svActorSS6PlayerParent=null)}o.getInstance().prepare(e);let s=new i(n,(()=>{this._actor._svActorSS6Player=null,this._actor._svActorSS6PlayerParent=null,o.getInstance().set(e,s)}),18e4,3,((t,i,n,s)=>{g.set(e,null),o.getInstance().set(e,null)}))}};const D=Sprite_Actor.prototype.updateBitmap;Sprite_Actor.prototype.updateBitmap=function(){if(a.getInstance().replaceSVActorSpriteFlag){const t=this._actor.actorId(),e=Sprite_Actor.svActorSsfbId(t);o.getInstance().isExist(e)&&void 0!==this._actor._svActorSS6Player?(Sprite_Battler.prototype.updateBitmap.call(this),this._mainSprite.bitmap=null,this.updateSS6Player()):D.call(this)}else D.call(this)},Sprite_Actor.prototype.updateSS6Player=function(){let t="";for(let e in Sprite_Actor.MOTIONS){const i=Sprite_Actor.MOTIONS[e];this._motion===i&&(t=e)}if(""===t&&(t="walk"),null===this._actor._svActorSS6Player||this._actor._svActorSS6Player.animeName!==t){this._actor._svActorSS6Player&&(this._mainSprite.removeChild(this._actor._svActorSS6Player),this._actor._svActorSS6Playe=null,this._actor._svActorSS6PlayerParent=null);const e=this._motion.loop,i=this._actor.actorId(),n=Sprite_Actor.svActorSsfbId(i),s=o.getInstance().get(n),b=a.getInstance().svActorAnimationPack;this._actor._svActorSS6Player=new r(s,b,t),this._actor._svActorSS6Player.loop=e?-1:1,this._actor._svActorSS6Player.SetPlayEndCallback((t=>{0===t.loop&&this.refreshMotion()})),this._actor._svActorSS6Player.Play(),this._mainSprite.addChild(this._actor._svActorSS6Player),this._actor._svActorSS6PlayerParent=this._mainSprite}};const V=Sprite_Actor.prototype.setupWeaponAnimation;Sprite_Actor.prototype.setupWeaponAnimation=function(){a.getInstance().replaceSVActorSpriteFlag&&a.getInstance().svActorHideWeaponGraphics?void 0===this._actor._svActorSS6Player&&V.call(this):V.call(this)},Sprite_Enemy.svEnemySsfbId=function(t){return"sv_enemy_"+t},Sprite_Enemy.svEnemySsfbDir=function(t){return a.getInstance().svEnemyDir+String(t)+"/"},Sprite_Enemy.svEnemySsfbPath=function(t){return Sprite_Enemy.svEnemySsfbDir(t)+String(t)+".ssbp.ssfb"};let T=new Map;const L=Sprite_Enemy.prototype.setBattler;Sprite_Enemy.prototype.setBattler=function(t){const e=t!==this._enemy;if(L.call(this,t),a.getInstance().replaceSVEnemySpriteFlag&&e){const t=this._enemy.enemyId(),e=Sprite_Enemy.svEnemySsfbId(t);if(T.has(e))return;let n=Sprite_Enemy.svEnemySsfbPath(t);const s=this._enemy.enemy();if(s._svEnemyFile&&(n=a.getInstance().animationDir+s._svEnemyFile),this._enemy._svEnemySS6ProjectLoaded=!1,o.getInstance().isExist(e)){if(n===o.getInstance().get(e).ssfbPath)return this._enemy._svEnemySS6ProjectLoaded=!0,this._enemy._svEnemySS6Player=null,void(this._enemy._svEnemySS6PlayerParent=null)}o.getInstance().prepare(e);let r=new i(n,(()=>{this._enemy._svEnemySS6ProjectLoaded=!0,this._enemy._svEnemySS6Player=null,this._enemy._svEnemySS6PlayerParent=null,o.getInstance().set(e,r)}),18e4,3,((t,i,n,s)=>{this._enemy._svEnemySS6ProjectLoaded=!0,T.set(e,null),o.getInstance().set(e,null)}))}};const O=Sprite_Enemy.prototype.updateBitmap;Sprite_Enemy.prototype.updateBitmap=function(){if(a.getInstance().replaceSVEnemySpriteFlag){const t=this._enemy.enemyId(),e=Sprite_Enemy.svEnemySsfbId(t);if(!this._enemy._svEnemySS6ProjectLoaded)return;o.getInstance().isExist(e)&&void 0!==this._enemy._svEnemySS6Player?(Sprite_Battler.prototype.updateBitmap.call(this),this.bitmap=null,this.updateSS6Player()):O.call(this)}else O.call(this)},Sprite_Enemy.prototype.updateSS6Player=function(){if(null===this._enemy._svEnemySS6Player){const t=this._enemy.enemyId(),e=Sprite_Enemy.svEnemySsfbId(t),i=o.getInstance().get(e);let n=a.getInstance().svEnemyAnimationPack,s=a.getInstance().svEnemyAnimationName,b=1,f=1,c=0,u=0;const l=this._enemy.enemy();l._svEnemyAnimationPackName&&(n=l._svEnemyAnimationPackName),l._svEnemyAnimationName&&(s=l._svEnemyAnimationName),l._svEnemyScaleX&&(b=l._svEnemyScaleX),l._svEnemyScaleY&&(f=l._svEnemyScaleY),l._svEnemyOffsetX&&(c=l._svEnemyOffsetX),l._svEnemyOffsetY&&(u=l._svEnemyOffsetY),this._enemy._svEnemySS6Player=new r(i,n,s),this._enemy._svEnemySS6Player.loop=-1,this._enemy._svEnemySS6Player.SetPlayEndCallback((t=>{})),this._enemy._svEnemySS6Player.scale.x=b,this._enemy._svEnemySS6Player.scale.y=f,this._enemy._svEnemySS6Player.position.x+=c,this._enemy._svEnemySS6Player.position.y+=u,this._enemy._svEnemySS6Player.Play(),this.addChild(this._enemy._svEnemySS6Player),this._enemy._svEnemySS6PlayerParent=this}};const w=Sprite_Enemy.prototype.updateFrame;Sprite_Enemy.prototype.updateFrame=function(){if(a.getInstance().replaceSVEnemySpriteFlag){const t=this._enemy.enemyId(),e=Sprite_Enemy.svEnemySsfbId(t);if(!this._enemy._svEnemySS6ProjectLoaded)return;if(o.getInstance().isExist(e)&&void 0!==this._enemy._svEnemySS6Player){if(this.bitmap)return void w.call(this);Sprite_Battler.prototype.updateFrame.call(this);const t=this._enemy._svEnemySS6Player;let e=0,i=0;t&&(e=t.width,i=t.height),"bossCollapse"===this._effectType?this.setFrame(0,0,e,this._effectDuration):this.setFrame(0,0,e,i)}else w.call(this)}else w.call(this)};const M=Sprite_Enemy.prototype.updateStateSprite;Sprite_Enemy.prototype.updateStateSprite=function(){if(a.getInstance().replaceSVEnemySpriteFlag)if(this.bitmap)this._stateIconSprite.y=-Math.round(.9*(this.bitmap.height+40)),this._stateIconSprite.y<20-this.y&&(this._stateIconSprite.y=20-this.y);else{let t=0;this._enemy&&this._enemy._svEnemySS6Player&&(t=this._enemy._svEnemySS6Player),this._stateIconSprite.y=-Math.round(.9*(t+40)),this._stateIconSprite.y<20-this.y&&(this._stateIconSprite.y=20-this.y)}else M.call(this)}}();

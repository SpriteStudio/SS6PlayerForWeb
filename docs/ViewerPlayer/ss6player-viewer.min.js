/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.3.8
 *
 * Copyright(C) CRI Middleware Co., Ltd.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

var ss6PlayerViewer=function(Ee,Xe,Oe,Te,Pe,Ne,De,Re,zt){"use strict";const be=[5,10,15,20,25,50,75,100,150,200,300,400,800];class We extends Oe.Container{constructor(){super(),this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new Te.Graphics,e=new Te.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const n=this.position;n.x+=t,n.y+=e,this.position=n}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=be.indexOf(this.zoomPercent)+1;if(e>=be.length)return;const n=be[e];this.zoom(n)}zoomOut(){const e=be.indexOf(this.zoomPercent)-1;if(e<0)return;const n=be[e];this.zoom(n)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){t.lineStyle(1,0),t.alpha=.3,t.moveTo(-5e3,0).lineTo(5001,0),t.moveTo(0,-5e3).lineTo(0,5001),e.lineStyle(1,0),e.alpha=.1;let f=100;for(let a=-5e3;a<5001;a+=f)e.moveTo(a,-5e3).lineTo(a,5001);for(let a=-5e3;a<5001;a+=f)e.moveTo(-5e3,-a).lineTo(5001,-a)}}}const ve=4,me=4,ie=new Int32Array(2),Le=new Float32Array(ie.buffer),ze=new Float64Array(ie.buffer),ge=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Ae;(function(L){L[L.UTF8_BYTES=1]="UTF8_BYTES",L[L.UTF16_STRING=2]="UTF16_STRING"})(Ae||(Ae={}));class ye{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new ye(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ie[0]=this.readInt32(t),Le[0]}readFloat64(t){return ie[ge?0:1]=this.readInt32(t),ie[ge?1:0]=this.readInt32(t+4),ze[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Le[0]=e,this.writeInt32(t,ie[0])}writeFloat64(t,e){ze[0]=e,this.writeInt32(t,ie[ge?0:1]),this.writeInt32(t+4,ie[ge?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ve+me)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<me;e++)t+=String.fromCharCode(this.readInt8(this.position_+ve+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let s="",f=0;if(t+=ve,e===Ae.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;f<n;){let a;const o=this.readUint8(t+f++);if(o<192)a=o;else{const r=this.readUint8(t+f++);if(o<224)a=(o&31)<<6|r&63;else{const u=this.readUint8(t+f++);if(o<240)a=(o&15)<<12|(r&63)<<6|u&63;else{const p=this.readUint8(t+f++);a=(o&7)<<18|(r&63)<<12|(u&63)<<6|p&63}}}a<65536?s+=String.fromCharCode(a):(a-=65536,s+=String.fromCharCode((a>>10)+55296,(a&1023)+56320))}return s}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ve}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=me)throw new Error("FlatBuffers: file identifier must be length "+me);for(let e=0;e<me;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+ve+e))return!1;return!0}createScalarList(t,e){const n=[];for(let s=0;s<e;++s)t(s)!==null&&n.push(t(s));return n}createObjList(t,e){const n=[];for(let s=0;s<e;++s){const f=t(s);f!==null&&n.push(f.unpack())}return n}}const kt=4,Me=new Int32Array(2);new Float32Array(Me.buffer),new Float64Array(Me.buffer),new Uint16Array(new Uint8Array([1,0]).buffer)[0];var Ue;(function(L){L[L.UTF8_BYTES=1]="UTF8_BYTES",L[L.UTF16_STRING=2]="UTF16_STRING"})(Ue||(Ue={}));class tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+kt),(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,n,s,f,a,o,r,u,p,c,m,g,S,w,h,d,v,k,D,y,I,C,E,N,A,B,z,Z,Q,K,q,G,j,et,st,pt,J,lt){return tt.startAnimationInitialData(t),tt.addIndex(t,e),tt.addLowflag(t,n),tt.addHighflag(t,s),tt.addPriority(t,f),tt.addCellIndex(t,a),tt.addOpacity(t,o),tt.addLocalopacity(t,r),tt.addMasklimen(t,u),tt.addPositionX(t,p),tt.addPositionY(t,c),tt.addPositionZ(t,m),tt.addPivotX(t,g),tt.addPivotY(t,S),tt.addRotationX(t,w),tt.addRotationY(t,h),tt.addRotationZ(t,d),tt.addScaleX(t,v),tt.addScaleY(t,k),tt.addLocalscaleX(t,D),tt.addLocalscaleY(t,y),tt.addSizeX(t,I),tt.addSizeY(t,C),tt.addUvMoveX(t,E),tt.addUvMoveY(t,N),tt.addUvRotation(t,A),tt.addUvScaleX(t,B),tt.addUvScaleY(t,z),tt.addBoundingRadius(t,Z),tt.addInstanceValueCurKeyframe(t,Q),tt.addInstanceValueStartFrame(t,K),tt.addInstanceValueEndFrame(t,q),tt.addInstanceValueLoopNum(t,G),tt.addInstanceValueSpeed(t,j),tt.addInstanceValueLoopflag(t,et),tt.addEffectValueCurKeyframe(t,st),tt.addEffectValueStartTime(t,pt),tt.addEffectValueSpeed(t,J),tt.addEffectValueLoopflag(t,lt),tt.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+kt),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,n,s,f){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,n),Ht.addFlag2(t,s),Ht.addData(t,f),Ht.endpartState(t)}}class fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+kt),(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const n=this.bb.__offset(this.bb_pos,4);return n?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return fe.startframeDataIndex(t),fe.addStates(t,e),fe.endframeDataIndex(t)}}class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+kt),(e||new re).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,n){return re.startlabelDataItem(t),re.addLabel(t,e),re.addFrameIndex(t,n),re.endlabelDataItem(t)}}class he{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new he).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+kt),(e||new he).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addFloat32(e[n]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return he.startmeshDataIndices(t),he.addIndices(t,e),he.endmeshDataIndices(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+kt),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addFloat32(e[n]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return le.startmeshDataUV(t),le.addUv(t,e),le.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+kt),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?this.bb.__union(e,this.bb.__vector(this.bb_pos+n)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,n,s,f){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,n),Kt.addDataType(t,s),Kt.addData(t,f),Kt.enduserDataItem(t)}}class ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+kt),(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,n){return ae.startuserDataPerFrame(t),ae.addFrameIndex(t,e),ae.addData(t,n),ae.enduserDataPerFrame(t)}}class _t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+kt),(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new fe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new ae).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new re).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUV(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}meshsDataUVLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new he).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUV(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUVVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startMeshsDataUVVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,n,s,f,a,o,r,u,p,c,m,g,S,w,h,d){return _t.startAnimationData(t),_t.addName(t,e),_t.addDefaultData(t,n),_t.addFrameData(t,s),_t.addUserData(t,f),_t.addLabelData(t,a),_t.addMeshsDataUV(t,o),_t.addMeshsDataIndices(t,r),_t.addStartFrames(t,u),_t.addEndFrames(t,p),_t.addTotalFrames(t,c),_t.addFps(t,m),_t.addLabelNum(t,g),_t.addCanvasSizeW(t,S),_t.addCanvasSizeH(t,w),_t.addCanvasPvotX(t,h),_t.addCanvasPvotY(t,d),_t.endAnimationData(t)}}var wt=(L=>(L[L.Invalid=-1]="Invalid",L[L.Nulltype=0]="Nulltype",L[L.Normal=1]="Normal",L[L.Text=2]="Text",L[L.Instance=3]="Instance",L[L.Armature=4]="Armature",L[L.Effect=5]="Effect",L[L.Mesh=6]="Mesh",L[L.Movenode=7]="Movenode",L[L.Constraint=8]="Constraint",L[L.Mask=9]="Mask",L[L.Joint=10]="Joint",L[L.Bonepoint=11]="Bonepoint",L))(wt||{});class Et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+kt),(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):wt.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,wt.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,n,s,f,a,o,r,u,p,c){return Et.startPartData(t),Et.addName(t,e),Et.addIndex(t,n),Et.addParentIndex(t,s),Et.addType(t,f),Et.addBoundsType(t,a),Et.addAlphaBlendType(t,o),Et.addRefname(t,r),Et.addEffectfilename(t,u),Et.addColorLabel(t,p),Et.addMaskInfluence(t,c),Et.endPartData(t)}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+kt),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new _t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,n,s){return $t.startAnimePackData(t),$t.addName(t,e),$t.addParts(t,n),$t.addAnimations(t,s),$t.endAnimePackData(t)}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+kt),(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,n,s,f,a){return Xt.startCellMap(t),Xt.addName(t,e),Xt.addImagePath(t,n),Xt.addIndex(t,s),Xt.addWrapmode(t,f),Xt.addFiltermode(t,a),Xt.endCellMap(t)}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+kt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Xt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+kt),(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}BehaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}BehaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}BehaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}Behavior(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?this.bb.__union(e,this.bb.__vector(this.bb_pos+n)+t*4):null}BehaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let n=e.length-1;n>=0;n--)t.addInt8(e[n]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,n,s,f,a,o,r,u){return Pt.startEffectNode(t),Pt.addArrayIndex(t,e),Pt.addParentIndex(t,n),Pt.addType(t,s),Pt.addCellIndex(t,f),Pt.addBlendType(t,a),Pt.addNumBehavior(t,o),Pt.addBehaviorType(t,r),Pt.addBehavior(t,u),Pt.endEffectNode(t)}}class Nt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new Nt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+kt),(e||new Nt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const n=this.bb.__offset(this.bb_pos,18);return n?(e||new Pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,n,s,f,a,o,r,u){return Nt.startEffectFile(t),Nt.addName(t,e),Nt.addFps(t,n),Nt.addIsLockRandSeed(t,s),Nt.addLockRandSeed(t,f),Nt.addLayoutScaleX(t,a),Nt.addLayoutScaleY(t,o),Nt.addNumNodeList(t,r),Nt.addEffectNode(t,u),Nt.endEffectFile(t)}}var it=(L=>(L[L.INVISIBLE=1]="INVISIBLE",L[L.FLIP_H=2]="FLIP_H",L[L.FLIP_V=4]="FLIP_V",L[L.CELL_INDEX=8]="CELL_INDEX",L[L.POSITION_X=16]="POSITION_X",L[L.POSITION_Y=32]="POSITION_Y",L[L.POSITION_Z=64]="POSITION_Z",L[L.PIVOT_X=128]="PIVOT_X",L[L.PIVOT_Y=256]="PIVOT_Y",L[L.ROTATIONX=512]="ROTATIONX",L[L.ROTATIONY=1024]="ROTATIONY",L[L.ROTATIONZ=2048]="ROTATIONZ",L[L.SCALE_X=4096]="SCALE_X",L[L.SCALE_Y=8192]="SCALE_Y",L[L.LOCALSCALE_X=16384]="LOCALSCALE_X",L[L.LOCALSCALE_Y=32768]="LOCALSCALE_Y",L[L.OPACITY=65536]="OPACITY",L[L.LOCALOPACITY=131072]="LOCALOPACITY",L[L.PARTS_COLOR=262144]="PARTS_COLOR",L[L.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",L[L.SIZE_X=1048576]="SIZE_X",L[L.SIZE_Y=2097152]="SIZE_Y",L[L.U_MOVE=4194304]="U_MOVE",L[L.V_MOVE=8388608]="V_MOVE",L[L.UV_ROTATION=16777216]="UV_ROTATION",L[L.U_SCALE=33554432]="U_SCALE",L[L.V_SCALE=67108864]="V_SCALE",L[L.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",L[L.MASK=268435456]="MASK",L[L.PRIORITY=536870912]="PRIORITY",L[L.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",L[L.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",L))(it||{}),Be=(L=>(L[L.MESHDATA=1]="MESHDATA",L))(Be||{});class Ft{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+kt),(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new xe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new $t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new Nt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,n,s,f,a,o,r,u,p,c){return Ft.startProjectData(t),Ft.addDataId(t,e),Ft.addVersion(t,n),Ft.addFlags(t,s),Ft.addImageBaseDir(t,f),Ft.addCells(t,a),Ft.addAnimePacks(t,o),Ft.addEffectFileList(t,r),Ft.addNumCells(t,u),Ft.addNumAnimePacks(t,p),Ft.addNumEffectFileList(t,c),Ft.endProjectData(t)}}class He{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class Ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,n){return t.prep(4,8),t.writeInt32(n),t.writeInt32(e),t.offset()}}class we{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,n,s,f){return t.prep(4,16),t.writeInt32(f),t.writeInt32(s),t.writeInt32(n),t.writeInt32(e),t.offset()}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+kt),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,n){return Qt.startuserDataString(t),Qt.addLength(t,e),Qt.addData(t,n),Qt.enduserDataString(t)}}class Ze{constructor(t,e,n,s,f,a,o){if(typeof t=="string"){let r=t,u=e,p=n!==void 0?n:0,c=s!==void 0?s:0,m=f!==void 0?f:null,g=a!==void 0?a:null,S=o!==void 0?o:null;this.ssfbPath=r;const w=r.lastIndexOf("/");this.rootPath=r.substring(0,w)+"/",this.status="not ready",this.onComplete=u,this.onError=m,this.onTimeout=g,this.onRetry=S,this.LoadFlatBuffersProject(r,p,c)}else if(typeof t=="object"&&t.constructor===Uint8Array){let r=t,u=e;this.onComplete=n!==void 0?n:null,this.load(r,u)}}LoadFlatBuffersProject(t,e=0,n=0){const s=this,f=new XMLHttpRequest,a="GET";f.open(a,t,!0),f.responseType="arraybuffer",f.timeout=e,f.onload=function(){if(!(f.status>=200&&f.status<400)){s.onError!==null&&s.onError(t,e,n,f);return}const o=this.response,r=new Uint8Array(o),u=new ye(r);s.fbObj=Ft.getRootAsProjectData(u),s.LoadCellResources()},f.ontimeout=function(){n>0?(s.onRetry!==null&&s.onRetry(t,e,n-1,f),s.LoadFlatBuffersProject(t,e,n-1)):s.onTimeout!==null&&s.onTimeout(t,e,n,f)},f.onerror=function(){s.onError!==null&&s.onError(t,e,n,f)},f.send(null)}LoadCellResources(){const t=this;let e=new Pe.Loader,n=[];for(let s=0;s<t.fbObj.cellsLength();s++)n.some(function(f){return f===t.fbObj.cells(s).cellMap().index()})||(n.push(t.fbObj.cells(s).cellMap().index()),e.add(t.fbObj.cells(s).cellMap().name(),t.rootPath+this.fbObj.cells(s).cellMap().imagePath()));e.load(function(s,f){t.resources=f,t.status="ready",t.onComplete!==null&&t.onComplete()})}load(t,e){const n=new ye(t);this.fbObj=Ft.getRootAsProjectData(n);const s=new Pe.Loader;for(let a in e){const o=e[a];let r="";const u=o.byteLength;for(let c=0;c<u;c++)r+=String.fromCharCode(o[c]);const p="data:image/png;base64,"+window.btoa(r);s.add(a,p)}const f=this;s.load((a,o)=>{f.resources=o,f.status="ready",f.onComplete!==null&&f.onComplete()})}}class Ke{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class qt extends Oe.Container{constructor(t,e=null,n=null){super(),this.animation=[],this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this.parts=-1,this.parentIndex=[],this.prio2index=[],this.userData=[],this.frameDataCache={},this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[],this.parentAlpha=1,this.prevCellID=[],this.prevMesh=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),this.defaultColorFilter=new Re.ColorMatrixFilter,this._instancePos=new Float32Array(5),this._CoordinateGetDiagonalIntersectionVec2=new Float32Array(2),this.ss6project=t,this.fbObj=this.ss6project.fbObj,this.resources=this.ss6project.resources,this.parentAlpha=1,e!==null&&n!==null&&this.Setup(e,n),this.on("added",(...s)=>{De.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...s)=>{De.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this.curAnimation.endFrames()}get totalFrame(){return this.curAnimation.totalFrames()}get fps(){return this.curAnimation.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}Setup(t,e){this.clearCaches();const n=this.fbObj.animePacksLength();for(let s=0;s<n;s++)if(this.fbObj.animePacks(s).name()===t){let f;const a=this.fbObj.animePacks(s).animationsLength();for(f=0;f<a;f++)if(this.fbObj.animePacks(s).animations(f).name()===e){this.animation=[s,f],this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this.fbObj.animePacks(this.animation[0]),this.curAnimation=this.curAnimePackData.animations(this.animation[1]);break}const o=this.curAnimation.defaultDataLength();for(let u=0;u<o;u++){const p=this.curAnimation.defaultData(u);this.defaultFrameMap[p.index()]=p}this.parts=s;const r=this.fbObj.animePacks(this.parts).partsLength();for(this.parentIndex=new Array(r),this.prevCellID=new Array(r),this.prevMesh=new Array(r),this.substituteOverWrite=new Array(r),this.substituteKeyParam=new Array(r),f=0;f<r;f++){const u=this.fbObj.animePacks(this.parts).parts(f).index();this.parentIndex[u]=this.fbObj.animePacks(s).parts(f).parentIndex(),this.prevCellID[u]=-1,this.prevMesh[u]=null,this.substituteOverWrite[u]=null,this.substituteKeyParam[u]=null}}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.curAnimation.startFrames(),this._endFrame=this.curAnimation.endFrames(),this._currentFrame=this.curAnimation.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.curAnimation.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.prio2index=[],this.userData=[],this.frameDataCache=[],this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[]}Update(t){this.UpdateInternal(t)}UpdateInternal(t,e=!0){const n=De.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=n,this.nextFrameTime>=this.updateInterval){let f=!1;const a=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*a;let o=this.skipEnabled?a*this.playDirection:this.playDirection,r=this._currentFrame+o,u=Math.floor(r),p=r-u,c=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let m=u-c;m;m--){let g=c+1;if(g>this._endFrame)if(this._loops===-1)g=this._startFrame;else if(this._loops--,f=!0,this._loops===0){this._isPlaying=!1,g=e?this._startFrame:this._endFrame;break}else g=this._startFrame;c=g,this._isPlaying&&this.HaveUserData(c)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(c))}if(this.playDirection<=-1)for(let m=c-u;m;m--){let g=c-1;if(g<this._startFrame)if(this._loops===-1)g=this._endFrame;else if(this._loops--,f=!0,this._loops===0){this._isPlaying=!1,g=e?this._endFrame:this._startFrame;break}else g=this._endFrame;c=g,this._isPlaying&&this.HaveUserData(c)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(c))}this._currentFrame=c+p,f&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),a)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.curAnimation.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,n=-1){t>=0&&t<this.curAnimation.totalFrames()&&(this._startFrame=t),e>=0&&e<this.curAnimation.totalFrames()&&(this._endFrame=e),n>0?this._loops=n:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const n=Math.floor(this._currentFrame);this.SetFrameAnimation(n),this.HaveUserData(n)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(n))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}HaveUserData(t){if(this.userData[t]===-1)return!1;if(this.userData[t])return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=-1,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],n=e.dataLength();let s=0,f=[];for(let a=0;a<n;a++){const o=e.data(a).flags(),r=e.data(a).arrayIndex();let u=null,p=null,c=null,m=null,g=null,S=null,w=null,h=null,d=null;o&1&&(u=e.data(a).data(s,new He).integer(),s++),o&2&&(p=e.data(a).data(s,new we).x(),c=e.data(a).data(s,new we).y(),m=e.data(a).data(s,new we).w(),g=e.data(a).data(s,new we).h(),s++),o&4&&(S=e.data(a).data(s,new Ve).x(),w=e.data(a).data(s,new Ve).y(),s++),o&8&&(h=e.data(a).data(s,new Qt).length(),d=e.data(a).data(s,new Qt).data(),s++),f.push([r,o,u,p,c,m,g,S,w,h,d])}return f}GetPartsBlendMode(){const t=this.fbObj.animePacks(this.parts).partsLength();let e=[];const n=this.fbObj.animePacks(this.parts);for(let s=0;s<t;s++){const f=n.parts(s).alphaBlendType();let a;switch(f){case 0:a=zt.BLEND_MODES.NORMAL;break;case 1:a=zt.BLEND_MODES.MULTIPLY;break;case 2:a=zt.BLEND_MODES.ADD;break;case 3:a=zt.BLEND_MODES.NORMAL;break;case 4:a=zt.BLEND_MODES.MULTIPLY;break;case 5:a=zt.BLEND_MODES.SCREEN;break;case 6:a=zt.BLEND_MODES.EXCLUSION;break;case 7:a=zt.BLEND_MODES.NORMAL;break;default:a=zt.BLEND_MODES.NORMAL;break}e.push(a)}return e}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let n=new Array(e);this.prio2index=new Array(e);const s=this.curAnimation.frameData(t);for(let f=0;f<e;f++){const a=s.states(f),o=a.index();let r=a.flag1(),u=a.flag2(),p=-1,c=this.GetDefaultDataByIndex(o);c.flag1=r,c.flag2=u;let m=0;if(r&it.INVISIBLE&&(c.f_hide=!0),r&it.FLIP_H&&(c.f_flipH=!0),r&it.FLIP_V&&(c.f_flipV=!0),r&it.CELL_INDEX&&(c.cellIndex=a.data(m++)),r&it.POSITION_X&&(c.positionX=this.I2F(a.data(m++))),r&it.POSITION_Y&&(c.positionY=this.I2F(a.data(m++))),r&it.POSITION_Z&&m++,r&it.PIVOT_X&&(c.pivotX=this.I2F(a.data(m++))),r&it.PIVOT_Y&&(c.pivotY=this.I2F(a.data(m++))),r&it.ROTATIONX&&m++,r&it.ROTATIONY&&m++,r&it.ROTATIONZ&&(c.rotationZ=this.I2F(a.data(m++))),r&it.SCALE_X&&(c.scaleX=this.I2F(a.data(m++))),r&it.SCALE_Y&&(c.scaleY=this.I2F(a.data(m++))),r&it.LOCALSCALE_X&&(c.localscaleX=this.I2F(a.data(m++))),r&it.LOCALSCALE_Y&&(c.localscaleY=this.I2F(a.data(m++))),r&it.OPACITY&&(c.opacity=a.data(m++)),r&it.LOCALOPACITY&&(c.localopacity=a.data(m++)),r&it.SIZE_X&&(c.size_X=this.I2F(a.data(m++))),r&it.SIZE_Y&&(c.size_Y=this.I2F(a.data(m++))),r&it.U_MOVE&&(c.uv_move_X=this.I2F(a.data(m++))),r&it.V_MOVE&&(c.uv_move_Y=this.I2F(a.data(m++))),r&it.UV_ROTATION&&(c.uv_rotation=this.I2F(a.data(m++))),r&it.U_SCALE&&(c.uv_scale_X=this.I2F(a.data(m++))),r&it.V_SCALE&&(c.uv_scale_Y=this.I2F(a.data(m++))),r&it.BOUNDINGRADIUS&&m++,r&it.MASK&&(c.masklimen=a.data(m++)),r&it.PRIORITY&&(c.priority=a.data(m++)),r&it.INSTANCE_KEYFRAME&&(c.instanceValue_curKeyframe=a.data(m++),c.instanceValue_startFrame=a.data(m++),c.instanceValue_endFrame=a.data(m++),c.instanceValue_loopNum=a.data(m++),c.instanceValue_speed=this.I2F(a.data(m++)),c.instanceValue_loopflag=a.data(m++)),r&it.EFFECT_KEYFRAME&&(c.effectValue_curKeyframe=a.data(m++),c.effectValue_startTime=a.data(m++),c.effectValue_speed=this.I2F(a.data(m++)),c.effectValue_loopflag=a.data(m++)),r&it.VERTEX_TRANSFORM){c.f_mesh=!0;const g=c.i_transformVerts=a.data(m++);g&1&&(c.u00=this.I2F(a.data(m++)),c.v00=this.I2F(a.data(m++))),g&2&&(c.u01=this.I2F(a.data(m++)),c.v01=this.I2F(a.data(m++))),g&4&&(c.u10=this.I2F(a.data(m++)),c.v10=this.I2F(a.data(m++))),g&8&&(c.u11=this.I2F(a.data(m++)),c.v11=this.I2F(a.data(m++)))}if(r&it.PARTS_COLOR){const g=a.data(m++);if(p=g&255,c.useColorMatrix=p!==1,g&4096){const S=this.I2F(a.data(m++)),w=a.data(m++),h=a.data(m++),d=w<<16|h;c.partsColorARGB=d>>>0,p===1?c.tint=d&16777215:c.colorMatrix=this.GetColorMatrixFilter(p,S,d)}g&2048&&(m++,m++,m++,c.colorMatrix=this.defaultColorFilter),g&1024&&(m++,m++,m++,c.colorMatrix=this.defaultColorFilter),g&512&&(m++,m++,m++,c.colorMatrix=this.defaultColorFilter),g&256&&(m++,m++,m++,c.colorMatrix=this.defaultColorFilter)}if(u&Be.MESHDATA){c.meshIsBind=this.curAnimation.meshsDataUV(o).uv(0),c.meshNum=this.curAnimation.meshsDataUV(o).uv(1);let g=new Float32Array(c.meshNum*3);for(let S=0;S<c.meshNum;S++){const w=this.I2F(a.data(m++)),h=this.I2F(a.data(m++)),d=this.I2F(a.data(m++));g[S*3+0]=w,g[S*3+1]=h,g[S*3+2]=d}c.meshDataPoint=g}n[o]=c,this.prio2index[f]=o,this.fbObj.animePacks(this.parts).parts(o).type()===0&&(n[o].cellIndex=-2)}return this.frameDataCache=n,this.currentCachedFrameNumber=t,n}GetColorMatrixFilter(t,e,n){const s=t.toString()+"_"+e.toString()+"_"+n.toString();if(this.colorMatrixFilterCache[s])return this.colorMatrixFilterCache[s];const f=new Re.ColorMatrixFilter,a=((n&4278190080)>>>24)/255,o=((n&16711680)>>>16)/255,r=((n&65280)>>>8)/255,u=(n&255)/255;if(t===0){const p=1-e;f.matrix=[p,0,0,0,o*e,0,p,0,0,r*e,0,0,p,0,u*e,0,0,0,1,0]}else t===1?f.matrix=[o,0,0,0,0,0,r,0,0,0,0,0,u,0,0,0,0,0,a,0]:t===2?f.matrix=[1,0,0,0,o,0,1,0,0,r,0,0,1,0,u,0,0,0,a,0]:t===3&&(f.matrix=[1,0,0,0,-o,0,1,0,0,-r,0,0,1,0,-u,0,0,0,a,0]);return this.colorMatrixFilterCache[s]=f,f}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];return{index:e.index(),lowflag:e.lowflag(),highflag:e.highflag(),priority:e.priority(),cellIndex:e.cellIndex(),opacity:e.opacity(),localopacity:e.localopacity(),masklimen:e.masklimen(),positionX:e.positionX(),positionY:e.positionY(),pivotX:e.pivotX(),pivotY:e.pivotY(),rotationX:e.rotationX(),rotationY:e.rotationY(),rotationZ:e.rotationZ(),scaleX:e.scaleX(),scaleY:e.scaleY(),localscaleX:e.localscaleX(),localscaleY:e.localscaleY(),size_X:e.sizeX(),size_Y:e.sizeY(),uv_move_X:e.uvMoveX(),uv_move_Y:e.uvMoveY(),uv_rotation:e.uvRotation(),uv_scale_X:e.uvScaleX(),uv_scale_Y:e.uvScaleY(),boundingRadius:e.boundingRadius(),instanceValue_curKeyframe:e.instanceValueCurKeyframe(),instanceValue_endFrame:e.instanceValueEndFrame(),instanceValue_startFrame:e.instanceValueStartFrame(),instanceValue_loopNum:e.instanceValueLoopNum(),instanceValue_speed:e.instanceValueSpeed(),instanceValue_loopflag:e.instanceValueLoopflag(),effectValue_curKeyframe:e.effectValueCurKeyframe(),effectValue_startTime:e.effectValueStartTime(),effectValue_speed:e.effectValueSpeed(),effectValue_loopflag:e.effectValueLoopflag(),f_hide:!1,f_flipH:!1,f_flipV:!1,f_mesh:!1,i_transformVerts:0,u00:0,v00:0,u01:0,v01:0,u10:0,v10:0,u11:0,v11:0,useColorMatrix:!1,colorMatrix:null,meshIsBind:0,meshNum:0,meshDataPoint:0,flag1:0,flag2:0,partsColorARGB:0}}SetFrameAnimation(t,e=0){const n=this.GetFrameData(t);this.removeChildren();const s=n.length;for(let f=0;f<s;f=f+1|0){const a=this.prio2index[f],o=n[a],r=o.cellIndex;let u=this.prevMesh[a];const p=this.fbObj.animePacks(this.parts).parts(a),c=p.type();let m=this.substituteOverWrite[a]!==null?this.substituteOverWrite[a]:!1,g=this.substituteKeyParam[a];switch(c){case wt.Instance:u==null&&(u=this.MakeCellPlayer(p.refname()),u.name=p.name());break;case wt.Normal:case wt.Mask:r>=0&&this.prevCellID[a]!==r&&(u?.destroy(),u=this.MakeCellMesh(r),u.name=p.name());break;case wt.Mesh:r>=0&&this.prevCellID[a]!==r&&(u?.destroy(),u=this.MakeMeshCellMesh(a,r),u.name=p.name());break;case wt.Nulltype:case wt.Joint:this.prevCellID[a]!==r&&(u?.destroy(),u=new Oe.Container,u.name=p.name());break;default:r>=0&&this.prevCellID[a]!==r&&(u?.destroy(),u=this.MakeCellMesh(r),u.name=p.name());break}if(u!=null)switch(this.prevCellID[a]=r,this.prevMesh[a]=u,c){case wt.Instance:{this._instancePos[0]=0,this._instancePos[1]=0,this._instancePos[2]=1,this._instancePos[3]=1,this._instancePos[4]=0,this._instancePos=this.TransformPositionLocal(this._instancePos,o.index,t),u.rotation=this._instancePos[4]*Math.PI/180,u.position.set(this._instancePos[0],this._instancePos[1]),u.scale.set(this._instancePos[2],this._instancePos[3]);let S=o.opacity/255;o.localopacity<255&&(S=o.localopacity/255),u.SetAlpha(S*this.parentAlpha),u.visible=!o.f_hide;let w=o.instanceValue_curKeyframe,h=o.instanceValue_startFrame,d=o.instanceValue_endFrame,v=o.instanceValue_speed,k=o.instanceValue_loopNum,D=!1,y=!1,I=!1,C=!1;const E=1,N=2,A=4,B=8,z=o.instanceValue_loopflag;z&E&&(D=!0),z&N&&(y=!0),z&A&&(I=!0),z&B&&(C=!0),m&&(h=g.refStartframe,d=g.refEndframe,v=g.refSpeed,k=g.refloopNum,D=g.infinity,y=g.reverse,I=g.pingpong,C=g.independent),(u._startFrame!==h||u._endFrame!==d)&&u.SetAnimationSection(h,d);let Z=t;C===!0&&(this.liveFrame[f]+=e,Z=Math.floor(this.liveFrame[f]));const Q=w;let K=Math.floor((Z-Q)*v);if(K<0||Q>Z)continue;const q=d-h+1;if(q<=0)continue;let G=Math.floor(K/q),j=k;I&&(j=j*2),D||G>=j&&(K=q-1,G=j-1);const et=Math.floor(K%q);let st=0;I&&G%2===1&&(y?y=!1:y=!0),this.playDirection<=-1&&(y=!y),y?st=d-et:st=et+h,u.SetFrame(Math.floor(st)),this.addChild(u);break}case wt.Normal:case wt.Mesh:case wt.Joint:case wt.Mask:{const S=this.fbObj.cells(r);let w;if(c===wt.Mesh?o.meshIsBind===0?w=this.TransformMeshVertsLocal(qt.GetMeshVerts(S,o,u.vertices),o.index,t):w=qt.GetMeshVerts(S,o,u.vertices):(w=c===wt.Joint?new Float32Array(10):u.vertices,w=this.TransformVertsLocal(qt.GetVerts(S,o,w),o.index,t)),o.flag1&it.VERTEX_TRANSFORM){const D=w[6],y=w[3*2+1],I=w[1*2+0],C=w[1*2+1],E=w[4*2+0],N=w[4*2+1],A=w[2*2+0],B=w[2*2+1],z=(D+E)*.5,Z=(y+N)*.5,Q=(D+I)*.5,K=(y+C)*.5,q=(I+A)*.5,G=(C+B)*.5,j=(E+A)*.5,et=(N+B)*.5,st=qt.CoordinateGetDiagonalIntersection(w[0],w[1],z,Z,j,et,Q,K,q,G,this._CoordinateGetDiagonalIntersectionVec2);w[0]=st[0],w[1]=st[1]}const h=w[0],d=w[1];for(let D=0;D<w.length/2;D++)w[D*2]-=h,w[D*2+1]-=d;if(u.vertices=w,o.flag1&it.U_MOVE||o.flag1&it.V_MOVE||o.flag1&it.U_SCALE||o.flag1&it.V_SCALE||o.flag1&it.UV_ROTATION){const D=S.u1()+o.uv_move_X,y=S.u2()+o.uv_move_X,I=S.v1()+o.uv_move_Y,C=S.v2()+o.uv_move_Y,E=(y+D)/2,N=(C+I)/2,A=(y-D)/2*o.uv_scale_X,B=(C-I)/2*o.uv_scale_Y;if(u.uvs[0]=E,u.uvs[1]=N,u.uvs[2]=E-A,u.uvs[3]=N-B,u.uvs[4]=E+A,u.uvs[5]=N-B,u.uvs[6]=E-A,u.uvs[7]=N+B,u.uvs[8]=E+A,u.uvs[9]=N+B,o.flag1&it.UV_ROTATION){const z=o.uv_rotation*Math.PI/180;for(let Z=0;Z<5;Z++){const Q=u.uvs[Z*2+0]-E,K=u.uvs[Z*2+1]-N,q=Math.cos(z),G=Math.sin(z),j=q*Q-G*K,et=G*Q+q*K;u.uvs[Z*2+0]=E+j,u.uvs[Z*2+1]=N+et}}u.dirty++}u.position.set(h,d);let v=o.opacity/255;if(o.localopacity<255&&(v=o.localopacity/255),u.alpha=v*this.parentAlpha,u.visible=!o.f_hide,o.useColorMatrix&&(u.filters=[o.colorMatrix]),o.tint){u.tint=o.tint;const D=((o.partsColorARGB&4278190080)>>>24)/255;u.alpha=u.alpha*D}o.tintRgb&&(u.tintRgb=o.tintRgb);const k=this.alphaBlendType[a];(k===zt.BLEND_MODES.MULTIPLY||k===zt.BLEND_MODES.SCREEN)&&(u.alpha=1),c!==wt.Mask&&this.addChild(u);break}case wt.Nulltype:{const S=this.InheritOpacity(1,o.index,t);u.alpha=S*o.localopacity/255;const w=this.TransformVerts(qt.GetDummyVerts(),o.index,t),h=w[0],d=w[1];u.position.set(h,d);const v=Math.atan2(w[5]-w[3],w[4]-w[2]),k=Math.atan2(w[7]-w[3],w[6]-w[2]);u.rotation=v,u.skew.x=k-v-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,n,s,f=null){let a=!1;if(this.curAnimePackName!==null&&this.curAnimation!==null){let o=this.curAnimePackData,r=o.partsLength();for(let u=0;u<r;u++){let p=o.parts(u);if(p.name()===t){let c=this.prevMesh[u];if(c===null||c instanceof qt){let m;f!==null?(m=f,c=this.MakeCellPlayer(e+"/"+n,f.refStartframe)):(c=this.MakeCellPlayer(e+"/"+n),m=new Ke,m.refStartframe=c.startFrame,m.refEndframe=c.endFrame),c.name=p.name(),this.prevMesh[u]=c,this.substituteKeyParam[u]=m,a=!0;break}}}}return a}InheritOpacity(t,e,n){return t=this.GetFrameData(n)[e].opacity/255,this.parentIndex[e]>=0&&(t=this.InheritOpacity(t,this.parentIndex[e],n)),t}TransformVertsLocal(t,e,n){const s=this.GetFrameData(n)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),o=Math.sin(f);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];s.i_transformVerts&1&&r===1&&(u+=s.u00,p-=s.v00),s.i_transformVerts&2&&r===2&&(u+=s.u01,p-=s.v01),s.i_transformVerts&4&&r===3&&(u+=s.u10,p-=s.v10),s.i_transformVerts&8&&r===4&&(u+=s.u11,p-=s.v11),u*=s.scaleX*s.localscaleX,p*=s.scaleY*s.localscaleY,t[r*2]=a*u-o*p+s.positionX,t[r*2+1]=o*u+a*p-s.positionY,s.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),s.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],n)),t}TransformMeshVertsLocal(t,e,n){const s=this.GetFrameData(n)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),o=Math.sin(f);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];u*=s.scaleX*s.localscaleX,p*=s.scaleY*s.localscaleY,t[r*2]=a*u-o*p+s.positionX,t[r*2+1]=o*u+a*p-s.positionY}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],n)),t}TransformPositionLocal(t,e,n){const s=this.GetFrameData(n)[e];t[4]+=-s.rotationZ;const f=-s.rotationZ*Math.PI/180,a=Math.cos(f),o=Math.sin(f),r=t[0]*s.scaleX*s.localscaleX,u=t[1]*s.scaleY*s.localscaleY;return t[2]*=s.scaleX*s.localscaleX,t[3]*=s.scaleY*s.localscaleY,t[0]=a*r-o*u+s.positionX,t[1]=o*r+a*u-s.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],n)),t}static CoordinateGetDiagonalIntersection(t,e,n,s,f,a,o,r,u,p,c){const m=(r-a)*(o-n)-(o-f)*(r-s),g=(u-n)*(r-s)-(p-s)*(o-n),S=(u-n)*(r-a)-(p-s)*(o-f);if(S<=0&&S>=0)return c;const w=m/S,h=g/S;return 0<=w&&1>=w&&0<=h&&1>=h&&(t=n+w*(u-n),e=s+w*(p-s)),c[0]=t,c[1]=e,c}TransformVerts(t,e,n){const s=this.GetFrameData(n)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),o=Math.sin(f);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];u*=s.scaleX,p*=s.scaleY,t[r*2]=a*u-o*p+s.positionX,t[r*2+1]=o*u+a*p-s.positionY,s.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),s.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],n)),t}TransformPosition(t,e,n){const s=this.GetFrameData(n)[e];t[4]+=-s.rotationZ;const f=-s.rotationZ*Math.PI/180,a=Math.cos(f),o=Math.sin(f),r=t[0]*s.scaleX,u=t[1]*s.scaleY;return t[2]*=s.scaleX,t[3]*=s.scaleY,t[0]=a*r-o*u+s.positionX,t[1]=o*r+a*u-s.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],n)),t}MakeCellMesh(t){const e=this.fbObj.cells(t),n=e.u1(),s=e.u2(),f=e.v1(),a=e.v2(),o=e.width()/2,r=e.height()/2,u=new Float32Array([0,0,-o,-r,o,-r,-o,r,o,r]),p=new Float32Array([(n+s)/2,(f+a)/2,n,f,s,f,n,a,s,a]),c=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new Ne.SimpleMesh(this.resources[e.cellMap().name()].texture,u,p,c,zt.DRAW_MODES.TRIANGLES)}MakeMeshCellMesh(t,e){const n=this.curAnimation.meshsDataUV(t),s=n.uvLength();if(s>0){const f=new Float32Array(s-2),a=n.uv(1);for(let c=2;c<s;c++)f[c-2]=n.uv(c);const o=this.curAnimation.meshsDataIndices(t),r=o.indicesLength(),u=new Uint16Array(r-1);for(let c=1;c<r;c++)u[c-1]=o.indices(c);const p=new Float32Array(a*2);return new Ne.SimpleMesh(this.resources[this.fbObj.cells(e).cellMap().name()].texture,p,f,u,zt.DRAW_MODES.TRIANGLES)}return null}MakeCellPlayer(t,e=void 0){const n=t.split("/"),s=new qt(this.ss6project);return s.Setup(n[0],n[1]),s.Play(e),s}static GetVerts(t,e,n){const s=e.size_X/2,f=e.size_Y/2,a=e.size_X*-(e.pivotX+t.pivotX()),o=e.size_Y*(e.pivotY+t.pivotY());return n.set([a,o,a-s,o-f,a+s,o-f,a-s,o+f,a+s,o+f]),n}static GetMeshVerts(t,e,n){for(let s=0;s<e.meshNum;s++)n[s*2]=e.meshDataPoint[s*3],n[s*2+1]=-e.meshDataPoint[s*3+1];return n}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}resetLiveFrame(){const t=this.curAnimation.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class Ge extends qt{constructor(t){super(t.projectData),this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let n=this;this.playEndCallback=s=>{n.ssWebPlayer&&n.ssWebPlayer.playEndCallback&&n.ssWebPlayer.playEndCallback(n)},this.onUserDataCallback=s=>{n.ssWebPlayer&&n.ssWebPlayer.onUpdateCallback&&n.ssWebPlayer.onUpdateCallback(n)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.curAnimation;let e={};const n=t.userDataLength();for(let s=0;s<n;s++){const a=t.userData(s).frameIndex();let o=e[a];o==null&&(o={});const r=this.GetUserData(a);let u={};const p=r.length;for(let c=0;c<p;c++){const m=r[c],g=m[0],w=this.curAnimePackData.parts(g).name();m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9];const h=m[10];u[w]={string:h}}o.userData=u,e[a]=o}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(L){throw new Error('Could not dynamically require "'+L+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var je={exports:{}};/*!

  JSZip v3.10.0 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(L,t){(function(e){L.exports=e()})(function(){return function e(n,s,f){function a(u,p){if(!s[u]){if(!n[u]){var c=typeof ke=="function"&&ke;if(!p&&c)return c(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var g=s[u]={exports:{}};n[u][0].call(g.exports,function(S){var w=n[u][1][S];return a(w||S)},g,g.exports,e,n,s,f)}return s[u].exports}for(var o=typeof ke=="function"&&ke,r=0;r<f.length;r++)a(f[r]);return a}({1:[function(e,n,s){var f=e("./utils"),a=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(r){for(var u=[],p,c,m,g,S,w,h,d=0,v=r.length,k=v,D=f.getTypeOf(r)!=="string";d<r.length;)k=v-d,D?(p=r[d++],c=d<v?r[d++]:0,m=d<v?r[d++]:0):(p=r.charCodeAt(d++),c=d<v?r.charCodeAt(d++):0,m=d<v?r.charCodeAt(d++):0),g=p>>2,S=(p&3)<<4|c>>4,w=k>1?(c&15)<<2|m>>6:64,h=k>2?m&63:64,u.push(o.charAt(g)+o.charAt(S)+o.charAt(w)+o.charAt(h));return u.join("")},s.decode=function(r){var u,p,c,m,g,S,w,h=0,d=0,v="data:";if(r.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");var k=r.length*3/4;if(r.charAt(r.length-1)===o.charAt(64)&&k--,r.charAt(r.length-2)===o.charAt(64)&&k--,k%1!==0)throw new Error("Invalid base64 input, bad content length.");var D;for(a.uint8array?D=new Uint8Array(k|0):D=new Array(k|0);h<r.length;)m=o.indexOf(r.charAt(h++)),g=o.indexOf(r.charAt(h++)),S=o.indexOf(r.charAt(h++)),w=o.indexOf(r.charAt(h++)),u=m<<2|g>>4,p=(g&15)<<4|S>>2,c=(S&3)<<6|w,D[d++]=u,S!==64&&(D[d++]=p),w!==64&&(D[d++]=c);return D}},{"./support":30,"./utils":32}],2:[function(e,n,s){var f=e("./external"),a=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),r=e("./stream/DataLengthProbe");function u(p,c,m,g,S){this.compressedSize=p,this.uncompressedSize=c,this.crc32=m,this.compression=g,this.compressedContent=S}u.prototype={getContentWorker:function(){var p=new a(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),c=this;return p.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new a(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(p,c,m){return p.pipe(new o).pipe(new r("uncompressedSize")).pipe(c.compressWorker(m)).pipe(new r("compressedSize")).withStreamInfo("compression",c)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,n,s){var f=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(a){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,n,s){var f=e("./utils");function a(){for(var p,c=[],m=0;m<256;m++){p=m;for(var g=0;g<8;g++)p=p&1?3988292384^p>>>1:p>>>1;c[m]=p}return c}var o=a();function r(p,c,m,g){var S=o,w=g+m;p=p^-1;for(var h=g;h<w;h++)p=p>>>8^S[(p^c[h])&255];return p^-1}function u(p,c,m,g){var S=o,w=g+m;p=p^-1;for(var h=g;h<w;h++)p=p>>>8^S[(p^c.charCodeAt(h))&255];return p^-1}n.exports=function(c,m){if(typeof c>"u"||!c.length)return 0;var g=f.getTypeOf(c)!=="string";return g?r(m|0,c,c.length,0):u(m|0,c,c.length,0)}},{"./utils":32}],5:[function(e,n,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,n,s){var f=null;typeof Promise<"u"?f=Promise:f=e("lie"),n.exports={Promise:f}},{lie:37}],7:[function(e,n,s){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),o=e("./utils"),r=e("./stream/GenericWorker"),u=f?"uint8array":"array";s.magic="\b\0";function p(c,m){r.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=m,this.meta={}}o.inherits(p,r),p.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,c.data),!1)},p.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(m){c.push({data:m,meta:c.meta})}},s.compressWorker=function(c){return new p("Deflate",c)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,n,s){var f=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),r=e("../crc32"),u=e("../signature"),p=function(d,v){var k="",D;for(D=0;D<v;D++)k+=String.fromCharCode(d&255),d=d>>>8;return k},c=function(d,v){var k=d;return d||(k=v?16893:33204),(k&65535)<<16},m=function(d,v){return(d||0)&63},g=function(d,v,k,D,y,I){var C=d.file,E=d.compression,N=I!==o.utf8encode,A=f.transformTo("string",I(C.name)),B=f.transformTo("string",o.utf8encode(C.name)),z=C.comment,Z=f.transformTo("string",I(z)),Q=f.transformTo("string",o.utf8encode(z)),K=B.length!==C.name.length,q=Q.length!==z.length,G,j,et="",st="",pt="",J=C.dir,lt=C.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};(!v||k)&&(ft.crc32=d.crc32,ft.compressedSize=d.compressedSize,ft.uncompressedSize=d.uncompressedSize);var Ot=0;v&&(Ot|=8),!N&&(K||q)&&(Ot|=2048);var It=0,mt=0;J&&(It|=16),y==="UNIX"?(mt=798,It|=c(C.unixPermissions,J)):(mt=20,It|=m(C.dosPermissions)),G=lt.getUTCHours(),G=G<<6,G=G|lt.getUTCMinutes(),G=G<<5,G=G|lt.getUTCSeconds()/2,j=lt.getUTCFullYear()-1980,j=j<<4,j=j|lt.getUTCMonth()+1,j=j<<5,j=j|lt.getUTCDate(),K&&(st=p(1,1)+p(r(A),4)+B,et+="up"+p(st.length,2)+st),q&&(pt=p(1,1)+p(r(Z),4)+Q,et+="uc"+p(pt.length,2)+pt);var at="";at+=`
\0`,at+=p(Ot,2),at+=E.magic,at+=p(G,2),at+=p(j,2),at+=p(ft.crc32,4),at+=p(ft.compressedSize,4),at+=p(ft.uncompressedSize,4),at+=p(A.length,2),at+=p(et.length,2);var St=u.LOCAL_FILE_HEADER+at+A+et,gt=u.CENTRAL_FILE_HEADER+p(mt,2)+at+p(Z.length,2)+"\0\0\0\0"+p(It,4)+p(D,4)+A+et+Z;return{fileRecord:St,dirRecord:gt}},S=function(d,v,k,D,y){var I="",C=f.transformTo("string",y(D));return I=u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(d,2)+p(d,2)+p(v,4)+p(k,4)+p(C.length,2)+C,I},w=function(d){var v="";return v=u.DATA_DESCRIPTOR+p(d.crc32,4)+p(d.compressedSize,4)+p(d.uncompressedSize,4),v};function h(d,v,k,D){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=k,this.encodeFileName=D,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(h,a),h.prototype.push=function(d){var v=d.meta.percent||0,k=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,a.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:k?(v+100*(k-D-1))/k:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var v=this.streamFiles&&!d.file.dir;if(v){var k=g(d,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var v=this.streamFiles&&!d.file.dir,k=g(d,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),v)this.push({data:w(d),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var k=this.bytesWritten-d,D=S(this.dirRecords.length,k,d,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var v=this;return d.on("data",function(k){v.processChunk(k)}),d.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),d.on("error",function(k){v.error(k)}),this},h.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},h.prototype.error=function(d){var v=this._sources;if(!a.prototype.error.call(this,d))return!1;for(var k=0;k<v.length;k++)try{v[k].error(d)}catch{}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var d=this._sources,v=0;v<d.length;v++)d[v].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,n,s){var f=e("../compressions"),a=e("./ZipFileWorker"),o=function(r,u){var p=r||u,c=f[p];if(!c)throw new Error(p+" is not a valid compression method !");return c};s.generateWorker=function(r,u,p){var c=new a(u.streamFiles,p,u.platform,u.encodeFileName),m=0;try{r.forEach(function(g,S){m++;var w=o(S.options.compression,u.compression),h=S.options.compressionOptions||u.compressionOptions||{},d=S.dir,v=S.date;S._compressWorker(w,h).withStreamInfo("file",{name:g,dir:d,date:v,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(c)}),c.entriesCount=m}catch(g){c.error(g)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,n,s){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new f;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}f.prototype=e("./object"),f.prototype.loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.0",f.loadAsync=function(a,o){return new f().loadAsync(a,o)},f.external=e("./external"),n.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,n,s){var f=e("./utils"),a=e("./external"),o=e("./utf8"),r=e("./zipEntries"),u=e("./stream/Crc32Probe"),p=e("./nodejsUtils");function c(m){return new a.Promise(function(g,S){var w=m.decompressed.getContentWorker().pipe(new u);w.on("error",function(h){S(h)}).on("end",function(){w.streamInfo.crc32!==m.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(m,g){var S=this;return g=f.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),p.isNode&&p.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",m,!0,g.optimizedBinaryString,g.base64).then(function(w){var h=new r(g);return h.load(w),h}).then(function(h){var d=[a.Promise.resolve(h)],v=h.files;if(g.checkCRC32)for(var k=0;k<v.length;k++)d.push(c(v[k]));return a.Promise.all(d)}).then(function(h){for(var d=h.shift(),v=d.files,k=0;k<v.length;k++){var D=v[k],y=D.fileNameStr,I=f.resolve(D.fileNameStr);S.file(I,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:g.createFolders}),D.dir||(S.file(I).unsafeOriginalName=y)}return d.zipComment.length&&(S.comment=d.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,n,s){var f=e("../utils"),a=e("../stream/GenericWorker");function o(r,u){a.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(u)}f.inherits(o,a),o.prototype._bindStream=function(r){var u=this;this._stream=r,r.pause(),r.on("data",function(p){u.push({data:p,meta:{percent:0}})}).on("error",function(p){u.isPaused?this.generatedError=p:u.error(p)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,n,s){var f=e("readable-stream").Readable,a=e("../utils");a.inherits(o,f);function o(r,u,p){f.call(this,u),this._helper=r;var c=this;r.on("data",function(m,g){c.push(m)||c._helper.pause(),p&&p(g)}).on("error",function(m){c.emit("error",m)}).on("end",function(){c.push(null)})}o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(e,n,s){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,a);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,a)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var a=new Buffer(f);return a.fill(0),a},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,n,s){var f=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),r=e("./stream/StreamHelper"),u=e("./defaults"),p=e("./compressedObject"),c=e("./zipObject"),m=e("./generate"),g=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),w=function(y,I,C){var E=a.getTypeOf(I),N,A=a.extend(C||{},u);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&A.unixPermissions&16384&&(A.dir=!0),A.dosPermissions&&A.dosPermissions&16&&(A.dir=!0),A.dir&&(y=d(y)),A.createFolders&&(N=h(y))&&v.call(this,N,!0);var B=E==="string"&&A.binary===!1&&A.base64===!1;(!C||typeof C.binary>"u")&&(A.binary=!B);var z=I instanceof p&&I.uncompressedSize===0;(z||A.dir||!I||I.length===0)&&(A.base64=!1,A.binary=!0,I="",A.compression="STORE",E="string");var Z=null;I instanceof p||I instanceof o?Z=I:g.isNode&&g.isStream(I)?Z=new S(y,I):Z=a.prepareContent(y,I,A.binary,A.optimizedBinaryString,A.base64);var Q=new c(y,Z,A);this.files[y]=Q},h=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var I=y.lastIndexOf("/");return I>0?y.substring(0,I):""},d=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},v=function(y,I){return I=typeof I<"u"?I:u.createFolders,y=d(y),this.files[y]||w.call(this,y,null,{dir:!0,createFolders:I}),this.files[y]};function k(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var I,C,E;for(I in this.files)E=this.files[I],C=I.slice(this.root.length,I.length),C&&I.slice(0,this.root.length)===this.root&&y(C,E)},filter:function(y){var I=[];return this.forEach(function(C,E){y(C,E)&&I.push(E)}),I},file:function(y,I,C){if(arguments.length===1)if(k(y)){var E=y;return this.filter(function(A,B){return!B.dir&&E.test(A)})}else{var N=this.files[this.root+y];return N&&!N.dir?N:null}else y=this.root+y,w.call(this,y,I,C);return this},folder:function(y){if(!y)return this;if(k(y))return this.filter(function(N,A){return A.dir&&y.test(N)});var I=this.root+y,C=v.call(this,I),E=this.clone();return E.root=C.name,E},remove:function(y){y=this.root+y;var I=this.files[y];if(I||(y.slice(-1)!=="/"&&(y+="/"),I=this.files[y]),I&&!I.dir)delete this.files[y];else for(var C=this.filter(function(N,A){return A.name.slice(0,y.length)===y}),E=0;E<C.length;E++)delete this.files[C[E].name];return this},generate:function(y){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var I,C={};try{if(C=a.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),C.type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),(C.platform==="darwin"||C.platform==="freebsd"||C.platform==="linux"||C.platform==="sunos")&&(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var E=C.comment||this.comment||"";I=m.generateWorker(this,C,E)}catch(N){I=new o("error"),I.error(N)}return new r(I,C.type||"string",C.mimeType)},generateAsync:function(y,I){return this.generateInternalStream(y).accumulate(I)},generateNodeStream:function(y,I){return y=y||{},y.type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(I)}};n.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,n,s){n.exports=e("stream")},{stream:void 0}],17:[function(e,n,s){var f=e("./DataReader"),a=e("../utils");function o(r){f.call(this,r);for(var u=0;u<this.data.length;u++)r[u]=r[u]&255}a.inherits(o,f),o.prototype.byteAt=function(r){return this.data[this.zero+r]},o.prototype.lastIndexOfSignature=function(r){for(var u=r.charCodeAt(0),p=r.charCodeAt(1),c=r.charCodeAt(2),m=r.charCodeAt(3),g=this.length-4;g>=0;--g)if(this.data[g]===u&&this.data[g+1]===p&&this.data[g+2]===c&&this.data[g+3]===m)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(r){var u=r.charCodeAt(0),p=r.charCodeAt(1),c=r.charCodeAt(2),m=r.charCodeAt(3),g=this.readData(4);return u===g[0]&&p===g[1]&&c===g[2]&&m===g[3]},o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(e,n,s){var f=e("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(o){},readInt:function(o){var r=0,u;for(this.checkOffset(o),u=this.index+o-1;u>=this.index;u--)r=(r<<8)+this.byteAt(u);return this.index+=o,r},readString:function(o){return f.transformTo("string",this.readData(o))},readData:function(o){},lastIndexOfSignature:function(o){},readAndCheckSignature:function(o){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},n.exports=a},{"../utils":32}],19:[function(e,n,s){var f=e("./Uint8ArrayReader"),a=e("../utils");function o(r){f.call(this,r)}a.inherits(o,f),o.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,n,s){var f=e("./DataReader"),a=e("../utils");function o(r){f.call(this,r)}a.inherits(o,f),o.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},o.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},o.prototype.readAndCheckSignature=function(r){var u=this.readData(4);return r===u},o.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(e,n,s){var f=e("./ArrayReader"),a=e("../utils");function o(r){f.call(this,r)}a.inherits(o,f),o.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(e,n,s){var f=e("../utils"),a=e("../support"),o=e("./ArrayReader"),r=e("./StringReader"),u=e("./NodeBufferReader"),p=e("./Uint8ArrayReader");n.exports=function(c){var m=f.getTypeOf(c);return f.checkSupport(m),m==="string"&&!a.uint8array?new r(c):m==="nodebuffer"?new u(c):a.uint8array?new p(f.transformTo("uint8array",c)):new o(f.transformTo("array",c))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,n,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,n,s){var f=e("./GenericWorker"),a=e("../utils");function o(r){f.call(this,"ConvertWorker to "+r),this.destType=r}a.inherits(o,f),o.prototype.processChunk=function(r){this.push({data:a.transformTo(this.destType,r.data),meta:r.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,n,s){var f=e("./GenericWorker"),a=e("../crc32"),o=e("../utils");function r(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(r,f),r.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,n,s){var f=e("../utils"),a=e("./GenericWorker");function o(r){a.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}f.inherits(o,a),o.prototype.processChunk=function(r){if(r){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+r.data.length}a.prototype.processChunk.call(this,r)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,n,s){var f=e("../utils"),a=e("./GenericWorker"),o=16*1024;function r(u){a.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(c){p.dataIsReady=!0,p.data=c,p.max=c&&c.length||0,p.type=f.getTypeOf(c),p.isPaused||p._tickAndRepeat()},function(c){p.error(c)})}f.inherits(r,a),r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=o,p=null,c=Math.min(this.max,this.index+u);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,c);break;case"uint8array":p=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":p=this.data.slice(this.index,c);break}return this.index=c,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(e,n,s){function f(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var r=0;r<this._listeners[a].length;r++)this._listeners[a][r].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(r){o.processChunk(r)}),a.on("end",function(){o.end()}),a.on("error",function(r){o.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(a)||(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=f},{}],29:[function(e,n,s){var f=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),r=e("../base64"),u=e("../support"),p=e("../external"),c=null;if(u.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(h,d,v){switch(h){case"blob":return f.newBlob(f.transformTo("arraybuffer",d),v);case"base64":return r.encode(d);default:return f.transformTo(h,d)}}function g(h,d){var v,k=0,D=null,y=0;for(v=0;v<d.length;v++)y+=d[v].length;switch(h){case"string":return d.join("");case"array":return Array.prototype.concat.apply([],d);case"uint8array":for(D=new Uint8Array(y),v=0;v<d.length;v++)D.set(d[v],k),k+=d[v].length;return D;case"nodebuffer":return Buffer.concat(d);default:throw new Error("concat : unsupported type '"+h+"'")}}function S(h,d){return new p.Promise(function(v,k){var D=[],y=h._internalType,I=h._outputType,C=h._mimeType;h.on("data",function(E,N){D.push(E),d&&d(N)}).on("error",function(E){D=[],k(E)}).on("end",function(){try{var E=m(I,g(y,D),C);v(E)}catch(N){k(N)}D=[]}).resume()})}function w(h,d,v){var k=d;switch(d){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string";break}try{this._internalType=k,this._outputType=d,this._mimeType=v,f.checkSupport(k),this._worker=h.pipe(new a(k)),h.lock()}catch(D){this._worker=new o("error"),this._worker.error(D)}}w.prototype={accumulate:function(h){return S(this,h)},on:function(h,d){var v=this;return h==="data"?this._worker.on(h,function(k){d.call(v,k.data,k.meta)}):this._worker.on(h,function(){f.delay(d,arguments,v)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},h)}},n.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var f=new ArrayBuffer(0);try{s.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(f),s.blob=o.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,n,s){for(var f=e("./utils"),a=e("./support"),o=e("./nodejsUtils"),r=e("./stream/GenericWorker"),u=new Array(256),p=0;p<256;p++)u[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;u[254]=u[254]=1;var c=function(h){var d,v,k,D,y,I=h.length,C=0;for(D=0;D<I;D++)v=h.charCodeAt(D),(v&64512)===55296&&D+1<I&&(k=h.charCodeAt(D+1),(k&64512)===56320&&(v=65536+(v-55296<<10)+(k-56320),D++)),C+=v<128?1:v<2048?2:v<65536?3:4;for(a.uint8array?d=new Uint8Array(C):d=new Array(C),y=0,D=0;y<C;D++)v=h.charCodeAt(D),(v&64512)===55296&&D+1<I&&(k=h.charCodeAt(D+1),(k&64512)===56320&&(v=65536+(v-55296<<10)+(k-56320),D++)),v<128?d[y++]=v:v<2048?(d[y++]=192|v>>>6,d[y++]=128|v&63):v<65536?(d[y++]=224|v>>>12,d[y++]=128|v>>>6&63,d[y++]=128|v&63):(d[y++]=240|v>>>18,d[y++]=128|v>>>12&63,d[y++]=128|v>>>6&63,d[y++]=128|v&63);return d},m=function(h,d){var v;for(d=d||h.length,d>h.length&&(d=h.length),v=d-1;v>=0&&(h[v]&192)===128;)v--;return v<0||v===0?d:v+u[h[v]]>d?v:d},g=function(h){var d,v,k,D,y=h.length,I=new Array(y*2);for(v=0,d=0;d<y;){if(k=h[d++],k<128){I[v++]=k;continue}if(D=u[k],D>4){I[v++]=65533,d+=D-1;continue}for(k&=D===2?31:D===3?15:7;D>1&&d<y;)k=k<<6|h[d++]&63,D--;if(D>1){I[v++]=65533;continue}k<65536?I[v++]=k:(k-=65536,I[v++]=55296|k>>10&1023,I[v++]=56320|k&1023)}return I.length!==v&&(I.subarray?I=I.subarray(0,v):I.length=v),f.applyFromCharCode(I)};s.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):c(d)},s.utf8decode=function(d){return a.nodebuffer?f.transformTo("nodebuffer",d).toString("utf-8"):(d=f.transformTo(a.uint8array?"uint8array":"array",d),g(d))};function S(){r.call(this,"utf-8 decode"),this.leftOver=null}f.inherits(S,r),S.prototype.processChunk=function(h){var d=f.transformTo(a.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=d;d=new Uint8Array(v.length+this.leftOver.length),d.set(this.leftOver,0),d.set(v,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var k=m(d),D=d;k!==d.length&&(a.uint8array?(D=d.subarray(0,k),this.leftOver=d.subarray(k,d.length)):(D=d.slice(0,k),this.leftOver=d.slice(k,d.length))),this.push({data:s.utf8decode(D),meta:h.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=S;function w(){r.call(this,"utf-8 encode")}f.inherits(w,r),w.prototype.processChunk=function(h){this.push({data:s.utf8encode(h.data),meta:h.meta})},s.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,n,s){var f=e("./support"),a=e("./base64"),o=e("./nodejsUtils"),r=e("./external");e("setimmediate");function u(h){var d=null;return f.uint8array?d=new Uint8Array(h.length):d=new Array(h.length),c(h,d)}s.newBlob=function(h,d){s.checkSupport("blob");try{return new Blob([h],{type:d})}catch{try{var v=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,k=new v;return k.append(h),k.getBlob(d)}catch{throw new Error("Bug : can't construct the Blob.")}}};function p(h){return h}function c(h,d){for(var v=0;v<h.length;++v)d[v]=h.charCodeAt(v)&255;return d}var m={stringifyByChunk:function(h,d,v){var k=[],D=0,y=h.length;if(y<=v)return String.fromCharCode.apply(null,h);for(;D<y;)d==="array"||d==="nodebuffer"?k.push(String.fromCharCode.apply(null,h.slice(D,Math.min(D+v,y)))):k.push(String.fromCharCode.apply(null,h.subarray(D,Math.min(D+v,y)))),D+=v;return k.join("")},stringifyByChar:function(h){for(var d="",v=0;v<h.length;v++)d+=String.fromCharCode(h[v]);return d},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function g(h){var d=65536,v=s.getTypeOf(h),k=!0;if(v==="uint8array"?k=m.applyCanBeUsed.uint8array:v==="nodebuffer"&&(k=m.applyCanBeUsed.nodebuffer),k)for(;d>1;)try{return m.stringifyByChunk(h,v,d)}catch{d=Math.floor(d/2)}return m.stringifyByChar(h)}s.applyFromCharCode=g;function S(h,d){for(var v=0;v<h.length;v++)d[v]=h[v];return d}var w={};w.string={string:p,array:function(h){return c(h,new Array(h.length))},arraybuffer:function(h){return w.string.uint8array(h).buffer},uint8array:function(h){return c(h,new Uint8Array(h.length))},nodebuffer:function(h){return c(h,o.allocBuffer(h.length))}},w.array={string:g,array:p,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},w.arraybuffer={string:function(h){return g(new Uint8Array(h))},array:function(h){return S(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:p,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},w.uint8array={string:g,array:function(h){return S(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:p,nodebuffer:function(h){return o.newBufferFrom(h)}},w.nodebuffer={string:g,array:function(h){return S(h,new Array(h.length))},arraybuffer:function(h){return w.nodebuffer.uint8array(h).buffer},uint8array:function(h){return S(h,new Uint8Array(h.length))},nodebuffer:p},s.transformTo=function(h,d){if(d||(d=""),!h)return d;s.checkSupport(h);var v=s.getTypeOf(d),k=w[v][h](d);return k},s.resolve=function(h){for(var d=h.split("/"),v=[],k=0;k<d.length;k++){var D=d[k];D==="."||D===""&&k!==0&&k!==d.length-1||(D===".."?v.pop():v.push(D))}return v.join("/")},s.getTypeOf=function(h){if(typeof h=="string")return"string";if(Object.prototype.toString.call(h)==="[object Array]")return"array";if(f.nodebuffer&&o.isBuffer(h))return"nodebuffer";if(f.uint8array&&h instanceof Uint8Array)return"uint8array";if(f.arraybuffer&&h instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(h){var d=f[h.toLowerCase()];if(!d)throw new Error(h+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(h){var d="",v,k;for(k=0;k<(h||"").length;k++)v=h.charCodeAt(k),d+="\\x"+(v<16?"0":"")+v.toString(16).toUpperCase();return d},s.delay=function(h,d,v){setImmediate(function(){h.apply(v||null,d||[])})},s.inherits=function(h,d){var v=function(){};v.prototype=d.prototype,h.prototype=new v},s.extend=function(){var h={},d,v;for(d=0;d<arguments.length;d++)for(v in arguments[d])arguments[d].hasOwnProperty(v)&&typeof h[v]>"u"&&(h[v]=arguments[d][v]);return h},s.prepareContent=function(h,d,v,k,D){var y=r.Promise.resolve(d).then(function(I){var C=f.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1);return C&&typeof FileReader<"u"?new r.Promise(function(E,N){var A=new FileReader;A.onload=function(B){E(B.target.result)},A.onerror=function(B){N(B.target.error)},A.readAsArrayBuffer(I)}):I});return y.then(function(I){var C=s.getTypeOf(I);return C?(C==="arraybuffer"?I=s.transformTo("uint8array",I):C==="string"&&(D?I=a.decode(I):v&&k!==!0&&(I=u(I))),I):r.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,n,s){var f=e("./reader/readerFor"),a=e("./utils"),o=e("./signature"),r=e("./zipEntry");e("./utf8");var u=e("./support");function p(c){this.files=[],this.loadOptions=c}p.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(c)+")")}},isSignature:function(c,m){var g=this.reader.index;this.reader.setIndex(c);var S=this.reader.readString(4),w=S===m;return this.reader.setIndex(g),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",g=a.transformTo(m,c);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c=this.zip64EndOfCentralSize-44,m=0,g,S,w;m<c;)g=this.reader.readInt(2),S=this.reader.readInt(4),w=this.reader.readData(S),this.zip64ExtensibleData[g]={id:g,length:S,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,m;for(c=0;c<this.files.length;c++)m=this.files[c],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)c=new r({zip64:this.zip64},this.loadOptions),c.readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(c<0){var m=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw m?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(c);var g=c;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,c=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),c<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var w=g-S;if(w>0)this.isSignature(g,o.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(c){this.reader=f(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,n,s){var f=e("./reader/readerFor"),a=e("./utils"),o=e("./compressedObject"),r=e("./crc32"),u=e("./utf8"),p=e("./compressions"),c=e("./support"),m=0,g=3,S=function(h){for(var d in p)if(!!p.hasOwnProperty(d)&&p[d].magic===h)return p[d];return null};function w(h,d){this.options=h,this.loadOptions=d}w.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(h){var d,v;if(h.skip(22),this.fileNameLength=h.readInt(2),v=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(d=S(this.compressionMethod),d===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,d,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var d=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(d),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),h===m&&(this.dosPermissions=this.externalFileAttributes&63),h===g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(h){if(!!this.extraFields[1]){var d=f(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(h){var d=h.index+this.extraFieldsLength,v,k,D;for(this.extraFields||(this.extraFields={});h.index+4<d;)v=h.readInt(2),k=h.readInt(2),D=h.readData(k),this.extraFields[v]={id:v,length:k,value:D};h.setIndex(d)},handleUTF8:function(){var h=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var v=a.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var D=a.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var d=f(h.value);return d.readInt(1)!==1||r(this.fileName)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var d=f(h.value);return d.readInt(1)!==1||r(this.fileComment)!==d.readInt(4)?null:u.utf8decode(d.readData(h.length-5))}return null}},n.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,n,s){var f=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),r=e("./compressedObject"),u=e("./stream/GenericWorker"),p=function(S,w,h){this.name=S,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=w,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}};p.prototype={internalStream:function(S){var w=null,h="string";try{if(!S)throw new Error("No output type specified.");h=S.toLowerCase();var d=h==="string"||h==="text";(h==="binarystring"||h==="text")&&(h="string"),w=this._decompressWorker();var v=!this._dataBinary;v&&!d&&(w=w.pipe(new o.Utf8EncodeWorker)),!v&&d&&(w=w.pipe(new o.Utf8DecodeWorker))}catch(k){w=new u("error"),w.error(k)}return new f(w,h,"")},async:function(S,w){return this.internalStream(S).accumulate(w)},nodeStream:function(S,w){return this.internalStream(S||"nodebuffer").toNodejsStream(w)},_compressWorker:function(S,w){if(this._data instanceof r&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new o.Utf8EncodeWorker)),r.createWorkerFrom(h,S,w)},_decompressWorker:function(){return this._data instanceof r?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<c.length;g++)p.prototype[c[g]]=m;n.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,n,s){(function(f){var a=f.MutationObserver||f.WebKitMutationObserver,o;if(a){var r=0,u=new a(S),p=f.document.createTextNode("");u.observe(p,{characterData:!0}),o=function(){p.data=r=++r%2}}else if(!f.setImmediate&&typeof f.MessageChannel<"u"){var c=new f.MessageChannel;c.port1.onmessage=S,o=function(){c.port2.postMessage(0)}}else"document"in f&&"onreadystatechange"in f.document.createElement("script")?o=function(){var h=f.document.createElement("script");h.onreadystatechange=function(){S(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},f.document.documentElement.appendChild(h)}:o=function(){setTimeout(S,0)};var m,g=[];function S(){m=!0;for(var h,d,v=g.length;v;){for(d=g,g=[],h=-1;++h<v;)d[h]();v=g.length}m=!1}n.exports=w;function w(h){g.push(h)===1&&!m&&o()}}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,n,s){var f=e("immediate");function a(){}var o={},r=["REJECTED"],u=["FULFILLED"],p=["PENDING"];n.exports=c;function c(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,y!==a&&w(this,y)}c.prototype.finally=function(y){if(typeof y!="function")return this;var I=this.constructor;return this.then(C,E);function C(N){function A(){return N}return I.resolve(y()).then(A)}function E(N){function A(){throw N}return I.resolve(y()).then(A)}},c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,I){if(typeof y!="function"&&this.state===u||typeof I!="function"&&this.state===r)return this;var C=new this.constructor(a);if(this.state!==p){var E=this.state===u?y:I;g(C,E,this.outcome)}else this.queue.push(new m(C,y,I));return C};function m(y,I,C){this.promise=y,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},m.prototype.otherCallFulfilled=function(y){g(this.promise,this.onFulfilled,y)},m.prototype.callRejected=function(y){o.reject(this.promise,y)},m.prototype.otherCallRejected=function(y){g(this.promise,this.onRejected,y)};function g(y,I,C){f(function(){var E;try{E=I(C)}catch(N){return o.reject(y,N)}E===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,E)})}o.resolve=function(y,I){var C=h(S,I);if(C.status==="error")return o.reject(y,C.value);var E=C.value;if(E)w(y,E);else{y.state=u,y.outcome=I;for(var N=-1,A=y.queue.length;++N<A;)y.queue[N].callFulfilled(I)}return y},o.reject=function(y,I){y.state=r,y.outcome=I;for(var C=-1,E=y.queue.length;++C<E;)y.queue[C].callRejected(I);return y};function S(y){var I=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof I=="function")return function(){I.apply(y,arguments)}}function w(y,I){var C=!1;function E(z){C||(C=!0,o.reject(y,z))}function N(z){C||(C=!0,o.resolve(y,z))}function A(){I(N,E)}var B=h(A);B.status==="error"&&E(B.value)}function h(y,I){var C={};try{C.value=y(I),C.status="success"}catch(E){C.status="error",C.value=E}return C}c.resolve=d;function d(y){return y instanceof this?y:o.resolve(new this(a),y)}c.reject=v;function v(y){var I=new this(a);return o.reject(I,y)}c.all=k;function k(y){var I=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,E=!1;if(!C)return this.resolve([]);for(var N=new Array(C),A=0,B=-1,z=new this(a);++B<C;)Z(y[B],B);return z;function Z(Q,K){I.resolve(Q).then(q,function(G){E||(E=!0,o.reject(z,G))});function q(G){N[K]=G,++A===C&&!E&&(E=!0,o.resolve(z,N))}}}c.race=D;function D(y){var I=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,E=!1;if(!C)return this.resolve([]);for(var N=-1,A=new this(a);++N<C;)B(y[N]);return A;function B(z){I.resolve(z).then(function(Z){E||(E=!0,o.resolve(A,Z))},function(Z){E||(E=!0,o.reject(A,Z))})}}},{immediate:36}],38:[function(e,n,s){var f=e("./lib/utils/common").assign,a=e("./lib/deflate"),o=e("./lib/inflate"),r=e("./lib/zlib/constants"),u={};f(u,a,o,r),n.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,n,s){var f=e("./zlib/deflate"),a=e("./utils/common"),o=e("./utils/strings"),r=e("./zlib/messages"),u=e("./zlib/zstream"),p=Object.prototype.toString,c=0,m=4,g=0,S=1,w=2,h=-1,d=0,v=8;function k(C){if(!(this instanceof k))return new k(C);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},C||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var N=f.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(N!==g)throw new Error(r[N]);if(E.header&&f.deflateSetHeader(this.strm,E.header),E.dictionary){var A;if(typeof E.dictionary=="string"?A=o.string2buf(E.dictionary):p.call(E.dictionary)==="[object ArrayBuffer]"?A=new Uint8Array(E.dictionary):A=E.dictionary,N=f.deflateSetDictionary(this.strm,A),N!==g)throw new Error(r[N]);this._dict_set=!0}}k.prototype.push=function(C,E){var N=this.strm,A=this.options.chunkSize,B,z;if(this.ended)return!1;z=E===~~E?E:E===!0?m:c,typeof C=="string"?N.input=o.string2buf(C):p.call(C)==="[object ArrayBuffer]"?N.input=new Uint8Array(C):N.input=C,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(A),N.next_out=0,N.avail_out=A),B=f.deflate(N,z),B!==S&&B!==g)return this.onEnd(B),this.ended=!0,!1;(N.avail_out===0||N.avail_in===0&&(z===m||z===w))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((N.avail_in>0||N.avail_out===0)&&B!==S);return z===m?(B=f.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===g):(z===w&&(this.onEnd(g),N.avail_out=0),!0)},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function D(C,E){var N=new k(E);if(N.push(C,!0),N.err)throw N.msg||r[N.err];return N.result}function y(C,E){return E=E||{},E.raw=!0,D(C,E)}function I(C,E){return E=E||{},E.gzip=!0,D(C,E)}s.Deflate=k,s.deflate=D,s.deflateRaw=y,s.gzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,n,s){var f=e("./zlib/inflate"),a=e("./utils/common"),o=e("./utils/strings"),r=e("./zlib/constants"),u=e("./zlib/messages"),p=e("./zlib/zstream"),c=e("./zlib/gzheader"),m=Object.prototype.toString;function g(h){if(!(this instanceof g))return new g(h);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},h||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(h&&h.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15)===0&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var v=f.inflateInit2(this.strm,d.windowBits);if(v!==r.Z_OK)throw new Error(u[v]);this.header=new c,f.inflateGetHeader(this.strm,this.header)}g.prototype.push=function(h,d){var v=this.strm,k=this.options.chunkSize,D=this.options.dictionary,y,I,C,E,N,A,B=!1;if(this.ended)return!1;I=d===~~d?d:d===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof h=="string"?v.input=o.binstring2buf(h):m.call(h)==="[object ArrayBuffer]"?v.input=new Uint8Array(h):v.input=h,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new a.Buf8(k),v.next_out=0,v.avail_out=k),y=f.inflate(v,r.Z_NO_FLUSH),y===r.Z_NEED_DICT&&D&&(typeof D=="string"?A=o.string2buf(D):m.call(D)==="[object ArrayBuffer]"?A=new Uint8Array(D):A=D,y=f.inflateSetDictionary(this.strm,A)),y===r.Z_BUF_ERROR&&B===!0&&(y=r.Z_OK,B=!1),y!==r.Z_STREAM_END&&y!==r.Z_OK)return this.onEnd(y),this.ended=!0,!1;v.next_out&&(v.avail_out===0||y===r.Z_STREAM_END||v.avail_in===0&&(I===r.Z_FINISH||I===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=o.utf8border(v.output,v.next_out),E=v.next_out-C,N=o.buf2string(v.output,C),v.next_out=E,v.avail_out=k-E,E&&a.arraySet(v.output,v.output,C,E,0),this.onData(N)):this.onData(a.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(B=!0)}while((v.avail_in>0||v.avail_out===0)&&y!==r.Z_STREAM_END);return y===r.Z_STREAM_END&&(I=r.Z_FINISH),I===r.Z_FINISH?(y=f.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===r.Z_OK):(I===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),v.avail_out=0),!0)},g.prototype.onData=function(h){this.chunks.push(h)},g.prototype.onEnd=function(h){h===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function S(h,d){var v=new g(d);if(v.push(h,!0),v.err)throw v.msg||u[v.err];return v.result}function w(h,d){return d=d||{},d.raw=!0,S(h,d)}s.Inflate=g,s.inflate=S,s.inflateRaw=w,s.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,n,s){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(r){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var p=u.shift();if(!!p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var c in p)p.hasOwnProperty(c)&&(r[c]=p[c])}}return r},s.shrinkBuf=function(r,u){return r.length===u?r:r.subarray?r.subarray(0,u):(r.length=u,r)};var a={arraySet:function(r,u,p,c,m){if(u.subarray&&r.subarray){r.set(u.subarray(p,p+c),m);return}for(var g=0;g<c;g++)r[m+g]=u[p+g]},flattenChunks:function(r){var u,p,c,m,g,S;for(c=0,u=0,p=r.length;u<p;u++)c+=r[u].length;for(S=new Uint8Array(c),m=0,u=0,p=r.length;u<p;u++)g=r[u],S.set(g,m),m+=g.length;return S}},o={arraySet:function(r,u,p,c,m){for(var g=0;g<c;g++)r[m+g]=u[p+g]},flattenChunks:function(r){return[].concat.apply([],r)}};s.setTyped=function(r){r?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,o))},s.setTyped(f)},{}],42:[function(e,n,s){var f=e("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var r=new f.Buf8(256),u=0;u<256;u++)r[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;r[254]=r[254]=1,s.string2buf=function(c){var m,g,S,w,h,d=c.length,v=0;for(w=0;w<d;w++)g=c.charCodeAt(w),(g&64512)===55296&&w+1<d&&(S=c.charCodeAt(w+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),w++)),v+=g<128?1:g<2048?2:g<65536?3:4;for(m=new f.Buf8(v),h=0,w=0;h<v;w++)g=c.charCodeAt(w),(g&64512)===55296&&w+1<d&&(S=c.charCodeAt(w+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),w++)),g<128?m[h++]=g:g<2048?(m[h++]=192|g>>>6,m[h++]=128|g&63):g<65536?(m[h++]=224|g>>>12,m[h++]=128|g>>>6&63,m[h++]=128|g&63):(m[h++]=240|g>>>18,m[h++]=128|g>>>12&63,m[h++]=128|g>>>6&63,m[h++]=128|g&63);return m};function p(c,m){if(m<65537&&(c.subarray&&o||!c.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(c,m));for(var g="",S=0;S<m;S++)g+=String.fromCharCode(c[S]);return g}s.buf2binstring=function(c){return p(c,c.length)},s.binstring2buf=function(c){for(var m=new f.Buf8(c.length),g=0,S=m.length;g<S;g++)m[g]=c.charCodeAt(g);return m},s.buf2string=function(c,m){var g,S,w,h,d=m||c.length,v=new Array(d*2);for(S=0,g=0;g<d;){if(w=c[g++],w<128){v[S++]=w;continue}if(h=r[w],h>4){v[S++]=65533,g+=h-1;continue}for(w&=h===2?31:h===3?15:7;h>1&&g<d;)w=w<<6|c[g++]&63,h--;if(h>1){v[S++]=65533;continue}w<65536?v[S++]=w:(w-=65536,v[S++]=55296|w>>10&1023,v[S++]=56320|w&1023)}return p(v,S)},s.utf8border=function(c,m){var g;for(m=m||c.length,m>c.length&&(m=c.length),g=m-1;g>=0&&(c[g]&192)===128;)g--;return g<0||g===0?m:g+r[c[g]]>m?g:m}},{"./common":41}],43:[function(e,n,s){function f(a,o,r,u){for(var p=a&65535|0,c=a>>>16&65535|0,m=0;r!==0;){m=r>2e3?2e3:r,r-=m;do p=p+o[u++]|0,c=c+p|0;while(--m);p%=65521,c%=65521}return p|c<<16|0}n.exports=f},{}],44:[function(e,n,s){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,n,s){function f(){for(var r,u=[],p=0;p<256;p++){r=p;for(var c=0;c<8;c++)r=r&1?3988292384^r>>>1:r>>>1;u[p]=r}return u}var a=f();function o(r,u,p,c){var m=a,g=c+p;r^=-1;for(var S=c;S<g;S++)r=r>>>8^m[(r^u[S])&255];return r^-1}n.exports=o},{}],46:[function(e,n,s){var f=e("../utils/common"),a=e("./trees"),o=e("./adler32"),r=e("./crc32"),u=e("./messages"),p=0,c=1,m=3,g=4,S=5,w=0,h=1,d=-2,v=-3,k=-5,D=-1,y=1,I=2,C=3,E=4,N=0,A=2,B=8,z=9,Z=15,Q=8,K=29,q=256,G=q+1+K,j=30,et=19,st=2*G+1,pt=15,J=3,lt=258,ft=lt+J+1,Ot=32,It=42,mt=69,at=73,St=91,gt=103,ct=113,bt=666,ht=1,Dt=2,Ut=3,Bt=4,dt=3;function Rt(i,T){return i.msg=u[T],T}function ce(i){return(i<<1)-(i>4?9:0)}function Vt(i){for(var T=i.length;--T>=0;)i[T]=0}function Mt(i){var T=i.state,P=T.pending;P>i.avail_out&&(P=i.avail_out),P!==0&&(f.arraySet(i.output,T.pending_buf,T.pending_out,P,i.next_out),i.next_out+=P,T.pending_out+=P,i.total_out+=P,i.avail_out-=P,T.pending-=P,T.pending===0&&(T.pending_out=0))}function ut(i,T){a._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,T),i.block_start=i.strstart,Mt(i.strm)}function rt(i,T){i.pending_buf[i.pending++]=T}function Zt(i,T){i.pending_buf[i.pending++]=T>>>8&255,i.pending_buf[i.pending++]=T&255}function de(i,T,P,_){var x=i.avail_in;return x>_&&(x=_),x===0?0:(i.avail_in-=x,f.arraySet(T,i.input,i.next_in,x,P),i.state.wrap===1?i.adler=o(i.adler,T,x,P):i.state.wrap===2&&(i.adler=r(i.adler,T,x,P)),i.next_in+=x,i.total_in+=x,x)}function ne(i,T){var P=i.max_chain_length,_=i.strstart,x,O,H=i.prev_length,Y=i.nice_match,W=i.strstart>i.w_size-ft?i.strstart-(i.w_size-ft):0,nt=i.window,te=i.w_mask,vt=i.prev,ot=i.strstart+lt,xt=nt[_+H-1],Tt=nt[_+H];i.prev_length>=i.good_match&&(P>>=2),Y>i.lookahead&&(Y=i.lookahead);do if(x=T,!(nt[x+H]!==Tt||nt[x+H-1]!==xt||nt[x]!==nt[_]||nt[++x]!==nt[_+1])){_+=2,x++;do;while(nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&nt[++_]===nt[++x]&&_<ot);if(O=lt-(ot-_),_=ot-lt,O>H){if(i.match_start=T,H=O,O>=Y)break;xt=nt[_+H-1],Tt=nt[_+H]}}while((T=vt[T&te])>W&&--P!==0);return H<=i.lookahead?H:i.lookahead}function jt(i){var T=i.w_size,P,_,x,O,H;do{if(O=i.window_size-i.lookahead-i.strstart,i.strstart>=T+(T-ft)){f.arraySet(i.window,i.window,T,T,0),i.match_start-=T,i.strstart-=T,i.block_start-=T,_=i.hash_size,P=_;do x=i.head[--P],i.head[P]=x>=T?x-T:0;while(--_);_=T,P=_;do x=i.prev[--P],i.prev[P]=x>=T?x-T:0;while(--_);O+=T}if(i.strm.avail_in===0)break;if(_=de(i.strm,i.window,i.strstart+i.lookahead,O),i.lookahead+=_,i.lookahead+i.insert>=J)for(H=i.strstart-i.insert,i.ins_h=i.window[H],i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+J-1])&i.hash_mask,i.prev[H&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=H,H++,i.insert--,!(i.lookahead+i.insert<J)););}while(i.lookahead<ft&&i.strm.avail_in!==0)}function ue(i,T){var P=65535;for(P>i.pending_buf_size-5&&(P=i.pending_buf_size-5);;){if(i.lookahead<=1){if(jt(i),i.lookahead===0&&T===p)return ht;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var _=i.block_start+P;if((i.strstart===0||i.strstart>=_)&&(i.lookahead=i.strstart-_,i.strstart=_,ut(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-ft&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,T===g?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):(i.strstart>i.block_start&&(ut(i,!1),i.strm.avail_out===0),ht)}function se(i,T){for(var P,_;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&T===p)return ht;if(i.lookahead===0)break}if(P=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,P=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),P!==0&&i.strstart-P<=i.w_size-ft&&(i.match_length=ne(i,P)),i.match_length>=J)if(_=a._tr_tally(i,i.strstart-i.match_start,i.match_length-J),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=J){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,P=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else _=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(_&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=i.strstart<J-1?i.strstart:J-1,T===g?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function Wt(i,T){for(var P,_,x;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&T===p)return ht;if(i.lookahead===0)break}if(P=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,P=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=J-1,P!==0&&i.prev_length<i.max_lazy_match&&i.strstart-P<=i.w_size-ft&&(i.match_length=ne(i,P),i.match_length<=5&&(i.strategy===y||i.match_length===J&&i.strstart-i.match_start>4096)&&(i.match_length=J-1)),i.prev_length>=J&&i.match_length<=i.prev_length){x=i.strstart+i.lookahead-J,_=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-J),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=x&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,P=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=J-1,i.strstart++,_&&(ut(i,!1),i.strm.avail_out===0))return ht}else if(i.match_available){if(_=a._tr_tally(i,0,i.window[i.strstart-1]),_&&ut(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ht}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(_=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<J-1?i.strstart:J-1,T===g?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function _e(i,T){for(var P,_,x,O,H=i.window;;){if(i.lookahead<=lt){if(jt(i),i.lookahead<=lt&&T===p)return ht;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=J&&i.strstart>0&&(x=i.strstart-1,_=H[x],_===H[++x]&&_===H[++x]&&_===H[++x])){O=i.strstart+lt;do;while(_===H[++x]&&_===H[++x]&&_===H[++x]&&_===H[++x]&&_===H[++x]&&_===H[++x]&&_===H[++x]&&_===H[++x]&&x<O);i.match_length=lt-(O-x),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=J?(P=a._tr_tally(i,1,i.match_length-J),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(P=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),P&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,T===g?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function oe(i,T){for(var P;;){if(i.lookahead===0&&(jt(i),i.lookahead===0)){if(T===p)return ht;break}if(i.match_length=0,P=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,P&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,T===g?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function At(i,T,P,_,x){this.good_length=i,this.max_lazy=T,this.nice_length=P,this.max_chain=_,this.func=x}var Gt;Gt=[new At(0,0,0,0,ue),new At(4,4,8,4,se),new At(4,5,16,8,se),new At(4,6,32,32,se),new At(4,4,16,16,Wt),new At(8,16,32,32,Wt),new At(8,16,128,128,Wt),new At(8,32,128,256,Wt),new At(32,128,258,1024,Wt),new At(32,258,258,4096,Wt)];function pe(i){i.window_size=2*i.w_size,Vt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=J-1,i.match_available=0,i.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(st*2),this.dyn_dtree=new f.Buf16((2*j+1)*2),this.bl_tree=new f.Buf16((2*et+1)*2),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(pt+1),this.heap=new f.Buf16(2*G+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*G+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(i){var T;return!i||!i.state?Rt(i,d):(i.total_in=i.total_out=0,i.data_type=A,T=i.state,T.pending=0,T.pending_out=0,T.wrap<0&&(T.wrap=-T.wrap),T.status=T.wrap?It:ct,i.adler=T.wrap===2?0:1,T.last_flush=p,a._tr_init(T),w)}function V(i){var T=M(i);return T===w&&pe(i.state),T}function X(i,T){return!i||!i.state||i.state.wrap!==2?d:(i.state.gzhead=T,w)}function F(i,T,P,_,x,O){if(!i)return d;var H=1;if(T===D&&(T=6),_<0?(H=0,_=-_):_>15&&(H=2,_-=16),x<1||x>z||P!==B||_<8||_>15||T<0||T>9||O<0||O>E)return Rt(i,d);_===8&&(_=9);var Y=new b;return i.state=Y,Y.strm=i,Y.wrap=H,Y.gzhead=null,Y.w_bits=_,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=x+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+J-1)/J),Y.window=new f.Buf8(Y.w_size*2),Y.head=new f.Buf16(Y.hash_size),Y.prev=new f.Buf16(Y.w_size),Y.lit_bufsize=1<<x+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new f.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=T,Y.strategy=O,Y.method=P,V(i)}function R(i,T){return F(i,T,B,Z,Q,N)}function l(i,T){var P,_,x,O;if(!i||!i.state||T>S||T<0)return i?Rt(i,d):d;if(_=i.state,!i.output||!i.input&&i.avail_in!==0||_.status===bt&&T!==g)return Rt(i,i.avail_out===0?k:d);if(_.strm=i,P=_.last_flush,_.last_flush=T,_.status===It)if(_.wrap===2)i.adler=0,rt(_,31),rt(_,139),rt(_,8),_.gzhead?(rt(_,(_.gzhead.text?1:0)+(_.gzhead.hcrc?2:0)+(_.gzhead.extra?4:0)+(_.gzhead.name?8:0)+(_.gzhead.comment?16:0)),rt(_,_.gzhead.time&255),rt(_,_.gzhead.time>>8&255),rt(_,_.gzhead.time>>16&255),rt(_,_.gzhead.time>>24&255),rt(_,_.level===9?2:_.strategy>=I||_.level<2?4:0),rt(_,_.gzhead.os&255),_.gzhead.extra&&_.gzhead.extra.length&&(rt(_,_.gzhead.extra.length&255),rt(_,_.gzhead.extra.length>>8&255)),_.gzhead.hcrc&&(i.adler=r(i.adler,_.pending_buf,_.pending,0)),_.gzindex=0,_.status=mt):(rt(_,0),rt(_,0),rt(_,0),rt(_,0),rt(_,0),rt(_,_.level===9?2:_.strategy>=I||_.level<2?4:0),rt(_,dt),_.status=ct);else{var H=B+(_.w_bits-8<<4)<<8,Y=-1;_.strategy>=I||_.level<2?Y=0:_.level<6?Y=1:_.level===6?Y=2:Y=3,H|=Y<<6,_.strstart!==0&&(H|=Ot),H+=31-H%31,_.status=ct,Zt(_,H),_.strstart!==0&&(Zt(_,i.adler>>>16),Zt(_,i.adler&65535)),i.adler=1}if(_.status===mt)if(_.gzhead.extra){for(x=_.pending;_.gzindex<(_.gzhead.extra.length&65535)&&!(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),Mt(i),x=_.pending,_.pending===_.pending_buf_size));)rt(_,_.gzhead.extra[_.gzindex]&255),_.gzindex++;_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),_.gzindex===_.gzhead.extra.length&&(_.gzindex=0,_.status=at)}else _.status=at;if(_.status===at)if(_.gzhead.name){x=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),Mt(i),x=_.pending,_.pending===_.pending_buf_size)){O=1;break}_.gzindex<_.gzhead.name.length?O=_.gzhead.name.charCodeAt(_.gzindex++)&255:O=0,rt(_,O)}while(O!==0);_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),O===0&&(_.gzindex=0,_.status=St)}else _.status=St;if(_.status===St)if(_.gzhead.comment){x=_.pending;do{if(_.pending===_.pending_buf_size&&(_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),Mt(i),x=_.pending,_.pending===_.pending_buf_size)){O=1;break}_.gzindex<_.gzhead.comment.length?O=_.gzhead.comment.charCodeAt(_.gzindex++)&255:O=0,rt(_,O)}while(O!==0);_.gzhead.hcrc&&_.pending>x&&(i.adler=r(i.adler,_.pending_buf,_.pending-x,x)),O===0&&(_.status=gt)}else _.status=gt;if(_.status===gt&&(_.gzhead.hcrc?(_.pending+2>_.pending_buf_size&&Mt(i),_.pending+2<=_.pending_buf_size&&(rt(_,i.adler&255),rt(_,i.adler>>8&255),i.adler=0,_.status=ct)):_.status=ct),_.pending!==0){if(Mt(i),i.avail_out===0)return _.last_flush=-1,w}else if(i.avail_in===0&&ce(T)<=ce(P)&&T!==g)return Rt(i,k);if(_.status===bt&&i.avail_in!==0)return Rt(i,k);if(i.avail_in!==0||_.lookahead!==0||T!==p&&_.status!==bt){var W=_.strategy===I?oe(_,T):_.strategy===C?_e(_,T):Gt[_.level].func(_,T);if((W===Ut||W===Bt)&&(_.status=bt),W===ht||W===Ut)return i.avail_out===0&&(_.last_flush=-1),w;if(W===Dt&&(T===c?a._tr_align(_):T!==S&&(a._tr_stored_block(_,0,0,!1),T===m&&(Vt(_.head),_.lookahead===0&&(_.strstart=0,_.block_start=0,_.insert=0))),Mt(i),i.avail_out===0))return _.last_flush=-1,w}return T!==g?w:_.wrap<=0?h:(_.wrap===2?(rt(_,i.adler&255),rt(_,i.adler>>8&255),rt(_,i.adler>>16&255),rt(_,i.adler>>24&255),rt(_,i.total_in&255),rt(_,i.total_in>>8&255),rt(_,i.total_in>>16&255),rt(_,i.total_in>>24&255)):(Zt(_,i.adler>>>16),Zt(_,i.adler&65535)),Mt(i),_.wrap>0&&(_.wrap=-_.wrap),_.pending!==0?w:h)}function U(i){var T;return!i||!i.state?d:(T=i.state.status,T!==It&&T!==mt&&T!==at&&T!==St&&T!==gt&&T!==ct&&T!==bt?Rt(i,d):(i.state=null,T===ct?Rt(i,v):w))}function $(i,T){var P=T.length,_,x,O,H,Y,W,nt,te;if(!i||!i.state||(_=i.state,H=_.wrap,H===2||H===1&&_.status!==It||_.lookahead))return d;for(H===1&&(i.adler=o(i.adler,T,P,0)),_.wrap=0,P>=_.w_size&&(H===0&&(Vt(_.head),_.strstart=0,_.block_start=0,_.insert=0),te=new f.Buf8(_.w_size),f.arraySet(te,T,P-_.w_size,_.w_size,0),T=te,P=_.w_size),Y=i.avail_in,W=i.next_in,nt=i.input,i.avail_in=P,i.next_in=0,i.input=T,jt(_);_.lookahead>=J;){x=_.strstart,O=_.lookahead-(J-1);do _.ins_h=(_.ins_h<<_.hash_shift^_.window[x+J-1])&_.hash_mask,_.prev[x&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=x,x++;while(--O);_.strstart=x,_.lookahead=J-1,jt(_)}return _.strstart+=_.lookahead,_.block_start=_.strstart,_.insert=_.lookahead,_.lookahead=0,_.match_length=_.prev_length=J-1,_.match_available=0,i.next_in=W,i.input=nt,i.avail_in=Y,_.wrap=H,w}s.deflateInit=R,s.deflateInit2=F,s.deflateReset=V,s.deflateResetKeep=M,s.deflateSetHeader=X,s.deflate=l,s.deflateEnd=U,s.deflateSetDictionary=$,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,n,s){function f(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n.exports=f},{}],48:[function(e,n,s){var f=30,a=12;n.exports=function(r,u){var p,c,m,g,S,w,h,d,v,k,D,y,I,C,E,N,A,B,z,Z,Q,K,q,G,j;p=r.state,c=r.next_in,G=r.input,m=c+(r.avail_in-5),g=r.next_out,j=r.output,S=g-(u-r.avail_out),w=g+(r.avail_out-257),h=p.dmax,d=p.wsize,v=p.whave,k=p.wnext,D=p.window,y=p.hold,I=p.bits,C=p.lencode,E=p.distcode,N=(1<<p.lenbits)-1,A=(1<<p.distbits)-1;t:do{I<15&&(y+=G[c++]<<I,I+=8,y+=G[c++]<<I,I+=8),B=C[y&N];e:for(;;){if(z=B>>>24,y>>>=z,I-=z,z=B>>>16&255,z===0)j[g++]=B&65535;else if(z&16){Z=B&65535,z&=15,z&&(I<z&&(y+=G[c++]<<I,I+=8),Z+=y&(1<<z)-1,y>>>=z,I-=z),I<15&&(y+=G[c++]<<I,I+=8,y+=G[c++]<<I,I+=8),B=E[y&A];i:for(;;){if(z=B>>>24,y>>>=z,I-=z,z=B>>>16&255,z&16){if(Q=B&65535,z&=15,I<z&&(y+=G[c++]<<I,I+=8,I<z&&(y+=G[c++]<<I,I+=8)),Q+=y&(1<<z)-1,Q>h){r.msg="invalid distance too far back",p.mode=f;break t}if(y>>>=z,I-=z,z=g-S,Q>z){if(z=Q-z,z>v&&p.sane){r.msg="invalid distance too far back",p.mode=f;break t}if(K=0,q=D,k===0){if(K+=d-z,z<Z){Z-=z;do j[g++]=D[K++];while(--z);K=g-Q,q=j}}else if(k<z){if(K+=d+k-z,z-=k,z<Z){Z-=z;do j[g++]=D[K++];while(--z);if(K=0,k<Z){z=k,Z-=z;do j[g++]=D[K++];while(--z);K=g-Q,q=j}}}else if(K+=k-z,z<Z){Z-=z;do j[g++]=D[K++];while(--z);K=g-Q,q=j}for(;Z>2;)j[g++]=q[K++],j[g++]=q[K++],j[g++]=q[K++],Z-=3;Z&&(j[g++]=q[K++],Z>1&&(j[g++]=q[K++]))}else{K=g-Q;do j[g++]=j[K++],j[g++]=j[K++],j[g++]=j[K++],Z-=3;while(Z>2);Z&&(j[g++]=j[K++],Z>1&&(j[g++]=j[K++]))}}else if((z&64)===0){B=E[(B&65535)+(y&(1<<z)-1)];continue i}else{r.msg="invalid distance code",p.mode=f;break t}break}}else if((z&64)===0){B=C[(B&65535)+(y&(1<<z)-1)];continue e}else if(z&32){p.mode=a;break t}else{r.msg="invalid literal/length code",p.mode=f;break t}break}}while(c<m&&g<w);Z=I>>3,c-=Z,I-=Z<<3,y&=(1<<I)-1,r.next_in=c,r.next_out=g,r.avail_in=c<m?5+(m-c):5-(c-m),r.avail_out=g<w?257+(w-g):257-(g-w),p.hold=y,p.bits=I}},{}],49:[function(e,n,s){var f=e("../utils/common"),a=e("./adler32"),o=e("./crc32"),r=e("./inffast"),u=e("./inftrees"),p=0,c=1,m=2,g=4,S=5,w=6,h=0,d=1,v=2,k=-2,D=-3,y=-4,I=-5,C=8,E=1,N=2,A=3,B=4,z=5,Z=6,Q=7,K=8,q=9,G=10,j=11,et=12,st=13,pt=14,J=15,lt=16,ft=17,Ot=18,It=19,mt=20,at=21,St=22,gt=23,ct=24,bt=25,ht=26,Dt=27,Ut=28,Bt=29,dt=30,Rt=31,ce=32,Vt=852,Mt=592,ut=15,rt=ut;function Zt(F){return(F>>>24&255)+(F>>>8&65280)+((F&65280)<<8)+((F&255)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ne(F){var R;return!F||!F.state?k:(R=F.state,F.total_in=F.total_out=R.total=0,F.msg="",R.wrap&&(F.adler=R.wrap&1),R.mode=E,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new f.Buf32(Vt),R.distcode=R.distdyn=new f.Buf32(Mt),R.sane=1,R.back=-1,h)}function jt(F){var R;return!F||!F.state?k:(R=F.state,R.wsize=0,R.whave=0,R.wnext=0,ne(F))}function ue(F,R){var l,U;return!F||!F.state||(U=F.state,R<0?(l=0,R=-R):(l=(R>>4)+1,R<48&&(R&=15)),R&&(R<8||R>15))?k:(U.window!==null&&U.wbits!==R&&(U.window=null),U.wrap=l,U.wbits=R,jt(F))}function se(F,R){var l,U;return F?(U=new de,F.state=U,U.window=null,l=ue(F,R),l!==h&&(F.state=null),l):k}function Wt(F){return se(F,rt)}var _e=!0,oe,At;function Gt(F){if(_e){var R;for(oe=new f.Buf32(512),At=new f.Buf32(32),R=0;R<144;)F.lens[R++]=8;for(;R<256;)F.lens[R++]=9;for(;R<280;)F.lens[R++]=7;for(;R<288;)F.lens[R++]=8;for(u(c,F.lens,0,288,oe,0,F.work,{bits:9}),R=0;R<32;)F.lens[R++]=5;u(m,F.lens,0,32,At,0,F.work,{bits:5}),_e=!1}F.lencode=oe,F.lenbits=9,F.distcode=At,F.distbits=5}function pe(F,R,l,U){var $,i=F.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new f.Buf8(i.wsize)),U>=i.wsize?(f.arraySet(i.window,R,l-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):($=i.wsize-i.wnext,$>U&&($=U),f.arraySet(i.window,R,l-U,$,i.wnext),U-=$,U?(f.arraySet(i.window,R,l-U,U,0),i.wnext=U,i.whave=i.wsize):(i.wnext+=$,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=$))),0}function b(F,R){var l,U,$,i,T,P,_,x,O,H,Y,W,nt,te,vt=0,ot,xt,Tt,Lt,Se,Ce,yt,Yt,Ct=new f.Buf8(4),ee,Jt,Ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return k;l=F.state,l.mode===et&&(l.mode=st),T=F.next_out,$=F.output,_=F.avail_out,i=F.next_in,U=F.input,P=F.avail_in,x=l.hold,O=l.bits,H=P,Y=_,Yt=h;t:for(;;)switch(l.mode){case E:if(l.wrap===0){l.mode=st;break}for(;O<16;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(l.wrap&2&&x===35615){l.check=0,Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=o(l.check,Ct,2,0),x=0,O=0,l.mode=N;break}if(l.flags=0,l.head&&(l.head.done=!1),!(l.wrap&1)||(((x&255)<<8)+(x>>8))%31){F.msg="incorrect header check",l.mode=dt;break}if((x&15)!==C){F.msg="unknown compression method",l.mode=dt;break}if(x>>>=4,O-=4,yt=(x&15)+8,l.wbits===0)l.wbits=yt;else if(yt>l.wbits){F.msg="invalid window size",l.mode=dt;break}l.dmax=1<<yt,F.adler=l.check=1,l.mode=x&512?G:et,x=0,O=0;break;case N:for(;O<16;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(l.flags=x,(l.flags&255)!==C){F.msg="unknown compression method",l.mode=dt;break}if(l.flags&57344){F.msg="unknown header flags set",l.mode=dt;break}l.head&&(l.head.text=x>>8&1),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=o(l.check,Ct,2,0)),x=0,O=0,l.mode=A;case A:for(;O<32;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.head&&(l.head.time=x),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,Ct[2]=x>>>16&255,Ct[3]=x>>>24&255,l.check=o(l.check,Ct,4,0)),x=0,O=0,l.mode=B;case B:for(;O<16;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.head&&(l.head.xflags=x&255,l.head.os=x>>8),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=o(l.check,Ct,2,0)),x=0,O=0,l.mode=z;case z:if(l.flags&1024){for(;O<16;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.length=x,l.head&&(l.head.extra_len=x),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=o(l.check,Ct,2,0)),x=0,O=0}else l.head&&(l.head.extra=null);l.mode=Z;case Z:if(l.flags&1024&&(W=l.length,W>P&&(W=P),W&&(l.head&&(yt=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),f.arraySet(l.head.extra,U,i,W,yt)),l.flags&512&&(l.check=o(l.check,U,W,i)),P-=W,i+=W,l.length-=W),l.length))break t;l.length=0,l.mode=Q;case Q:if(l.flags&2048){if(P===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.name+=String.fromCharCode(yt));while(yt&&W<P);if(l.flags&512&&(l.check=o(l.check,U,W,i)),P-=W,i+=W,yt)break t}else l.head&&(l.head.name=null);l.length=0,l.mode=K;case K:if(l.flags&4096){if(P===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.comment+=String.fromCharCode(yt));while(yt&&W<P);if(l.flags&512&&(l.check=o(l.check,U,W,i)),P-=W,i+=W,yt)break t}else l.head&&(l.head.comment=null);l.mode=q;case q:if(l.flags&512){for(;O<16;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(x!==(l.check&65535)){F.msg="header crc mismatch",l.mode=dt;break}x=0,O=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),F.adler=l.check=0,l.mode=et;break;case G:for(;O<32;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}F.adler=l.check=Zt(x),x=0,O=0,l.mode=j;case j:if(l.havedict===0)return F.next_out=T,F.avail_out=_,F.next_in=i,F.avail_in=P,l.hold=x,l.bits=O,v;F.adler=l.check=1,l.mode=et;case et:if(R===S||R===w)break t;case st:if(l.last){x>>>=O&7,O-=O&7,l.mode=Dt;break}for(;O<3;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}switch(l.last=x&1,x>>>=1,O-=1,x&3){case 0:l.mode=pt;break;case 1:if(Gt(l),l.mode=mt,R===w){x>>>=2,O-=2;break t}break;case 2:l.mode=ft;break;case 3:F.msg="invalid block type",l.mode=dt}x>>>=2,O-=2;break;case pt:for(x>>>=O&7,O-=O&7;O<32;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if((x&65535)!==(x>>>16^65535)){F.msg="invalid stored block lengths",l.mode=dt;break}if(l.length=x&65535,x=0,O=0,l.mode=J,R===w)break t;case J:l.mode=lt;case lt:if(W=l.length,W){if(W>P&&(W=P),W>_&&(W=_),W===0)break t;f.arraySet($,U,i,W,T),P-=W,i+=W,_-=W,T+=W,l.length-=W;break}l.mode=et;break;case ft:for(;O<14;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(l.nlen=(x&31)+257,x>>>=5,O-=5,l.ndist=(x&31)+1,x>>>=5,O-=5,l.ncode=(x&15)+4,x>>>=4,O-=4,l.nlen>286||l.ndist>30){F.msg="too many length or distance symbols",l.mode=dt;break}l.have=0,l.mode=Ot;case Ot:for(;l.have<l.ncode;){for(;O<3;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.lens[Ye[l.have++]]=x&7,x>>>=3,O-=3}for(;l.have<19;)l.lens[Ye[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,ee={bits:l.lenbits},Yt=u(p,l.lens,0,19,l.lencode,0,l.work,ee),l.lenbits=ee.bits,Yt){F.msg="invalid code lengths set",l.mode=dt;break}l.have=0,l.mode=It;case It:for(;l.have<l.nlen+l.ndist;){for(;vt=l.lencode[x&(1<<l.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(Tt<16)x>>>=ot,O-=ot,l.lens[l.have++]=Tt;else{if(Tt===16){for(Jt=ot+2;O<Jt;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(x>>>=ot,O-=ot,l.have===0){F.msg="invalid bit length repeat",l.mode=dt;break}yt=l.lens[l.have-1],W=3+(x&3),x>>>=2,O-=2}else if(Tt===17){for(Jt=ot+3;O<Jt;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}x>>>=ot,O-=ot,yt=0,W=3+(x&7),x>>>=3,O-=3}else{for(Jt=ot+7;O<Jt;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}x>>>=ot,O-=ot,yt=0,W=11+(x&127),x>>>=7,O-=7}if(l.have+W>l.nlen+l.ndist){F.msg="invalid bit length repeat",l.mode=dt;break}for(;W--;)l.lens[l.have++]=yt}}if(l.mode===dt)break;if(l.lens[256]===0){F.msg="invalid code -- missing end-of-block",l.mode=dt;break}if(l.lenbits=9,ee={bits:l.lenbits},Yt=u(c,l.lens,0,l.nlen,l.lencode,0,l.work,ee),l.lenbits=ee.bits,Yt){F.msg="invalid literal/lengths set",l.mode=dt;break}if(l.distbits=6,l.distcode=l.distdyn,ee={bits:l.distbits},Yt=u(m,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,ee),l.distbits=ee.bits,Yt){F.msg="invalid distances set",l.mode=dt;break}if(l.mode=mt,R===w)break t;case mt:l.mode=at;case at:if(P>=6&&_>=258){F.next_out=T,F.avail_out=_,F.next_in=i,F.avail_in=P,l.hold=x,l.bits=O,r(F,Y),T=F.next_out,$=F.output,_=F.avail_out,i=F.next_in,U=F.input,P=F.avail_in,x=l.hold,O=l.bits,l.mode===et&&(l.back=-1);break}for(l.back=0;vt=l.lencode[x&(1<<l.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(xt&&(xt&240)===0){for(Lt=ot,Se=xt,Ce=Tt;vt=l.lencode[Ce+((x&(1<<Lt+Se)-1)>>Lt)],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(Lt+ot<=O);){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}x>>>=Lt,O-=Lt,l.back+=Lt}if(x>>>=ot,O-=ot,l.back+=ot,l.length=Tt,xt===0){l.mode=ht;break}if(xt&32){l.back=-1,l.mode=et;break}if(xt&64){F.msg="invalid literal/length code",l.mode=dt;break}l.extra=xt&15,l.mode=St;case St:if(l.extra){for(Jt=l.extra;O<Jt;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.length+=x&(1<<l.extra)-1,x>>>=l.extra,O-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=gt;case gt:for(;vt=l.distcode[x&(1<<l.distbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if((xt&240)===0){for(Lt=ot,Se=xt,Ce=Tt;vt=l.distcode[Ce+((x&(1<<Lt+Se)-1)>>Lt)],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(Lt+ot<=O);){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}x>>>=Lt,O-=Lt,l.back+=Lt}if(x>>>=ot,O-=ot,l.back+=ot,xt&64){F.msg="invalid distance code",l.mode=dt;break}l.offset=Tt,l.extra=xt&15,l.mode=ct;case ct:if(l.extra){for(Jt=l.extra;O<Jt;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}l.offset+=x&(1<<l.extra)-1,x>>>=l.extra,O-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){F.msg="invalid distance too far back",l.mode=dt;break}l.mode=bt;case bt:if(_===0)break t;if(W=Y-_,l.offset>W){if(W=l.offset-W,W>l.whave&&l.sane){F.msg="invalid distance too far back",l.mode=dt;break}W>l.wnext?(W-=l.wnext,nt=l.wsize-W):nt=l.wnext-W,W>l.length&&(W=l.length),te=l.window}else te=$,nt=T-l.offset,W=l.length;W>_&&(W=_),_-=W,l.length-=W;do $[T++]=te[nt++];while(--W);l.length===0&&(l.mode=at);break;case ht:if(_===0)break t;$[T++]=l.length,_--,l.mode=at;break;case Dt:if(l.wrap){for(;O<32;){if(P===0)break t;P--,x|=U[i++]<<O,O+=8}if(Y-=_,F.total_out+=Y,l.total+=Y,Y&&(F.adler=l.check=l.flags?o(l.check,$,Y,T-Y):a(l.check,$,Y,T-Y)),Y=_,(l.flags?x:Zt(x))!==l.check){F.msg="incorrect data check",l.mode=dt;break}x=0,O=0}l.mode=Ut;case Ut:if(l.wrap&&l.flags){for(;O<32;){if(P===0)break t;P--,x+=U[i++]<<O,O+=8}if(x!==(l.total&4294967295)){F.msg="incorrect length check",l.mode=dt;break}x=0,O=0}l.mode=Bt;case Bt:Yt=d;break t;case dt:Yt=D;break t;case Rt:return y;case ce:default:return k}return F.next_out=T,F.avail_out=_,F.next_in=i,F.avail_in=P,l.hold=x,l.bits=O,(l.wsize||Y!==F.avail_out&&l.mode<dt&&(l.mode<Dt||R!==g))&&pe(F,F.output,F.next_out,Y-F.avail_out),H-=F.avail_in,Y-=F.avail_out,F.total_in+=H,F.total_out+=Y,l.total+=Y,l.wrap&&Y&&(F.adler=l.check=l.flags?o(l.check,$,Y,F.next_out-Y):a(l.check,$,Y,F.next_out-Y)),F.data_type=l.bits+(l.last?64:0)+(l.mode===et?128:0)+(l.mode===mt||l.mode===J?256:0),(H===0&&Y===0||R===g)&&Yt===h&&(Yt=I),Yt}function M(F){if(!F||!F.state)return k;var R=F.state;return R.window&&(R.window=null),F.state=null,h}function V(F,R){var l;return!F||!F.state||(l=F.state,(l.wrap&2)===0)?k:(l.head=R,R.done=!1,h)}function X(F,R){var l=R.length,U,$,i;return!F||!F.state||(U=F.state,U.wrap!==0&&U.mode!==j)?k:U.mode===j&&($=1,$=a($,R,l,0),$!==U.check)?D:(i=pe(F,R,l,l),i?(U.mode=Rt,y):(U.havedict=1,h))}s.inflateReset=jt,s.inflateReset2=ue,s.inflateResetKeep=ne,s.inflateInit=Wt,s.inflateInit2=se,s.inflate=b,s.inflateEnd=M,s.inflateGetHeader=V,s.inflateSetDictionary=X,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,n,s){var f=e("../utils/common"),a=15,o=852,r=592,u=0,p=1,c=2,m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,v,k,D,y,I,C,E){var N=E.bits,A=0,B=0,z=0,Z=0,Q=0,K=0,q=0,G=0,j=0,et=0,st,pt,J,lt,ft,Ot=null,It=0,mt,at=new f.Buf16(a+1),St=new f.Buf16(a+1),gt=null,ct=0,bt,ht,Dt;for(A=0;A<=a;A++)at[A]=0;for(B=0;B<D;B++)at[v[k+B]]++;for(Q=N,Z=a;Z>=1&&at[Z]===0;Z--);if(Q>Z&&(Q=Z),Z===0)return y[I++]=20971520,y[I++]=20971520,E.bits=1,0;for(z=1;z<Z&&at[z]===0;z++);for(Q<z&&(Q=z),G=1,A=1;A<=a;A++)if(G<<=1,G-=at[A],G<0)return-1;if(G>0&&(d===u||Z!==1))return-1;for(St[1]=0,A=1;A<a;A++)St[A+1]=St[A]+at[A];for(B=0;B<D;B++)v[k+B]!==0&&(C[St[v[k+B]]++]=B);if(d===u?(Ot=gt=C,mt=19):d===p?(Ot=m,It-=257,gt=g,ct-=257,mt=256):(Ot=S,gt=w,mt=-1),et=0,B=0,A=z,ft=I,K=Q,q=0,J=-1,j=1<<Q,lt=j-1,d===p&&j>o||d===c&&j>r)return 1;for(;;){bt=A-q,C[B]<mt?(ht=0,Dt=C[B]):C[B]>mt?(ht=gt[ct+C[B]],Dt=Ot[It+C[B]]):(ht=96,Dt=0),st=1<<A-q,pt=1<<K,z=pt;do pt-=st,y[ft+(et>>q)+pt]=bt<<24|ht<<16|Dt|0;while(pt!==0);for(st=1<<A-1;et&st;)st>>=1;if(st!==0?(et&=st-1,et+=st):et=0,B++,--at[A]===0){if(A===Z)break;A=v[k+C[B]]}if(A>Q&&(et&lt)!==J){for(q===0&&(q=Q),ft+=z,K=A-q,G=1<<K;K+q<Z&&(G-=at[K+q],!(G<=0));)K++,G<<=1;if(j+=1<<K,d===p&&j>o||d===c&&j>r)return 1;J=et&lt,y[J]=Q<<24|K<<16|ft-I|0}}return et!==0&&(y[ft+et]=A-q<<24|4194304|0),E.bits=Q,0}},{"../utils/common":41}],51:[function(e,n,s){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,n,s){var f=e("../utils/common"),a=4,o=0,r=1,u=2;function p(b){for(var M=b.length;--M>=0;)b[M]=0}var c=0,m=1,g=2,S=3,w=258,h=29,d=256,v=d+1+h,k=30,D=19,y=2*v+1,I=15,C=16,E=7,N=256,A=16,B=17,z=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=512,j=new Array((v+2)*2);p(j);var et=new Array(k*2);p(et);var st=new Array(G);p(st);var pt=new Array(w-S+1);p(pt);var J=new Array(h);p(J);var lt=new Array(k);p(lt);function ft(b,M,V,X,F){this.static_tree=b,this.extra_bits=M,this.extra_base=V,this.elems=X,this.max_length=F,this.has_stree=b&&b.length}var Ot,It,mt;function at(b,M){this.dyn_tree=b,this.max_code=0,this.stat_desc=M}function St(b){return b<256?st[b]:st[256+(b>>>7)]}function gt(b,M){b.pending_buf[b.pending++]=M&255,b.pending_buf[b.pending++]=M>>>8&255}function ct(b,M,V){b.bi_valid>C-V?(b.bi_buf|=M<<b.bi_valid&65535,gt(b,b.bi_buf),b.bi_buf=M>>C-b.bi_valid,b.bi_valid+=V-C):(b.bi_buf|=M<<b.bi_valid&65535,b.bi_valid+=V)}function bt(b,M,V){ct(b,V[M*2],V[M*2+1])}function ht(b,M){var V=0;do V|=b&1,b>>>=1,V<<=1;while(--M>0);return V>>>1}function Dt(b){b.bi_valid===16?(gt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)}function Ut(b,M){var V=M.dyn_tree,X=M.max_code,F=M.stat_desc.static_tree,R=M.stat_desc.has_stree,l=M.stat_desc.extra_bits,U=M.stat_desc.extra_base,$=M.stat_desc.max_length,i,T,P,_,x,O,H=0;for(_=0;_<=I;_++)b.bl_count[_]=0;for(V[b.heap[b.heap_max]*2+1]=0,i=b.heap_max+1;i<y;i++)T=b.heap[i],_=V[V[T*2+1]*2+1]+1,_>$&&(_=$,H++),V[T*2+1]=_,!(T>X)&&(b.bl_count[_]++,x=0,T>=U&&(x=l[T-U]),O=V[T*2],b.opt_len+=O*(_+x),R&&(b.static_len+=O*(F[T*2+1]+x)));if(H!==0){do{for(_=$-1;b.bl_count[_]===0;)_--;b.bl_count[_]--,b.bl_count[_+1]+=2,b.bl_count[$]--,H-=2}while(H>0);for(_=$;_!==0;_--)for(T=b.bl_count[_];T!==0;)P=b.heap[--i],!(P>X)&&(V[P*2+1]!==_&&(b.opt_len+=(_-V[P*2+1])*V[P*2],V[P*2+1]=_),T--)}}function Bt(b,M,V){var X=new Array(I+1),F=0,R,l;for(R=1;R<=I;R++)X[R]=F=F+V[R-1]<<1;for(l=0;l<=M;l++){var U=b[l*2+1];U!==0&&(b[l*2]=ht(X[U]++,U))}}function dt(){var b,M,V,X,F,R=new Array(I+1);for(V=0,X=0;X<h-1;X++)for(J[X]=V,b=0;b<1<<Z[X];b++)pt[V++]=X;for(pt[V-1]=X,F=0,X=0;X<16;X++)for(lt[X]=F,b=0;b<1<<Q[X];b++)st[F++]=X;for(F>>=7;X<k;X++)for(lt[X]=F<<7,b=0;b<1<<Q[X]-7;b++)st[256+F++]=X;for(M=0;M<=I;M++)R[M]=0;for(b=0;b<=143;)j[b*2+1]=8,b++,R[8]++;for(;b<=255;)j[b*2+1]=9,b++,R[9]++;for(;b<=279;)j[b*2+1]=7,b++,R[7]++;for(;b<=287;)j[b*2+1]=8,b++,R[8]++;for(Bt(j,v+1,R),b=0;b<k;b++)et[b*2+1]=5,et[b*2]=ht(b,5);Ot=new ft(j,Z,d+1,v,I),It=new ft(et,Q,0,k,I),mt=new ft(new Array(0),K,0,D,E)}function Rt(b){var M;for(M=0;M<v;M++)b.dyn_ltree[M*2]=0;for(M=0;M<k;M++)b.dyn_dtree[M*2]=0;for(M=0;M<D;M++)b.bl_tree[M*2]=0;b.dyn_ltree[N*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function ce(b){b.bi_valid>8?gt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Vt(b,M,V,X){ce(b),X&&(gt(b,V),gt(b,~V)),f.arraySet(b.pending_buf,b.window,M,V,b.pending),b.pending+=V}function Mt(b,M,V,X){var F=M*2,R=V*2;return b[F]<b[R]||b[F]===b[R]&&X[M]<=X[V]}function ut(b,M,V){for(var X=b.heap[V],F=V<<1;F<=b.heap_len&&(F<b.heap_len&&Mt(M,b.heap[F+1],b.heap[F],b.depth)&&F++,!Mt(M,X,b.heap[F],b.depth));)b.heap[V]=b.heap[F],V=F,F<<=1;b.heap[V]=X}function rt(b,M,V){var X,F,R=0,l,U;if(b.last_lit!==0)do X=b.pending_buf[b.d_buf+R*2]<<8|b.pending_buf[b.d_buf+R*2+1],F=b.pending_buf[b.l_buf+R],R++,X===0?bt(b,F,M):(l=pt[F],bt(b,l+d+1,M),U=Z[l],U!==0&&(F-=J[l],ct(b,F,U)),X--,l=St(X),bt(b,l,V),U=Q[l],U!==0&&(X-=lt[l],ct(b,X,U)));while(R<b.last_lit);bt(b,N,M)}function Zt(b,M){var V=M.dyn_tree,X=M.stat_desc.static_tree,F=M.stat_desc.has_stree,R=M.stat_desc.elems,l,U,$=-1,i;for(b.heap_len=0,b.heap_max=y,l=0;l<R;l++)V[l*2]!==0?(b.heap[++b.heap_len]=$=l,b.depth[l]=0):V[l*2+1]=0;for(;b.heap_len<2;)i=b.heap[++b.heap_len]=$<2?++$:0,V[i*2]=1,b.depth[i]=0,b.opt_len--,F&&(b.static_len-=X[i*2+1]);for(M.max_code=$,l=b.heap_len>>1;l>=1;l--)ut(b,V,l);i=R;do l=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ut(b,V,1),U=b.heap[1],b.heap[--b.heap_max]=l,b.heap[--b.heap_max]=U,V[i*2]=V[l*2]+V[U*2],b.depth[i]=(b.depth[l]>=b.depth[U]?b.depth[l]:b.depth[U])+1,V[l*2+1]=V[U*2+1]=i,b.heap[1]=i++,ut(b,V,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Ut(b,M),Bt(V,$,b.bl_count)}function de(b,M,V){var X,F=-1,R,l=M[0*2+1],U=0,$=7,i=4;for(l===0&&($=138,i=3),M[(V+1)*2+1]=65535,X=0;X<=V;X++)R=l,l=M[(X+1)*2+1],!(++U<$&&R===l)&&(U<i?b.bl_tree[R*2]+=U:R!==0?(R!==F&&b.bl_tree[R*2]++,b.bl_tree[A*2]++):U<=10?b.bl_tree[B*2]++:b.bl_tree[z*2]++,U=0,F=R,l===0?($=138,i=3):R===l?($=6,i=3):($=7,i=4))}function ne(b,M,V){var X,F=-1,R,l=M[0*2+1],U=0,$=7,i=4;for(l===0&&($=138,i=3),X=0;X<=V;X++)if(R=l,l=M[(X+1)*2+1],!(++U<$&&R===l)){if(U<i)do bt(b,R,b.bl_tree);while(--U!==0);else R!==0?(R!==F&&(bt(b,R,b.bl_tree),U--),bt(b,A,b.bl_tree),ct(b,U-3,2)):U<=10?(bt(b,B,b.bl_tree),ct(b,U-3,3)):(bt(b,z,b.bl_tree),ct(b,U-11,7));U=0,F=R,l===0?($=138,i=3):R===l?($=6,i=3):($=7,i=4)}}function jt(b){var M;for(de(b,b.dyn_ltree,b.l_desc.max_code),de(b,b.dyn_dtree,b.d_desc.max_code),Zt(b,b.bl_desc),M=D-1;M>=3&&b.bl_tree[q[M]*2+1]===0;M--);return b.opt_len+=3*(M+1)+5+5+4,M}function ue(b,M,V,X){var F;for(ct(b,M-257,5),ct(b,V-1,5),ct(b,X-4,4),F=0;F<X;F++)ct(b,b.bl_tree[q[F]*2+1],3);ne(b,b.dyn_ltree,M-1),ne(b,b.dyn_dtree,V-1)}function se(b){var M=4093624447,V;for(V=0;V<=31;V++,M>>>=1)if(M&1&&b.dyn_ltree[V*2]!==0)return o;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return r;for(V=32;V<d;V++)if(b.dyn_ltree[V*2]!==0)return r;return o}var Wt=!1;function _e(b){Wt||(dt(),Wt=!0),b.l_desc=new at(b.dyn_ltree,Ot),b.d_desc=new at(b.dyn_dtree,It),b.bl_desc=new at(b.bl_tree,mt),b.bi_buf=0,b.bi_valid=0,Rt(b)}function oe(b,M,V,X){ct(b,(c<<1)+(X?1:0),3),Vt(b,M,V,!0)}function At(b){ct(b,m<<1,3),bt(b,N,j),Dt(b)}function Gt(b,M,V,X){var F,R,l=0;b.level>0?(b.strm.data_type===u&&(b.strm.data_type=se(b)),Zt(b,b.l_desc),Zt(b,b.d_desc),l=jt(b),F=b.opt_len+3+7>>>3,R=b.static_len+3+7>>>3,R<=F&&(F=R)):F=R=V+5,V+4<=F&&M!==-1?oe(b,M,V,X):b.strategy===a||R===F?(ct(b,(m<<1)+(X?1:0),3),rt(b,j,et)):(ct(b,(g<<1)+(X?1:0),3),ue(b,b.l_desc.max_code+1,b.d_desc.max_code+1,l+1),rt(b,b.dyn_ltree,b.dyn_dtree)),Rt(b),X&&ce(b)}function pe(b,M,V){return b.pending_buf[b.d_buf+b.last_lit*2]=M>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=M&255,b.pending_buf[b.l_buf+b.last_lit]=V&255,b.last_lit++,M===0?b.dyn_ltree[V*2]++:(b.matches++,M--,b.dyn_ltree[(pt[V]+d+1)*2]++,b.dyn_dtree[St(M)*2]++),b.last_lit===b.lit_bufsize-1}s._tr_init=_e,s._tr_stored_block=oe,s._tr_flush_block=Gt,s._tr_tally=pe,s._tr_align=At},{"../utils/common":41}],53:[function(e,n,s){function f(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n.exports=f},{}],54:[function(e,n,s){(function(f){(function(a,o){if(a.setImmediate)return;var r=1,u={},p=!1,c=a.document,m;function g(E){typeof E!="function"&&(E=new Function(""+E));for(var N=new Array(arguments.length-1),A=0;A<N.length;A++)N[A]=arguments[A+1];var B={callback:E,args:N};return u[r]=B,m(r),r++}function S(E){delete u[E]}function w(E){var N=E.callback,A=E.args;switch(A.length){case 0:N();break;case 1:N(A[0]);break;case 2:N(A[0],A[1]);break;case 3:N(A[0],A[1],A[2]);break;default:N.apply(o,A);break}}function h(E){if(p)setTimeout(h,0,E);else{var N=u[E];if(N){p=!0;try{w(N)}finally{S(E),p=!1}}}}function d(){m=function(E){process.nextTick(function(){h(E)})}}function v(){if(a.postMessage&&!a.importScripts){var E=!0,N=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=N,E}}function k(){var E="setImmediate$"+Math.random()+"$",N=function(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(E)===0&&h(+A.data.slice(E.length))};a.addEventListener?a.addEventListener("message",N,!1):a.attachEvent("onmessage",N),m=function(A){a.postMessage(E+A,"*")}}function D(){var E=new MessageChannel;E.port1.onmessage=function(N){var A=N.data;h(A)},m=function(N){E.port2.postMessage(N)}}function y(){var E=c.documentElement;m=function(N){var A=c.createElement("script");A.onreadystatechange=function(){h(N),A.onreadystatechange=null,E.removeChild(A),A=null},E.appendChild(A)}}function I(){m=function(E){setTimeout(h,0,E)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(a);C=C&&C.setTimeout?C:a,{}.toString.call(a.process)==="[object process]"?d():v()?k():a.MessageChannel?D():c&&"onreadystatechange"in c.createElement("script")?y():I(),C.setImmediate=g,C.clearImmediate=S})(typeof self>"u"?typeof f>"u"?this:f:self)}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(je);var Je=je.exports;class $e{load(t,e){fetch(t).then(function(n){return n.status===200||n.status===0?Promise.resolve(n.blob()):Promise.reject(new Error(n.statusText))}).then(Je.loadAsync).then(async function(n){console.log(n);let s=null;const f={};for(let o in n.files){const r=n.files[o],u=o.split(".").pop();if(console.log(o,r,u),u==="ssfb"){if(s!==null){e(null,null,new Error("already exist ssfb file"));return}s=o}else if(u==="png"){const p=o.split(".").slice(0,-1).join(".");f[p]=await n.file(o).async("uint8array")}}let a=await n.file(s).async("uint8array");e(a,f,null)},function(s){console.log(s),e(null,null,s)})}}class Qe{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),n={};for(let s=0;s<e;s++){const f=t.fbObj.animePacks(s),a=f.name(),o=[],r=f.animationsLength();for(let p=0;p<r;p++){const c=f.animations(p),m=c.name();m!=="Setup"&&(o[m]=c)}const u=f.partsLength();n[a]={animePack:f,animationMap:o,parts_count:u}}return n}}const Fe=30;class qe{constructor(t){this.textureMap=null,this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null,this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const e=new Xe.Application({width:this.canvasWidth,height:this.canvasHeight,transparent:!0}),n=e.view;t.appendChild(n);const s=new We;e.stage.addChild(s),this.mainContainer=s,this.pixiApplication=e}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let n=new Ze(t,()=>{e.setupForLoadComplete(n)})}loadSspkg(t){const e=this;new $e().load(t,(s,f,a)=>{if(a!==null)return;let o=new Ze(s,f,()=>{e.setupForLoadComplete(o)})})}setupForLoadComplete(t){this.projectData=t,this.textureMap={};for(let e in t.resources){const n=t.resources[e];this.textureMap[e]=n.texture}this.animePackMap=Qe.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let n=!1;this.textureContainer==null&&(n=!0,this.textureContainer=new Ge(this));const s=this.animePackMap[t],f=s.animePack,o=s.animationMap[e];this.currentAnimation=o,this.currentAnimePack=f,this.textureContainer.Setup(t,e);const r=o.labelDataLength();for(let u=0;u<r;u++)o.labelData(u);n&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,n=-1){this.textureContainer.SetAnimationSection(t,e,n)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),n=t.canvasPvotY();let s;switch(e){case .5:s=Fe;break;case 0:s=this.canvasWidth*.5;break;case-.5:s=this.canvasWidth-Fe;break}let f;switch(n){case .5:f=Fe;break;case 0:f=this.canvasHeight*.5;break;case-.5:f=this.canvasHeight-Fe}this.mainContainer.setPosition(s,f)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),n=t.canvasSizeW(),s=this.canvasWidth/n,f=this.canvasHeight/e;let a=null;s<f?a=s:f<s&&(a=f),this.mainContainer.setDefaultScaleRatio(a),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Ee.Player=qe,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee}({},PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI.filters,PIXI);

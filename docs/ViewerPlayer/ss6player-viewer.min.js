/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.4.0
 *
 * Copyright(C) CRI Middleware Co., Ltd.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

var ss6PlayerViewer=function(Oe,Xe,De,Ne,ce,Re,Ae,ze,zt){"use strict";const ve=[5,10,15,20,25,50,75,100,150,200,300,400,800];class We extends De.Container{constructor(){super(),this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new Ne.Graphics,e=new Ne.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const r=this.position;r.x+=t,r.y+=e,this.position=r}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=ve.indexOf(this.zoomPercent)+1;if(e>=ve.length)return;const r=ve[e];this.zoom(r)}zoomOut(){const e=ve.indexOf(this.zoomPercent)-1;if(e<0)return;const r=ve[e];this.zoom(r)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){t.lineStyle(1,0),t.alpha=.3,t.moveTo(-5e3,0).lineTo(5001,0),t.moveTo(0,-5e3).lineTo(0,5001),e.lineStyle(1,0),e.alpha=.1;let l=100;for(let a=-5e3;a<5001;a+=l)e.moveTo(a,-5e3).lineTo(a,5001);for(let a=-5e3;a<5001;a+=l)e.moveTo(-5e3,-a).lineTo(5001,-a)}}}class He{}const me=4,ge=4,kt=4,ee=new Int32Array(2),Me=new Float32Array(ee.buffer),Be=new Float64Array(ee.buffer),ye=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Pe;(function(R){R[R.UTF8_BYTES=1]="UTF8_BYTES",R[R.UTF16_STRING=2]="UTF16_STRING"})(Pe||(Pe={}));class Le{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Le(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ee[0]=this.readInt32(t),Me[0]}readFloat64(t){return ee[ye?0:1]=this.readInt32(t),ee[ye?1:0]=this.readInt32(t+4),Be[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Me[0]=e,this.writeInt32(t,ee[0])}writeFloat64(t,e){Be[0]=e,this.writeInt32(t,ee[ye?0:1]),this.writeInt32(t+4,ee[ye?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+me+ge)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ge;e++)t+=String.fromCharCode(this.readInt8(this.position_+me+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);t+=me;const s=this.bytes_.subarray(t,t+r);return e===Pe.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+me}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ge)throw new Error("FlatBuffers: file identifier must be length "+ge);for(let e=0;e<ge;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+me+e))return!1;return!0}createScalarList(t,e){const r=[];for(let s=0;s<e;++s){const l=t(s);l!==null&&r.push(l)}return r}createObjList(t,e){const r=[];for(let s=0;s<e;++s){const l=t(s);l!==null&&r.push(l.unpack())}return r}}class tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+kt),(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,r,s,l,a,h,n,p,c,d,y,m,F,I,o,_,v,k,D,g,w,C,E,T,A,U,z,Z,Q,K,q,G,j,et,st,pt,J,ht){return tt.startAnimationInitialData(t),tt.addIndex(t,e),tt.addLowflag(t,r),tt.addHighflag(t,s),tt.addPriority(t,l),tt.addCellIndex(t,a),tt.addOpacity(t,h),tt.addLocalopacity(t,n),tt.addMasklimen(t,p),tt.addPositionX(t,c),tt.addPositionY(t,d),tt.addPositionZ(t,y),tt.addPivotX(t,m),tt.addPivotY(t,F),tt.addRotationX(t,I),tt.addRotationY(t,o),tt.addRotationZ(t,_),tt.addScaleX(t,v),tt.addScaleY(t,k),tt.addLocalscaleX(t,D),tt.addLocalscaleY(t,g),tt.addSizeX(t,w),tt.addSizeY(t,C),tt.addUvMoveX(t,E),tt.addUvMoveY(t,T),tt.addUvRotation(t,A),tt.addUvScaleX(t,U),tt.addUvScaleY(t,z),tt.addBoundingRadius(t,Z),tt.addInstanceValueCurKeyframe(t,Q),tt.addInstanceValueStartFrame(t,K),tt.addInstanceValueEndFrame(t,q),tt.addInstanceValueLoopNum(t,G),tt.addInstanceValueSpeed(t,j),tt.addInstanceValueLoopflag(t,et),tt.addEffectValueCurKeyframe(t,st),tt.addEffectValueStartTime(t,pt),tt.addEffectValueSpeed(t,J),tt.addEffectValueLoopflag(t,ht),tt.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+kt),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,r,s,l){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,r),Ht.addFlag2(t,s),Ht.addData(t,l),Ht.endpartState(t)}}class oe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+kt),(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const r=this.bb.__offset(this.bb_pos,4);return r?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return oe.startframeDataIndex(t),oe.addStates(t,e),oe.endframeDataIndex(t)}}class ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+kt),(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,r){return ie.startlabelDataItem(t),ie.addLabel(t,e),ie.addFrameIndex(t,r),ie.endlabelDataItem(t)}}class fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+kt),(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return fe.startmeshDataIndices(t),fe.addIndices(t,e),fe.endmeshDataIndices(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+kt),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return le.startmeshDataUV(t),le.addUv(t,e),le.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+kt),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,r,s,l){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,r),Kt.addDataType(t,s),Kt.addData(t,l),Kt.enduserDataItem(t)}}class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+kt),(e||new re).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,r){return re.startuserDataPerFrame(t),re.addFrameIndex(t,e),re.addData(t,r),re.enduserDataPerFrame(t)}}class _t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+kt),(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new oe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new re).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ie).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUv(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataUvLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new fe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUv(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataUvVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,r,s,l,a,h,n,p,c,d,y,m,F,I,o,_){return _t.startAnimationData(t),_t.addName(t,e),_t.addDefaultData(t,r),_t.addFrameData(t,s),_t.addUserData(t,l),_t.addLabelData(t,a),_t.addMeshsDataUv(t,h),_t.addMeshsDataIndices(t,n),_t.addStartFrames(t,p),_t.addEndFrames(t,c),_t.addTotalFrames(t,d),_t.addFps(t,y),_t.addLabelNum(t,m),_t.addCanvasSizeW(t,F),_t.addCanvasSizeH(t,I),_t.addCanvasPvotX(t,o),_t.addCanvasPvotY(t,_),_t.endAnimationData(t)}}var wt=(R=>(R[R.Invalid=-1]="Invalid",R[R.Nulltype=0]="Nulltype",R[R.Normal=1]="Normal",R[R.Text=2]="Text",R[R.Instance=3]="Instance",R[R.Armature=4]="Armature",R[R.Effect=5]="Effect",R[R.Mesh=6]="Mesh",R[R.Movenode=7]="Movenode",R[R.Constraint=8]="Constraint",R[R.Mask=9]="Mask",R[R.Joint=10]="Joint",R[R.Bonepoint=11]="Bonepoint",R))(wt||{});class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Ct).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+kt),(e||new Ct).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):wt.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,wt.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,r,s,l,a,h,n,p,c,d){return Ct.startPartData(t),Ct.addName(t,e),Ct.addIndex(t,r),Ct.addParentIndex(t,s),Ct.addType(t,l),Ct.addBoundsType(t,a),Ct.addAlphaBlendType(t,h),Ct.addRefname(t,n),Ct.addEffectfilename(t,p),Ct.addColorLabel(t,c),Ct.addMaskInfluence(t,d),Ct.endPartData(t)}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+kt),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new _t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,r,s){return $t.startAnimePackData(t),$t.addName(t,e),$t.addParts(t,r),$t.addAnimations(t,s),$t.endAnimePackData(t)}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+kt),(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,r,s,l,a){return Xt.startCellMap(t),Xt.addName(t,e),Xt.addImagePath(t,r),Xt.addIndex(t,s),Xt.addWrapmode(t,l),Xt.addFiltermode(t,a),Xt.endCellMap(t)}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+kt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Xt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Lt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+kt),(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}behaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}behaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}behaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}behavior(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}behaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,r,s,l,a,h,n,p){return Lt.startEffectNode(t),Lt.addArrayIndex(t,e),Lt.addParentIndex(t,r),Lt.addType(t,s),Lt.addCellIndex(t,l),Lt.addBlendType(t,a),Lt.addNumBehavior(t,h),Lt.addBehaviorType(t,n),Lt.addBehavior(t,p),Lt.endEffectNode(t)}}class Tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new Tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+kt),(e||new Tt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?(e||new Lt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,r,s,l,a,h,n,p){return Tt.startEffectFile(t),Tt.addName(t,e),Tt.addFps(t,r),Tt.addIsLockRandSeed(t,s),Tt.addLockRandSeed(t,l),Tt.addLayoutScaleX(t,a),Tt.addLayoutScaleY(t,h),Tt.addNumNodeList(t,n),Tt.addEffectNode(t,p),Tt.endEffectFile(t)}}class Et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+kt),(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new xe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new $t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new Tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,r,s,l,a,h,n,p,c,d){return Et.startProjectData(t),Et.addDataId(t,e),Et.addVersion(t,r),Et.addFlags(t,s),Et.addImageBaseDir(t,l),Et.addCells(t,a),Et.addAnimePacks(t,h),Et.addEffectFileList(t,n),Et.addNumCells(t,p),Et.addNumAnimePacks(t,c),Et.addNumEffectFileList(t,d),Et.endProjectData(t)}}class Ke{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class Ue{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,r){return t.prep(4,8),t.writeInt32(r),t.writeInt32(e),t.offset()}}class we{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,r,s,l){return t.prep(4,16),t.writeInt32(l),t.writeInt32(s),t.writeInt32(r),t.writeInt32(e),t.offset()}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+kt),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,r){return Qt.startuserDataString(t),Qt.addLength(t,e),Qt.addData(t,r),Qt.enduserDataString(t)}}var it=(R=>(R[R.INVISIBLE=1]="INVISIBLE",R[R.FLIP_H=2]="FLIP_H",R[R.FLIP_V=4]="FLIP_V",R[R.CELL_INDEX=8]="CELL_INDEX",R[R.POSITION_X=16]="POSITION_X",R[R.POSITION_Y=32]="POSITION_Y",R[R.POSITION_Z=64]="POSITION_Z",R[R.PIVOT_X=128]="PIVOT_X",R[R.PIVOT_Y=256]="PIVOT_Y",R[R.ROTATIONX=512]="ROTATIONX",R[R.ROTATIONY=1024]="ROTATIONY",R[R.ROTATIONZ=2048]="ROTATIONZ",R[R.SCALE_X=4096]="SCALE_X",R[R.SCALE_Y=8192]="SCALE_Y",R[R.LOCALSCALE_X=16384]="LOCALSCALE_X",R[R.LOCALSCALE_Y=32768]="LOCALSCALE_Y",R[R.OPACITY=65536]="OPACITY",R[R.LOCALOPACITY=131072]="LOCALOPACITY",R[R.PARTS_COLOR=262144]="PARTS_COLOR",R[R.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",R[R.SIZE_X=1048576]="SIZE_X",R[R.SIZE_Y=2097152]="SIZE_Y",R[R.U_MOVE=4194304]="U_MOVE",R[R.V_MOVE=8388608]="V_MOVE",R[R.UV_ROTATION=16777216]="UV_ROTATION",R[R.U_SCALE=33554432]="U_SCALE",R[R.V_SCALE=67108864]="V_SCALE",R[R.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",R[R.MASK=268435456]="MASK",R[R.PRIORITY=536870912]="PRIORITY",R[R.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",R[R.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",R))(it||{}),Ve=(R=>(R[R.MESHDATA=1]="MESHDATA",R))(Ve||{});class Ge{static getProjectData(t){const e=new Le(t);return Et.getRootAsProjectData(e)}}class Te{static getProjectData(t){return Ge.getProjectData(t)}}class de{constructor(t,e=null,r=null){this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this._animePackIdx=-1,this._parentIndex=[],this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),t.hasOwnProperty("bb")?this._fbObj=t:this._fbObj=Te.getProjectData(t),e!==null&&r!==null&&this.Setup(e,r)}get fbObj(){return this._fbObj}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}get animePackIdx(){return this._animePackIdx}get animePackData(){return this.curAnimePackData}get animationData(){return this.curAnimation}get parentIndex(){return this._parentIndex}get prio2index(){return this._prio2index}Setup(t,e){this.clearCaches();const r=this._fbObj.animePacksLength();let s=!1;for(let l=0;l<r;l++)if(this._fbObj.animePacks(l).name()===t){let a;const h=this._fbObj.animePacks(l).animationsLength();for(a=0;a<h;a++)if(this._fbObj.animePacks(l).animations(a).name()===e){this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this._fbObj.animePacks(l),this.curAnimation=this.curAnimePackData.animations(a),s=!0;break}if(!s)continue;const n=this.curAnimation.defaultDataLength();for(let c=0;c<n;c++){const d=this.curAnimation.defaultData(c);this.defaultFrameMap[d.index()]=d}this._animePackIdx=l;const p=this.curAnimePackData.partsLength();for(this._parentIndex=new Array(p),a=0;a<p;a++){const c=this.curAnimePackData.parts(a).index();this._parentIndex[c]=this._fbObj.animePacks(l).parts(a).parentIndex()}}if(!s)throw Error("not found animePackName: "+t+" animeName: "+e)}clearCaches(){this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[]}HaveUserData(t){if(this.userData[t]===null)return!1;if(this.userData[t]!==void 0)return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=null,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],r=e.dataLength();let s=0,l=[];for(let a=0;a<r;a++){const h=e.data(a).flags(),n=e.data(a).arrayIndex();let p=null,c=null,d=null,y=null,m=null,F=null,I=null,o=null,_=null;h&1&&(p=e.data(a).data(s,new Ke).integer(),s++),h&2&&(c=e.data(a).data(s,new we).x(),d=e.data(a).data(s,new we).y(),y=e.data(a).data(s,new we).w(),m=e.data(a).data(s,new we).h(),s++),h&4&&(F=e.data(a).data(s,new Ue).x(),I=e.data(a).data(s,new Ue).y(),s++),h&8&&(o=e.data(a).data(s,new Qt).length(),_=e.data(a).data(s,new Qt).data(),s++),l.push([n,h,p,c,d,y,m,F,I,o,_])}return l}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let r=new Array(e);this._prio2index=new Array(e);const s=this.curAnimation.frameData(t);for(let l=0;l<e;l++){const a=s.states(l),h=a.index();let n=a.flag1(),p=a.flag2(),c=this.GetDefaultDataByIndex(h);c.flag1=n,c.flag2=p;let d=0;if(n&it.INVISIBLE&&(c.f_hide=!0),n&it.FLIP_H&&(c.f_flipH=!0),n&it.FLIP_V&&(c.f_flipV=!0),n&it.CELL_INDEX&&(c.cellIndex=a.data(d++)),n&it.POSITION_X&&(c.positionX=this.I2F(a.data(d++))),n&it.POSITION_Y&&(c.positionY=this.I2F(a.data(d++))),n&it.POSITION_Z&&d++,n&it.PIVOT_X&&(c.pivotX=this.I2F(a.data(d++))),n&it.PIVOT_Y&&(c.pivotY=this.I2F(a.data(d++))),n&it.ROTATIONX&&d++,n&it.ROTATIONY&&d++,n&it.ROTATIONZ&&(c.rotationZ=this.I2F(a.data(d++))),n&it.SCALE_X&&(c.scaleX=this.I2F(a.data(d++))),n&it.SCALE_Y&&(c.scaleY=this.I2F(a.data(d++))),n&it.LOCALSCALE_X&&(c.localscaleX=this.I2F(a.data(d++))),n&it.LOCALSCALE_Y&&(c.localscaleY=this.I2F(a.data(d++))),n&it.OPACITY&&(c.opacity=a.data(d++)),n&it.LOCALOPACITY&&(c.localopacity=a.data(d++)),n&it.SIZE_X&&(c.size_X=this.I2F(a.data(d++))),n&it.SIZE_Y&&(c.size_Y=this.I2F(a.data(d++))),n&it.U_MOVE&&(c.uv_move_X=this.I2F(a.data(d++))),n&it.V_MOVE&&(c.uv_move_Y=this.I2F(a.data(d++))),n&it.UV_ROTATION&&(c.uv_rotation=this.I2F(a.data(d++))),n&it.U_SCALE&&(c.uv_scale_X=this.I2F(a.data(d++))),n&it.V_SCALE&&(c.uv_scale_Y=this.I2F(a.data(d++))),n&it.BOUNDINGRADIUS&&d++,n&it.MASK&&(c.masklimen=a.data(d++)),n&it.PRIORITY&&(c.priority=a.data(d++)),n&it.INSTANCE_KEYFRAME&&(c.instanceValue_curKeyframe=a.data(d++),c.instanceValue_startFrame=a.data(d++),c.instanceValue_endFrame=a.data(d++),c.instanceValue_loopNum=a.data(d++),c.instanceValue_speed=this.I2F(a.data(d++)),c.instanceValue_loopflag=a.data(d++)),n&it.EFFECT_KEYFRAME&&(c.effectValue_curKeyframe=a.data(d++),c.effectValue_startTime=a.data(d++),c.effectValue_speed=this.I2F(a.data(d++)),c.effectValue_loopflag=a.data(d++)),n&it.VERTEX_TRANSFORM){c.f_mesh=!0;const y=c.i_transformVerts=a.data(d++);y&1&&(c.u00=this.I2F(a.data(d++)),c.v00=this.I2F(a.data(d++))),y&2&&(c.u01=this.I2F(a.data(d++)),c.v01=this.I2F(a.data(d++))),y&4&&(c.u10=this.I2F(a.data(d++)),c.v10=this.I2F(a.data(d++))),y&8&&(c.u11=this.I2F(a.data(d++)),c.v11=this.I2F(a.data(d++)))}if(n&it.PARTS_COLOR){const y=a.data(d++);if(c.colorBlendType=y&255,c.useColorMatrix=c.colorBlendType!==1,y&4096){c.colorRate=this.I2F(a.data(d++));const m=a.data(d++),F=a.data(d++);c.colorArgb32=m<<16|F,c.partsColorARGB=c.colorArgb32>>>0,c.colorBlendType===1&&(c.tint=c.colorArgb32&16777215)}}if(p&Ve.MESHDATA){const y=this.curAnimation.meshsDataUv(h);c.meshIsBind=y.uv(0),c.meshNum=y.uv(1);let m=new Float32Array(c.meshNum*3);for(let F=0;F<c.meshNum;F++){const I=this.I2F(a.data(d++)),o=this.I2F(a.data(d++)),_=this.I2F(a.data(d++));m[F*3+0]=I,m[F*3+1]=o,m[F*3+2]=_}c.meshDataPoint=m}r[h]=c,this._prio2index[l]=h,this.curAnimePackData.parts(h).type()===0&&(r[h].cellIndex=-2)}return this.frameDataCache=r,this.currentCachedFrameNumber=t,r}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];let r=new He;return r.index=e.index(),r.lowflag=e.lowflag(),r.highflag=e.highflag(),r.priority=e.priority(),r.cellIndex=e.cellIndex(),r.opacity=e.opacity(),r.localopacity=e.localopacity(),r.masklimen=e.masklimen(),r.positionX=e.positionX(),r.positionY=e.positionY(),r.pivotX=e.pivotX(),r.pivotY=e.pivotY(),r.rotationX=e.rotationX(),r.rotationY=e.rotationY(),r.rotationZ=e.rotationZ(),r.scaleX=e.scaleX(),r.scaleY=e.scaleY(),r.localscaleX=e.localscaleX(),r.localscaleY=e.localscaleY(),r.size_X=e.sizeX(),r.size_Y=e.sizeY(),r.uv_move_X=e.uvMoveX(),r.uv_move_Y=e.uvMoveY(),r.uv_rotation=e.uvRotation(),r.uv_scale_X=e.uvScaleX(),r.uv_scale_Y=e.uvScaleY(),r.boundingRadius=e.boundingRadius(),r.instanceValue_curKeyframe=e.instanceValueCurKeyframe(),r.instanceValue_endFrame=e.instanceValueEndFrame(),r.instanceValue_startFrame=e.instanceValueStartFrame(),r.instanceValue_loopNum=e.instanceValueLoopNum(),r.instanceValue_speed=e.instanceValueSpeed(),r.instanceValue_loopflag=e.instanceValueLoopflag(),r.effectValue_curKeyframe=e.effectValueCurKeyframe(),r.effectValue_startTime=e.effectValueStartTime(),r.effectValue_speed=e.effectValueSpeed(),r.effectValue_loopflag=e.effectValueLoopflag(),r.f_hide=!1,r.f_flipH=!1,r.f_flipV=!1,r.f_mesh=!1,r.i_transformVerts=0,r.u00=0,r.v00=0,r.u01=0,r.v01=0,r.u10=0,r.v10=0,r.u11=0,r.v11=0,r.useColorMatrix=!1,r.colorBlendType=0,r.colorRate=0,r.colorArgb32=0,r.meshIsBind=0,r.meshNum=0,r.meshDataPoint=null,r.flag1=0,r.flag2=0,r.partsColorARGB=0,r}InheritOpacity(t,e,r){return t=this.GetFrameData(r)[e].opacity/255,this._parentIndex[e]>=0&&(t=this.InheritOpacity(t,this._parentIndex[e],r)),t}TransformVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let p=t[n*2],c=t[n*2+1];s.i_transformVerts&1&&n===1&&(p+=s.u00,c-=s.v00),s.i_transformVerts&2&&n===2&&(p+=s.u01,c-=s.v01),s.i_transformVerts&4&&n===3&&(p+=s.u10,c-=s.v10),s.i_transformVerts&8&&n===4&&(p+=s.u11,c-=s.v11),p*=s.scaleX*s.localscaleX,c*=s.scaleY*s.localscaleY,t[n*2]=a*p-h*c+s.positionX,t[n*2+1]=h*p+a*c-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformMeshVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let p=t[n*2],c=t[n*2+1];p*=s.scaleX*s.localscaleX,c*=s.scaleY*s.localscaleY,t[n*2]=a*p-h*c+s.positionX,t[n*2+1]=h*p+a*c-s.positionY}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPositionLocal(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l),n=t[0]*s.scaleX*s.localscaleX,p=t[1]*s.scaleY*s.localscaleY;return t[2]*=s.scaleX*s.localscaleX,t[3]*=s.scaleY*s.localscaleY,t[0]=a*n-h*p+s.positionX,t[1]=h*n+a*p-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static CoordinateGetDiagonalIntersection(t,e,r,s,l,a,h,n,p,c,d){const y=(n-a)*(h-r)-(h-l)*(n-s),m=(p-r)*(n-s)-(c-s)*(h-r),F=(p-r)*(n-a)-(c-s)*(h-l);if(F<=0&&F>=0)return d;const I=y/F,o=m/F;return 0<=I&&1>=I&&0<=o&&1>=o&&(t=r+I*(p-r),e=s+I*(c-s)),d[0]=t,d[1]=e,d}TransformVerts(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let p=t[n*2],c=t[n*2+1];p*=s.scaleX,c*=s.scaleY,t[n*2]=a*p-h*c+s.positionX,t[n*2+1]=h*p+a*c-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPosition(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l),n=t[0]*s.scaleX,p=t[1]*s.scaleY;return t[2]*=s.scaleX,t[3]*=s.scaleY,t[0]=a*n-h*p+s.positionX,t[1]=h*n+a*p-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static GetVerts(t,e,r){const s=e.size_X/2,l=e.size_Y/2,a=e.size_X*-(e.pivotX+t.pivotX()),h=e.size_Y*(e.pivotY+t.pivotY());return r.set([a,h,a-s,h-l,a+s,h-l,a-s,h+l,a+s,h+l]),r}static GetMeshVerts(t,e,r){for(let s=0;s<e.meshNum;s++)r[s*2]=e.meshDataPoint[s*3],r[s*2+1]=-e.meshDataPoint[s*3+1];return r}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}}class Ze{getBundle(){return this.ssfbFile}constructor(t,e,r,s){if(typeof t=="string"&&r===void 0){let l=t;this.ssfbPath=l;const a=l.lastIndexOf("/");this.rootPath=l.substring(0,a)+"/",this.ssfbFile=l.substring(a+1),this.onComplete=e===void 0?null:e,this.status=0,this.LoadFlatBuffersProject()}else if(typeof e=="object"&&e.constructor===Uint8Array){this.ssfbPath=null,this.rootPath=null,this.ssfbFile=t;let l=e,a=r;this.onComplete=s===void 0?null:s,this.load(l,a)}}LoadFlatBuffersProject(){const t=this;fetch(this.ssfbPath,{method:"get"}).then(e=>e.ok?Promise.resolve(e.arrayBuffer()):Promise.reject(new Error(e.statusText))).then(e=>{t.fbObj=Te.getProjectData(new Uint8Array(e)),t.LoadCellResources()}).catch(e=>{this.onComplete!==null&&this.onComplete(null,e)})}LoadCellResources(){let t=[],e={};for(let s=0;s<this.fbObj.cellsLength();s++){const l=this.fbObj.cells(s).cellMap(),a=l.index();if(!t.some(function(h){return h===a})){t.push(a);const h=l.name();e[h]=this.rootPath+l.imagePath()}}ce.Assets.addBundle(this.getBundle(),e);const r=this;ce.Assets.loadBundle(this.getBundle()).then(()=>{r.status=1,r.onComplete!==null&&r.onComplete(this,null)}).catch(s=>{this.onComplete!==null&&this.onComplete(null,s)})}load(t,e){this.fbObj=Te.getProjectData(t);let r={};for(let l in e){const a=e[l];let h="";const n=a.byteLength;for(let p=0;p<n;p++)h+=String.fromCharCode(a[p]);r[l]="data:image/png;base64,"+btoa(h)}ce.Assets.addBundle(this.getBundle(),r);const s=this;ce.Assets.loadBundle(this.getBundle()).then(()=>{s.status=1,s.onComplete!==null&&s.onComplete(this,null)}).catch(l=>{this.onComplete!==null&&this.onComplete(null,l)})}}class Je{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class Ie extends De.Container{constructor(t,e=null,r=null){super(),this.liveFrame=[],this.colorMatrixFilterCache=[],this.parentAlpha=1,this.prevCellID=[],this.prevMesh=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this.defaultColorFilter=new ze.ColorMatrixFilter,this._instancePos=new Float32Array(5),this._CoordinateGetDiagonalIntersectionVec2=new Float32Array(2),this.ss6project=t,this.playerLib=new de(t.fbObj,e,r),this.parentAlpha=1,e!==null&&r!==null&&this.Setup(e,r),this.on("added",(...s)=>{Ae.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...s)=>{Ae.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this._endFrame}get totalFrame(){return this.playerLib.animationData.totalFrames()}get fps(){return this.playerLib.animationData.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.playerLib.animePackName}get animeName(){return this.playerLib.animeName}Setup(t,e){this.playerLib.Setup(t,e),this.clearCaches();const r=this.playerLib.animePackData,s=r.partsLength();this.prevCellID=new Array(s),this.prevMesh=new Array(s),this.substituteOverWrite=new Array(s),this.substituteKeyParam=new Array(s);for(let l=0;l<s;l++){const a=r.parts(l).index();this.prevCellID[a]=-1,this.prevMesh[a]=null,this.substituteOverWrite[a]=null,this.substituteKeyParam[a]=null}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.playerLib.animationData.startFrames(),this._endFrame=this.playerLib.animationData.endFrames(),this._currentFrame=this.playerLib.animationData.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.playerLib.animationData.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.liveFrame=[],this.colorMatrixFilterCache=[]}Update(t){this.UpdateInternal(t)}UpdateInternal(t,e=!0){const r=Ae.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=r,this.nextFrameTime>=this.updateInterval){let l=!1;const a=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*a;let h=this.skipEnabled?a*this.playDirection:this.playDirection,n=this._currentFrame+h,p=Math.floor(n),c=n-p,d=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let y=p-d;y;y--){let m=d+1;if(m>this._endFrame)if(this._loops===-1)m=this._startFrame;else if(this._loops--,l=!0,this._loops===0){this._isPlaying=!1,m=e?this._startFrame:this._endFrame;break}else m=this._startFrame;d=m,this._isPlaying&&this.playerLib.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(d))}if(this.playDirection<=-1)for(let y=d-p;y;y--){let m=d-1;if(m<this._startFrame)if(this._loops===-1)m=this._endFrame;else if(this._loops--,l=!0,this._loops===0){this._isPlaying=!1,m=e?this._endFrame:this._startFrame;break}else m=this._endFrame;d=m,this._isPlaying&&this.playerLib.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(d))}this._currentFrame=d+c,l&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),a)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.playerLib.animationData.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,r=-1){t>=0&&t<this.playerLib.animationData.totalFrames()&&(this._startFrame=t),e>=0&&e<this.playerLib.animationData.totalFrames()&&(this._endFrame=e),r>0?this._loops=r:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const r=Math.floor(this._currentFrame);this.SetFrameAnimation(r),this.playerLib.HaveUserData(r)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(r))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}GetPartsBlendMode(){const t=this.playerLib.animePackData,e=t.partsLength();let r=[];for(let s=0;s<e;s++){const l=t.parts(s).alphaBlendType();let a;switch(l){case 0:a=zt.BLEND_MODES.NORMAL;break;case 1:a=zt.BLEND_MODES.MULTIPLY;break;case 2:a=zt.BLEND_MODES.ADD;break;case 3:a=zt.BLEND_MODES.NORMAL;break;case 4:a=zt.BLEND_MODES.MULTIPLY;break;case 5:a=zt.BLEND_MODES.SCREEN;break;case 6:a=zt.BLEND_MODES.EXCLUSION;break;case 7:a=zt.BLEND_MODES.NORMAL;break;default:a=zt.BLEND_MODES.NORMAL;break}r.push(a)}return r}GetColorMatrixFilter(t,e,r){const s=t.toString()+"_"+e.toString()+"_"+r.toString();if(this.colorMatrixFilterCache[s])return this.colorMatrixFilterCache[s];const l=new ze.ColorMatrixFilter,a=((r&4278190080)>>>24)/255,h=((r&16711680)>>>16)/255,n=((r&65280)>>>8)/255,p=(r&255)/255;if(t===0){const c=1-e;l.matrix=[c,0,0,0,h*e,0,c,0,0,n*e,0,0,c,0,p*e,0,0,0,1,0]}else t===1?l.matrix=[h,0,0,0,0,0,n,0,0,0,0,0,p,0,0,0,0,0,a,0]:t===2?l.matrix=[1,0,0,0,h,0,1,0,0,n,0,0,1,0,p,0,0,0,a,0]:t===3&&(l.matrix=[1,0,0,0,-h,0,1,0,0,-n,0,0,1,0,-p,0,0,0,a,0]);return this.colorMatrixFilterCache[s]=l,l}SetFrameAnimation(t,e=0){const r=this.playerLib.GetFrameData(t);this.removeChildren();const s=r.length;for(let l=0;l<s;l=l+1|0){const a=this.playerLib.prio2index[l],h=r[a],n=h.cellIndex;let p=this.prevMesh[a];const c=this.playerLib.animePackData.parts(a),d=c.type();let y=this.substituteOverWrite[a]!==null?this.substituteOverWrite[a]:!1,m=this.substituteKeyParam[a];switch(d){case wt.Instance:p==null&&(p=this.MakeCellPlayer(c.refname()),p.name=c.name());break;case wt.Normal:case wt.Mask:n>=0&&this.prevCellID[a]!==n&&(p?.destroy(),p=this.MakeCellMesh(n),p.name=c.name());break;case wt.Mesh:n>=0&&this.prevCellID[a]!==n&&(p?.destroy(),p=this.MakeMeshCellMesh(a,n),p.name=c.name());break;case wt.Nulltype:case wt.Joint:this.prevCellID[a]!==n&&(p?.destroy(),p=new De.Container,p.name=c.name());break;default:n>=0&&this.prevCellID[a]!==n&&(p?.destroy(),p=this.MakeCellMesh(n),p.name=c.name());break}if(p!=null)switch(this.prevCellID[a]=n,this.prevMesh[a]=p,d){case wt.Instance:{this._instancePos[0]=0,this._instancePos[1]=0,this._instancePos[2]=1,this._instancePos[3]=1,this._instancePos[4]=0,this._instancePos=this.playerLib.TransformPositionLocal(this._instancePos,h.index,t),p.rotation=this._instancePos[4]*Math.PI/180,p.position.set(this._instancePos[0],this._instancePos[1]),p.scale.set(this._instancePos[2],this._instancePos[3]);let F=h.opacity/255;h.localopacity<255&&(F=h.localopacity/255),p.SetAlpha(F*this.parentAlpha),p.visible=!h.f_hide;let I=h.instanceValue_curKeyframe,o=h.instanceValue_startFrame,_=h.instanceValue_endFrame,v=h.instanceValue_speed,k=h.instanceValue_loopNum,D=!1,g=!1,w=!1,C=!1;const E=1,T=2,A=4,U=8,z=h.instanceValue_loopflag;z&E&&(D=!0),z&T&&(g=!0),z&A&&(w=!0),z&U&&(C=!0),y&&(o=m.refStartframe,_=m.refEndframe,v=m.refSpeed,k=m.refloopNum,D=m.infinity,g=m.reverse,w=m.pingpong,C=m.independent),(p._startFrame!==o||p._endFrame!==_)&&p.SetAnimationSection(o,_);let Z=t;C===!0&&(this.liveFrame[l]+=e,Z=Math.floor(this.liveFrame[l]));const Q=I;let K=Math.floor((Z-Q)*v);if(K<0||Q>Z)continue;const q=_-o+1;if(q<=0)continue;let G=Math.floor(K/q),j=k;w&&(j=j*2),D||G>=j&&(K=q-1,G=j-1);const et=Math.floor(K%q);let st=0;w&&G%2===1&&(g?g=!1:g=!0),this.playDirection<=-1&&(g=!g),g?st=_-et:st=et+o,p.SetFrame(Math.floor(st)),this.addChild(p);break}case wt.Normal:case wt.Mesh:case wt.Joint:case wt.Mask:{const F=this.playerLib.fbObj.cells(n);let I;if(d===wt.Mesh?h.meshIsBind===0?I=this.playerLib.TransformMeshVertsLocal(de.GetMeshVerts(F,h,p.vertices),h.index,t):I=de.GetMeshVerts(F,h,p.vertices):(I=d===wt.Joint?new Float32Array(10):p.vertices,I=this.playerLib.TransformVertsLocal(de.GetVerts(F,h,I),h.index,t)),h.flag1&it.VERTEX_TRANSFORM){const D=I[6],g=I[3*2+1],w=I[1*2+0],C=I[1*2+1],E=I[4*2+0],T=I[4*2+1],A=I[2*2+0],U=I[2*2+1],z=(D+E)*.5,Z=(g+T)*.5,Q=(D+w)*.5,K=(g+C)*.5,q=(w+A)*.5,G=(C+U)*.5,j=(E+A)*.5,et=(T+U)*.5,st=de.CoordinateGetDiagonalIntersection(I[0],I[1],z,Z,j,et,Q,K,q,G,this._CoordinateGetDiagonalIntersectionVec2);I[0]=st[0],I[1]=st[1]}const o=I[0],_=I[1];for(let D=0;D<I.length/2;D++)I[D*2]-=o,I[D*2+1]-=_;if(p.vertices=I,h.flag1&it.U_MOVE||h.flag1&it.V_MOVE||h.flag1&it.U_SCALE||h.flag1&it.V_SCALE||h.flag1&it.UV_ROTATION){const D=F.u1()+h.uv_move_X,g=F.u2()+h.uv_move_X,w=F.v1()+h.uv_move_Y,C=F.v2()+h.uv_move_Y,E=(g+D)/2,T=(C+w)/2,A=(g-D)/2*h.uv_scale_X,U=(C-w)/2*h.uv_scale_Y;if(p.uvs[0]=E,p.uvs[1]=T,p.uvs[2]=E-A,p.uvs[3]=T-U,p.uvs[4]=E+A,p.uvs[5]=T-U,p.uvs[6]=E-A,p.uvs[7]=T+U,p.uvs[8]=E+A,p.uvs[9]=T+U,h.flag1&it.UV_ROTATION){const z=h.uv_rotation*Math.PI/180;for(let Z=0;Z<5;Z++){const Q=p.uvs[Z*2+0]-E,K=p.uvs[Z*2+1]-T,q=Math.cos(z),G=Math.sin(z),j=q*Q-G*K,et=G*Q+q*K;p.uvs[Z*2+0]=E+j,p.uvs[Z*2+1]=T+et}}p.dirty++}p.position.set(o,_);let v=h.opacity/255;if(h.localopacity<255&&(v=h.localopacity/255),p.alpha=v*this.parentAlpha,p.visible=!h.f_hide,h.useColorMatrix&&this.GetColorMatrixFilter(h.colorBlendType,h.colorRate,h.colorArgb32),h.tint){p.tint=h.tint;const D=((h.partsColorARGB&4278190080)>>>24)/255;p.alpha=p.alpha*D}const k=this.alphaBlendType[a];(k===zt.BLEND_MODES.MULTIPLY||k===zt.BLEND_MODES.SCREEN)&&(p.alpha=1),d!==wt.Mask&&this.addChild(p);break}case wt.Nulltype:{const F=this.playerLib.InheritOpacity(1,h.index,t);p.alpha=F*h.localopacity/255;const I=this.playerLib.TransformVerts(de.GetDummyVerts(),h.index,t),o=I[0],_=I[1];p.position.set(o,_);const v=Math.atan2(I[5]-I[3],I[4]-I[2]),k=Math.atan2(I[7]-I[3],I[6]-I[2]);p.rotation=v,p.skew.x=k-v-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,r,s,l=null){let a=!1;if(this.animePackName!==null&&this.animeName!==null){let h=this.playerLib.animePackData,n=h.partsLength();for(let p=0;p<n;p++){let c=h.parts(p);if(c.name()===t){let d=this.prevMesh[p];if(d===null||d instanceof Ie){this.substituteOverWrite[p]=s;let y;l!==null?(y=l,d=this.MakeCellPlayer(e+"/"+r,l.refStartframe)):(d=this.MakeCellPlayer(e+"/"+r),y=new Je,y.refStartframe=d.startFrame,y.refEndframe=d.endFrame),d.name=c.name(),this.prevMesh[p]=d,this.substituteKeyParam[p]=y,a=!0;break}}}}return a}MakeCellMesh(t){const e=this.playerLib.fbObj.cells(t),r=e.u1(),s=e.u2(),l=e.v1(),a=e.v2(),h=e.width()/2,n=e.height()/2,p=new Float32Array([0,0,-h,-n,h,-n,-h,n,h,n]),c=new Float32Array([(r+s)/2,(l+a)/2,r,l,s,l,r,a,s,a]),d=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new Re.SimpleMesh(ce.Assets.get(e.cellMap().name()),p,c,d,zt.DRAW_MODES.TRIANGLES)}MakeMeshCellMesh(t,e){const r=this.playerLib.animationData.meshsDataUv(t),s=r.uvLength();if(s>0){const l=new Float32Array(s-2),a=r.uv(1);for(let d=2;d<s;d++)l[d-2]=r.uv(d);const h=this.playerLib.animationData.meshsDataIndices(t),n=h.indicesLength(),p=new Uint16Array(n-1);for(let d=1;d<n;d++)p[d-1]=h.indices(d);const c=new Float32Array(a*2);return new Re.SimpleMesh(ce.Assets.get(this.playerLib.fbObj.cells(e).cellMap().name()),c,l,p,zt.DRAW_MODES.TRIANGLES)}return null}MakeCellPlayer(t,e=void 0){const r=t.split("/"),s=new Ie(this.ss6project);return s.Setup(r[0],r[1]),s.Play(e),s}resetLiveFrame(){const t=this.playerLib.animationData.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class $e extends Ie{constructor(t){super(t.projectData),this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let r=this;this.playEndCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.playEndCallback&&r.ssWebPlayer.playEndCallback(r)},this.onUserDataCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.onUpdateCallback&&r.ssWebPlayer.onUpdateCallback(r)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.playerLib.animationData;let e={};const r=t.userDataLength();for(let s=0;s<r;s++){const a=t.userData(s).frameIndex();let h=e[a];h==null&&(h={});const n=this.playerLib.GetUserData(a);let p={};const c=n.length;for(let d=0;d<c;d++){const y=n[d],m=y[0],I=this.playerLib.animePackData.parts(m).name();y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9];const o=y[10];p[I]={string:o}}h.userData=p,e[a]=h}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Se(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var je={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(R,t){(function(e){R.exports=e()})(function(){return function e(r,s,l){function a(p,c){if(!s[p]){if(!r[p]){var d=typeof Se=="function"&&Se;if(!c&&d)return d(p,!0);if(h)return h(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var m=s[p]={exports:{}};r[p][0].call(m.exports,function(F){var I=r[p][1][F];return a(I||F)},m,m.exports,e,r,s,l)}return s[p].exports}for(var h=typeof Se=="function"&&Se,n=0;n<l.length;n++)a(l[n]);return a}({1:[function(e,r,s){var l=e("./utils"),a=e("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(n){for(var p=[],c,d,y,m,F,I,o,_=0,v=n.length,k=v,D=l.getTypeOf(n)!=="string";_<n.length;)k=v-_,D?(c=n[_++],d=_<v?n[_++]:0,y=_<v?n[_++]:0):(c=n.charCodeAt(_++),d=_<v?n.charCodeAt(_++):0,y=_<v?n.charCodeAt(_++):0),m=c>>2,F=(c&3)<<4|d>>4,I=k>1?(d&15)<<2|y>>6:64,o=k>2?y&63:64,p.push(h.charAt(m)+h.charAt(F)+h.charAt(I)+h.charAt(o));return p.join("")},s.decode=function(n){var p,c,d,y,m,F,I,o=0,_=0,v="data:";if(n.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");n=n.replace(/[^A-Za-z0-9+/=]/g,"");var k=n.length*3/4;if(n.charAt(n.length-1)===h.charAt(64)&&k--,n.charAt(n.length-2)===h.charAt(64)&&k--,k%1!==0)throw new Error("Invalid base64 input, bad content length.");var D;for(a.uint8array?D=new Uint8Array(k|0):D=new Array(k|0);o<n.length;)y=h.indexOf(n.charAt(o++)),m=h.indexOf(n.charAt(o++)),F=h.indexOf(n.charAt(o++)),I=h.indexOf(n.charAt(o++)),p=y<<2|m>>4,c=(m&15)<<4|F>>2,d=(F&3)<<6|I,D[_++]=p,F!==64&&(D[_++]=c),I!==64&&(D[_++]=d);return D}},{"./support":30,"./utils":32}],2:[function(e,r,s){var l=e("./external"),a=e("./stream/DataWorker"),h=e("./stream/Crc32Probe"),n=e("./stream/DataLengthProbe");function p(c,d,y,m,F){this.compressedSize=c,this.uncompressedSize=d,this.crc32=y,this.compression=m,this.compressedContent=F}p.prototype={getContentWorker:function(){var c=new a(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(c,d,y){return c.pipe(new h).pipe(new n("uncompressedSize")).pipe(d.compressWorker(y)).pipe(new n("compressedSize")).withStreamInfo("compression",d)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,s){var l=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,s){var l=e("./utils");function a(){for(var c,d=[],y=0;y<256;y++){c=y;for(var m=0;m<8;m++)c=c&1?3988292384^c>>>1:c>>>1;d[y]=c}return d}var h=a();function n(c,d,y,m){var F=h,I=m+y;c=c^-1;for(var o=m;o<I;o++)c=c>>>8^F[(c^d[o])&255];return c^-1}function p(c,d,y,m){var F=h,I=m+y;c=c^-1;for(var o=m;o<I;o++)c=c>>>8^F[(c^d.charCodeAt(o))&255];return c^-1}r.exports=function(d,y){if(typeof d>"u"||!d.length)return 0;var m=l.getTypeOf(d)!=="string";return m?n(y|0,d,d.length,0):p(y|0,d,d.length,0)}},{"./utils":32}],5:[function(e,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,r,s){var l=null;typeof Promise<"u"?l=Promise:l=e("lie"),r.exports={Promise:l}},{lie:37}],7:[function(e,r,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),h=e("./utils"),n=e("./stream/GenericWorker"),p=l?"uint8array":"array";s.magic="\b\0";function c(d,y){n.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=y,this.meta={}}h.inherits(c,n),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,d.data),!1)},c.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(y){d.push({data:y,meta:d.meta})}},s.compressWorker=function(d){return new c("Deflate",d)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,s){var l=e("../utils"),a=e("../stream/GenericWorker"),h=e("../utf8"),n=e("../crc32"),p=e("../signature"),c=function(_,v){var k="",D;for(D=0;D<v;D++)k+=String.fromCharCode(_&255),_=_>>>8;return k},d=function(_,v){var k=_;return _||(k=v?16893:33204),(k&65535)<<16},y=function(_){return(_||0)&63},m=function(_,v,k,D,g,w){var C=_.file,E=_.compression,T=w!==h.utf8encode,A=l.transformTo("string",w(C.name)),U=l.transformTo("string",h.utf8encode(C.name)),z=C.comment,Z=l.transformTo("string",w(z)),Q=l.transformTo("string",h.utf8encode(z)),K=U.length!==C.name.length,q=Q.length!==z.length,G,j,et="",st="",pt="",J=C.dir,ht=C.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};(!v||k)&&(ft.crc32=_.crc32,ft.compressedSize=_.compressedSize,ft.uncompressedSize=_.uncompressedSize);var Ot=0;v&&(Ot|=8),!T&&(K||q)&&(Ot|=2048);var It=0,mt=0;J&&(It|=16),g==="UNIX"?(mt=798,It|=d(C.unixPermissions,J)):(mt=20,It|=y(C.dosPermissions)),G=ht.getUTCHours(),G=G<<6,G=G|ht.getUTCMinutes(),G=G<<5,G=G|ht.getUTCSeconds()/2,j=ht.getUTCFullYear()-1980,j=j<<4,j=j|ht.getUTCMonth()+1,j=j<<5,j=j|ht.getUTCDate(),K&&(st=c(1,1)+c(n(A),4)+U,et+="up"+c(st.length,2)+st),q&&(pt=c(1,1)+c(n(Z),4)+Q,et+="uc"+c(pt.length,2)+pt);var at="";at+=`
\0`,at+=c(Ot,2),at+=E.magic,at+=c(G,2),at+=c(j,2),at+=c(ft.crc32,4),at+=c(ft.compressedSize,4),at+=c(ft.uncompressedSize,4),at+=c(A.length,2),at+=c(et.length,2);var St=p.LOCAL_FILE_HEADER+at+A+et,gt=p.CENTRAL_FILE_HEADER+c(mt,2)+at+c(Z.length,2)+"\0\0\0\0"+c(It,4)+c(D,4)+A+et+Z;return{fileRecord:St,dirRecord:gt}},F=function(_,v,k,D,g){var w="",C=l.transformTo("string",g(D));return w=p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(_,2)+c(_,2)+c(v,4)+c(k,4)+c(C.length,2)+C,w},I=function(_){var v="";return v=p.DATA_DESCRIPTOR+c(_.crc32,4)+c(_.compressedSize,4)+c(_.uncompressedSize,4),v};function o(_,v,k,D){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=k,this.encodeFileName=D,this.streamFiles=_,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(o,a),o.prototype.push=function(_){var v=_.meta.percent||0,k=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(_):(this.bytesWritten+=_.data.length,a.prototype.push.call(this,{data:_.data,meta:{currentFile:this.currentFile,percent:k?(v+100*(k-D-1))/k:100}}))},o.prototype.openedSource=function(_){this.currentSourceOffset=this.bytesWritten,this.currentFile=_.file.name;var v=this.streamFiles&&!_.file.dir;if(v){var k=m(_,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(_){this.accumulate=!1;var v=this.streamFiles&&!_.file.dir,k=m(_,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),v)this.push({data:I(_),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var _=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var k=this.bytesWritten-_,D=F(this.dirRecords.length,k,_,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(_){this._sources.push(_);var v=this;return _.on("data",function(k){v.processChunk(k)}),_.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),_.on("error",function(k){v.error(k)}),this},o.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},o.prototype.error=function(_){var v=this._sources;if(!a.prototype.error.call(this,_))return!1;for(var k=0;k<v.length;k++)try{v[k].error(_)}catch{}return!0},o.prototype.lock=function(){a.prototype.lock.call(this);for(var _=this._sources,v=0;v<_.length;v++)_[v].lock()},r.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,s){var l=e("../compressions"),a=e("./ZipFileWorker"),h=function(n,p){var c=n||p,d=l[c];if(!d)throw new Error(c+" is not a valid compression method !");return d};s.generateWorker=function(n,p,c){var d=new a(p.streamFiles,c,p.platform,p.encodeFileName),y=0;try{n.forEach(function(m,F){y++;var I=h(F.options.compression,p.compression),o=F.options.compressionOptions||p.compressionOptions||{},_=F.dir,v=F.date;F._compressWorker(I,o).withStreamInfo("file",{name:m,dir:_,date:v,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(d)}),d.entriesCount=y}catch(m){d.error(m)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,s){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new l;for(var h in this)typeof this[h]!="function"&&(a[h]=this[h]);return a}}l.prototype=e("./object"),l.prototype.loadAsync=e("./load"),l.support=e("./support"),l.defaults=e("./defaults"),l.version="3.10.1",l.loadAsync=function(a,h){return new l().loadAsync(a,h)},l.external=e("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,s){var l=e("./utils"),a=e("./external"),h=e("./utf8"),n=e("./zipEntries"),p=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function d(y){return new a.Promise(function(m,F){var I=y.decompressed.getContentWorker().pipe(new p);I.on("error",function(o){F(o)}).on("end",function(){I.streamInfo.crc32!==y.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(y,m){var F=this;return m=l.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),c.isNode&&c.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",y,!0,m.optimizedBinaryString,m.base64).then(function(I){var o=new n(m);return o.load(I),o}).then(function(o){var _=[a.Promise.resolve(o)],v=o.files;if(m.checkCRC32)for(var k=0;k<v.length;k++)_.push(d(v[k]));return a.Promise.all(_)}).then(function(o){for(var _=o.shift(),v=_.files,k=0;k<v.length;k++){var D=v[k],g=D.fileNameStr,w=l.resolve(D.fileNameStr);F.file(w,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:m.createFolders}),D.dir||(F.file(w).unsafeOriginalName=g)}return _.zipComment.length&&(F.comment=_.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,s){var l=e("../utils"),a=e("../stream/GenericWorker");function h(n,p){a.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(h,a),h.prototype._bindStream=function(n){var p=this;this._stream=n,n.pause(),n.on("data",function(c){p.push({data:c,meta:{percent:0}})}).on("error",function(c){p.isPaused?this.generatedError=c:p.error(c)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},h.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,s){var l=e("readable-stream").Readable,a=e("../utils");a.inherits(h,l);function h(n,p,c){l.call(this,p),this._helper=n;var d=this;n.on("data",function(y,m){d.push(y)||d._helper.pause(),c&&c(m)}).on("error",function(y){d.emit("error",y)}).on("end",function(){d.push(null)})}h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(e,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,a);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,a)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var a=new Buffer(l);return a.fill(0),a},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(e,r,s){var l=e("./utf8"),a=e("./utils"),h=e("./stream/GenericWorker"),n=e("./stream/StreamHelper"),p=e("./defaults"),c=e("./compressedObject"),d=e("./zipObject"),y=e("./generate"),m=e("./nodejsUtils"),F=e("./nodejs/NodejsStreamInputAdapter"),I=function(g,w,C){var E=a.getTypeOf(w),T,A=a.extend(C||{},p);A.date=A.date||new Date,A.compression!==null&&(A.compression=A.compression.toUpperCase()),typeof A.unixPermissions=="string"&&(A.unixPermissions=parseInt(A.unixPermissions,8)),A.unixPermissions&&A.unixPermissions&16384&&(A.dir=!0),A.dosPermissions&&A.dosPermissions&16&&(A.dir=!0),A.dir&&(g=_(g)),A.createFolders&&(T=o(g))&&v.call(this,T,!0);var U=E==="string"&&A.binary===!1&&A.base64===!1;(!C||typeof C.binary>"u")&&(A.binary=!U);var z=w instanceof c&&w.uncompressedSize===0;(z||A.dir||!w||w.length===0)&&(A.base64=!1,A.binary=!0,w="",A.compression="STORE",E="string");var Z=null;w instanceof c||w instanceof h?Z=w:m.isNode&&m.isStream(w)?Z=new F(g,w):Z=a.prepareContent(g,w,A.binary,A.optimizedBinaryString,A.base64);var Q=new d(g,Z,A);this.files[g]=Q},o=function(g){g.slice(-1)==="/"&&(g=g.substring(0,g.length-1));var w=g.lastIndexOf("/");return w>0?g.substring(0,w):""},_=function(g){return g.slice(-1)!=="/"&&(g+="/"),g},v=function(g,w){return w=typeof w<"u"?w:p.createFolders,g=_(g),this.files[g]||I.call(this,g,null,{dir:!0,createFolders:w}),this.files[g]};function k(g){return Object.prototype.toString.call(g)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(g){var w,C,E;for(w in this.files)E=this.files[w],C=w.slice(this.root.length,w.length),C&&w.slice(0,this.root.length)===this.root&&g(C,E)},filter:function(g){var w=[];return this.forEach(function(C,E){g(C,E)&&w.push(E)}),w},file:function(g,w,C){if(arguments.length===1)if(k(g)){var E=g;return this.filter(function(A,U){return!U.dir&&E.test(A)})}else{var T=this.files[this.root+g];return T&&!T.dir?T:null}else g=this.root+g,I.call(this,g,w,C);return this},folder:function(g){if(!g)return this;if(k(g))return this.filter(function(T,A){return A.dir&&g.test(T)});var w=this.root+g,C=v.call(this,w),E=this.clone();return E.root=C.name,E},remove:function(g){g=this.root+g;var w=this.files[g];if(w||(g.slice(-1)!=="/"&&(g+="/"),w=this.files[g]),w&&!w.dir)delete this.files[g];else for(var C=this.filter(function(T,A){return A.name.slice(0,g.length)===g}),E=0;E<C.length;E++)delete this.files[C[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(g){var w,C={};try{if(C=a.extend(g||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode}),C.type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),(C.platform==="darwin"||C.platform==="freebsd"||C.platform==="linux"||C.platform==="sunos")&&(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var E=C.comment||this.comment||"";w=y.generateWorker(this,C,E)}catch(T){w=new h("error"),w.error(T)}return new n(w,C.type||"string",C.mimeType)},generateAsync:function(g,w){return this.generateInternalStream(g).accumulate(w)},generateNodeStream:function(g,w){return g=g||{},g.type||(g.type="nodebuffer"),this.generateInternalStream(g).toNodejsStream(w)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,s){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,s){var l=e("./DataReader"),a=e("../utils");function h(n){l.call(this,n);for(var p=0;p<this.data.length;p++)n[p]=n[p]&255}a.inherits(h,l),h.prototype.byteAt=function(n){return this.data[this.zero+n]},h.prototype.lastIndexOfSignature=function(n){for(var p=n.charCodeAt(0),c=n.charCodeAt(1),d=n.charCodeAt(2),y=n.charCodeAt(3),m=this.length-4;m>=0;--m)if(this.data[m]===p&&this.data[m+1]===c&&this.data[m+2]===d&&this.data[m+3]===y)return m-this.zero;return-1},h.prototype.readAndCheckSignature=function(n){var p=n.charCodeAt(0),c=n.charCodeAt(1),d=n.charCodeAt(2),y=n.charCodeAt(3),m=this.readData(4);return p===m[0]&&c===m[1]&&d===m[2]&&y===m[3]},h.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,p},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(e,r,s){var l=e("../utils");function a(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var n=0,p;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)n=(n<<8)+this.byteAt(p);return this.index+=h,n},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC((h>>25&127)+1980,(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(h&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(e,r,s){var l=e("./Uint8ArrayReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.readData=function(n){this.checkOffset(n);var p=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,p},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,s){var l=e("./DataReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},h.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},h.prototype.readAndCheckSignature=function(n){var p=this.readData(4);return n===p},h.prototype.readData=function(n){this.checkOffset(n);var p=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,p},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(e,r,s){var l=e("./ArrayReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,p},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,s){var l=e("../utils"),a=e("../support"),h=e("./ArrayReader"),n=e("./StringReader"),p=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");r.exports=function(d){var y=l.getTypeOf(d);return l.checkSupport(y),y==="string"&&!a.uint8array?new n(d):y==="nodebuffer"?new p(d):a.uint8array?new c(l.transformTo("uint8array",d)):new h(l.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,s){var l=e("./GenericWorker"),a=e("../utils");function h(n){l.call(this,"ConvertWorker to "+n),this.destType=n}a.inherits(h,l),h.prototype.processChunk=function(n){this.push({data:a.transformTo(this.destType,n.data),meta:n.meta})},r.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,s){var l=e("./GenericWorker"),a=e("../crc32"),h=e("../utils");function n(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h.inherits(n,l),n.prototype.processChunk=function(p){this.streamInfo.crc32=a(p.data,this.streamInfo.crc32||0),this.push(p)},r.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,s){var l=e("../utils"),a=e("./GenericWorker");function h(n){a.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}l.inherits(h,a),h.prototype.processChunk=function(n){if(n){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+n.data.length}a.prototype.processChunk.call(this,n)},r.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,s){var l=e("../utils"),a=e("./GenericWorker"),h=16*1024;function n(p){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=l.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}l.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0):!1},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=h,c=null,d=Math.min(this.max,this.index+p);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d);break}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,s){function l(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,h){return this._listeners[a].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,h){if(this._listeners[a])for(var n=0;n<this._listeners[a].length;n++)this._listeners[a][n].call(this,h)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var h=this;return a.on("data",function(n){h.processChunk(n)}),a.on("end",function(){h.end()}),a.on("error",function(n){h.error(n)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,h){return this.extraStreamInfo[a]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)||(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=l},{}],29:[function(e,r,s){var l=e("../utils"),a=e("./ConvertWorker"),h=e("./GenericWorker"),n=e("../base64"),p=e("../support"),c=e("../external"),d=null;if(p.nodestream)try{d=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(o,_,v){switch(o){case"blob":return l.newBlob(l.transformTo("arraybuffer",_),v);case"base64":return n.encode(_);default:return l.transformTo(o,_)}}function m(o,_){var v,k=0,D=null,g=0;for(v=0;v<_.length;v++)g+=_[v].length;switch(o){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(D=new Uint8Array(g),v=0;v<_.length;v++)D.set(_[v],k),k+=_[v].length;return D;case"nodebuffer":return Buffer.concat(_);default:throw new Error("concat : unsupported type '"+o+"'")}}function F(o,_){return new c.Promise(function(v,k){var D=[],g=o._internalType,w=o._outputType,C=o._mimeType;o.on("data",function(E,T){D.push(E),_&&_(T)}).on("error",function(E){D=[],k(E)}).on("end",function(){try{var E=y(w,m(g,D),C);v(E)}catch(T){k(T)}D=[]}).resume()})}function I(o,_,v){var k=_;switch(_){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string";break}try{this._internalType=k,this._outputType=_,this._mimeType=v,l.checkSupport(k),this._worker=o.pipe(new a(k)),o.lock()}catch(D){this._worker=new h("error"),this._worker.error(D)}}I.prototype={accumulate:function(o){return F(this,o)},on:function(o,_){var v=this;return o==="data"?this._worker.on(o,function(k){_.call(v,k.data,k.meta)}):this._worker.on(o,function(){l.delay(_,arguments,v)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(o){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},o)}},r.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var l=new ArrayBuffer(0);try{s.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,h=new a;h.append(l),s.blob=h.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,s){for(var l=e("./utils"),a=e("./support"),h=e("./nodejsUtils"),n=e("./stream/GenericWorker"),p=new Array(256),c=0;c<256;c++)p[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;p[254]=p[254]=1;var d=function(o){var _,v,k,D,g,w=o.length,C=0;for(D=0;D<w;D++)v=o.charCodeAt(D),(v&64512)===55296&&D+1<w&&(k=o.charCodeAt(D+1),(k&64512)===56320&&(v=65536+(v-55296<<10)+(k-56320),D++)),C+=v<128?1:v<2048?2:v<65536?3:4;for(a.uint8array?_=new Uint8Array(C):_=new Array(C),g=0,D=0;g<C;D++)v=o.charCodeAt(D),(v&64512)===55296&&D+1<w&&(k=o.charCodeAt(D+1),(k&64512)===56320&&(v=65536+(v-55296<<10)+(k-56320),D++)),v<128?_[g++]=v:v<2048?(_[g++]=192|v>>>6,_[g++]=128|v&63):v<65536?(_[g++]=224|v>>>12,_[g++]=128|v>>>6&63,_[g++]=128|v&63):(_[g++]=240|v>>>18,_[g++]=128|v>>>12&63,_[g++]=128|v>>>6&63,_[g++]=128|v&63);return _},y=function(o,_){var v;for(_=_||o.length,_>o.length&&(_=o.length),v=_-1;v>=0&&(o[v]&192)===128;)v--;return v<0||v===0?_:v+p[o[v]]>_?v:_},m=function(o){var _,v,k,D,g=o.length,w=new Array(g*2);for(v=0,_=0;_<g;){if(k=o[_++],k<128){w[v++]=k;continue}if(D=p[k],D>4){w[v++]=65533,_+=D-1;continue}for(k&=D===2?31:D===3?15:7;D>1&&_<g;)k=k<<6|o[_++]&63,D--;if(D>1){w[v++]=65533;continue}k<65536?w[v++]=k:(k-=65536,w[v++]=55296|k>>10&1023,w[v++]=56320|k&1023)}return w.length!==v&&(w.subarray?w=w.subarray(0,v):w.length=v),l.applyFromCharCode(w)};s.utf8encode=function(_){return a.nodebuffer?h.newBufferFrom(_,"utf-8"):d(_)},s.utf8decode=function(_){return a.nodebuffer?l.transformTo("nodebuffer",_).toString("utf-8"):(_=l.transformTo(a.uint8array?"uint8array":"array",_),m(_))};function F(){n.call(this,"utf-8 decode"),this.leftOver=null}l.inherits(F,n),F.prototype.processChunk=function(o){var _=l.transformTo(a.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=_;_=new Uint8Array(v.length+this.leftOver.length),_.set(this.leftOver,0),_.set(v,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var k=y(_),D=_;k!==_.length&&(a.uint8array?(D=_.subarray(0,k),this.leftOver=_.subarray(k,_.length)):(D=_.slice(0,k),this.leftOver=_.slice(k,_.length))),this.push({data:s.utf8decode(D),meta:o.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=F;function I(){n.call(this,"utf-8 encode")}l.inherits(I,n),I.prototype.processChunk=function(o){this.push({data:s.utf8encode(o.data),meta:o.meta})},s.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,s){var l=e("./support"),a=e("./base64"),h=e("./nodejsUtils"),n=e("./external");e("setimmediate");function p(o){var _=null;return l.uint8array?_=new Uint8Array(o.length):_=new Array(o.length),d(o,_)}s.newBlob=function(o,_){s.checkSupport("blob");try{return new Blob([o],{type:_})}catch{try{var v=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,k=new v;return k.append(o),k.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(o){return o}function d(o,_){for(var v=0;v<o.length;++v)_[v]=o.charCodeAt(v)&255;return _}var y={stringifyByChunk:function(o,_,v){var k=[],D=0,g=o.length;if(g<=v)return String.fromCharCode.apply(null,o);for(;D<g;)_==="array"||_==="nodebuffer"?k.push(String.fromCharCode.apply(null,o.slice(D,Math.min(D+v,g)))):k.push(String.fromCharCode.apply(null,o.subarray(D,Math.min(D+v,g)))),D+=v;return k.join("")},stringifyByChar:function(o){for(var _="",v=0;v<o.length;v++)_+=String.fromCharCode(o[v]);return _},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function m(o){var _=65536,v=s.getTypeOf(o),k=!0;if(v==="uint8array"?k=y.applyCanBeUsed.uint8array:v==="nodebuffer"&&(k=y.applyCanBeUsed.nodebuffer),k)for(;_>1;)try{return y.stringifyByChunk(o,v,_)}catch{_=Math.floor(_/2)}return y.stringifyByChar(o)}s.applyFromCharCode=m;function F(o,_){for(var v=0;v<o.length;v++)_[v]=o[v];return _}var I={};I.string={string:c,array:function(o){return d(o,new Array(o.length))},arraybuffer:function(o){return I.string.uint8array(o).buffer},uint8array:function(o){return d(o,new Uint8Array(o.length))},nodebuffer:function(o){return d(o,h.allocBuffer(o.length))}},I.array={string:m,array:c,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return h.newBufferFrom(o)}},I.arraybuffer={string:function(o){return m(new Uint8Array(o))},array:function(o){return F(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:c,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return h.newBufferFrom(new Uint8Array(o))}},I.uint8array={string:m,array:function(o){return F(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:c,nodebuffer:function(o){return h.newBufferFrom(o)}},I.nodebuffer={string:m,array:function(o){return F(o,new Array(o.length))},arraybuffer:function(o){return I.nodebuffer.uint8array(o).buffer},uint8array:function(o){return F(o,new Uint8Array(o.length))},nodebuffer:c},s.transformTo=function(o,_){if(_||(_=""),!o)return _;s.checkSupport(o);var v=s.getTypeOf(_),k=I[v][o](_);return k},s.resolve=function(o){for(var _=o.split("/"),v=[],k=0;k<_.length;k++){var D=_[k];D==="."||D===""&&k!==0&&k!==_.length-1||(D===".."?v.pop():v.push(D))}return v.join("/")},s.getTypeOf=function(o){if(typeof o=="string")return"string";if(Object.prototype.toString.call(o)==="[object Array]")return"array";if(l.nodebuffer&&h.isBuffer(o))return"nodebuffer";if(l.uint8array&&o instanceof Uint8Array)return"uint8array";if(l.arraybuffer&&o instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(o){var _=l[o.toLowerCase()];if(!_)throw new Error(o+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(o){var _="",v,k;for(k=0;k<(o||"").length;k++)v=o.charCodeAt(k),_+="\\x"+(v<16?"0":"")+v.toString(16).toUpperCase();return _},s.delay=function(o,_,v){setImmediate(function(){o.apply(v||null,_||[])})},s.inherits=function(o,_){var v=function(){};v.prototype=_.prototype,o.prototype=new v},s.extend=function(){var o={},_,v;for(_=0;_<arguments.length;_++)for(v in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],v)&&typeof o[v]>"u"&&(o[v]=arguments[_][v]);return o},s.prepareContent=function(o,_,v,k,D){var g=n.Promise.resolve(_).then(function(w){var C=l.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1);return C&&typeof FileReader<"u"?new n.Promise(function(E,T){var A=new FileReader;A.onload=function(U){E(U.target.result)},A.onerror=function(U){T(U.target.error)},A.readAsArrayBuffer(w)}):w});return g.then(function(w){var C=s.getTypeOf(w);return C?(C==="arraybuffer"?w=s.transformTo("uint8array",w):C==="string"&&(D?w=a.decode(w):v&&k!==!0&&(w=p(w))),w):n.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,s){var l=e("./reader/readerFor"),a=e("./utils"),h=e("./signature"),n=e("./zipEntry"),p=e("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(d)+")")}},isSignature:function(d,y){var m=this.reader.index;this.reader.setIndex(d);var F=this.reader.readString(4),I=F===y;return this.reader.setIndex(m),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",m=a.transformTo(y,d);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,y=0,m,F,I;y<d;)m=this.reader.readInt(2),F=this.reader.readInt(4),I=this.reader.readData(F),this.zip64ExtensibleData[m]={id:m,length:F,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,y;for(d=0;d<this.files.length;d++)y=this.files[d],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)d=new n({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(d<0){var y=!this.isSignature(0,h.LOCAL_FILE_HEADER);throw y?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var m=d;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var I=m-F;if(I>0)this.isSignature(m,h.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(d){this.reader=l(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,s){var l=e("./reader/readerFor"),a=e("./utils"),h=e("./compressedObject"),n=e("./crc32"),p=e("./utf8"),c=e("./compressions"),d=e("./support"),y=0,m=3,F=function(o){for(var _ in c)if(!!Object.prototype.hasOwnProperty.call(c,_)&&c[_].magic===o)return c[_];return null};function I(o,_){this.options=o,this.loadOptions=_}I.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(o){var _,v;if(o.skip(22),this.fileNameLength=o.readInt(2),v=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(_=F(this.compressionMethod),_===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,_,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var _=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(_),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),o===y&&(this.dosPermissions=this.externalFileAttributes&63),o===m&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(!!this.extraFields[1]){var o=l(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var _=o.index+this.extraFieldsLength,v,k,D;for(this.extraFields||(this.extraFields={});o.index+4<_;)v=o.readInt(2),k=o.readInt(2),D=o.readData(k),this.extraFields[v]={id:v,length:k,value:D};o.setIndex(_)},handleUTF8:function(){var o=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var v=a.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var D=a.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(D)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var _=l(o.value);return _.readInt(1)!==1||n(this.fileName)!==_.readInt(4)?null:p.utf8decode(_.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var _=l(o.value);return _.readInt(1)!==1||n(this.fileComment)!==_.readInt(4)?null:p.utf8decode(_.readData(o.length-5))}return null}},r.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,s){var l=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),h=e("./utf8"),n=e("./compressedObject"),p=e("./stream/GenericWorker"),c=function(F,I,o){this.name=F,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=I,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}};c.prototype={internalStream:function(F){var I=null,o="string";try{if(!F)throw new Error("No output type specified.");o=F.toLowerCase();var _=o==="string"||o==="text";(o==="binarystring"||o==="text")&&(o="string"),I=this._decompressWorker();var v=!this._dataBinary;v&&!_&&(I=I.pipe(new h.Utf8EncodeWorker)),!v&&_&&(I=I.pipe(new h.Utf8DecodeWorker))}catch(k){I=new p("error"),I.error(k)}return new l(I,o,"")},async:function(F,I){return this.internalStream(F).accumulate(I)},nodeStream:function(F,I){return this.internalStream(F||"nodebuffer").toNodejsStream(I)},_compressWorker:function(F,I){if(this._data instanceof n&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new h.Utf8EncodeWorker)),n.createWorkerFrom(o,F,I)},_decompressWorker:function(){return this._data instanceof n?this._data.getContentWorker():this._data instanceof p?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<d.length;m++)c.prototype[d[m]]=y;r.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,s){(function(l){var a=l.MutationObserver||l.WebKitMutationObserver,h;if(a){var n=0,p=new a(F),c=l.document.createTextNode("");p.observe(c,{characterData:!0}),h=function(){c.data=n=++n%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var d=new l.MessageChannel;d.port1.onmessage=F,h=function(){d.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var o=l.document.createElement("script");o.onreadystatechange=function(){F(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},l.document.documentElement.appendChild(o)}:h=function(){setTimeout(F,0)};var y,m=[];function F(){y=!0;for(var o,_,v=m.length;v;){for(_=m,m=[],o=-1;++o<v;)_[o]();v=m.length}y=!1}r.exports=I;function I(o){m.push(o)===1&&!y&&h()}}).call(this,typeof ke<"u"?ke:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,s){var l=e("immediate");function a(){}var h={},n=["REJECTED"],p=["FULFILLED"],c=["PENDING"];r.exports=d;function d(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==a&&I(this,g)}d.prototype.finally=function(g){if(typeof g!="function")return this;var w=this.constructor;return this.then(C,E);function C(T){function A(){return T}return w.resolve(g()).then(A)}function E(T){function A(){throw T}return w.resolve(g()).then(A)}},d.prototype.catch=function(g){return this.then(null,g)},d.prototype.then=function(g,w){if(typeof g!="function"&&this.state===p||typeof w!="function"&&this.state===n)return this;var C=new this.constructor(a);if(this.state!==c){var E=this.state===p?g:w;m(C,E,this.outcome)}else this.queue.push(new y(C,g,w));return C};function y(g,w,C){this.promise=g,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(g){h.resolve(this.promise,g)},y.prototype.otherCallFulfilled=function(g){m(this.promise,this.onFulfilled,g)},y.prototype.callRejected=function(g){h.reject(this.promise,g)},y.prototype.otherCallRejected=function(g){m(this.promise,this.onRejected,g)};function m(g,w,C){l(function(){var E;try{E=w(C)}catch(T){return h.reject(g,T)}E===g?h.reject(g,new TypeError("Cannot resolve promise with itself")):h.resolve(g,E)})}h.resolve=function(g,w){var C=o(F,w);if(C.status==="error")return h.reject(g,C.value);var E=C.value;if(E)I(g,E);else{g.state=p,g.outcome=w;for(var T=-1,A=g.queue.length;++T<A;)g.queue[T].callFulfilled(w)}return g},h.reject=function(g,w){g.state=n,g.outcome=w;for(var C=-1,E=g.queue.length;++C<E;)g.queue[C].callRejected(w);return g};function F(g){var w=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof w=="function")return function(){w.apply(g,arguments)}}function I(g,w){var C=!1;function E(z){C||(C=!0,h.reject(g,z))}function T(z){C||(C=!0,h.resolve(g,z))}function A(){w(T,E)}var U=o(A);U.status==="error"&&E(U.value)}function o(g,w){var C={};try{C.value=g(w),C.status="success"}catch(E){C.status="error",C.value=E}return C}d.resolve=_;function _(g){return g instanceof this?g:h.resolve(new this(a),g)}d.reject=v;function v(g){var w=new this(a);return h.reject(w,g)}d.all=k;function k(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,E=!1;if(!C)return this.resolve([]);for(var T=new Array(C),A=0,U=-1,z=new this(a);++U<C;)Z(g[U],U);return z;function Z(Q,K){w.resolve(Q).then(q,function(G){E||(E=!0,h.reject(z,G))});function q(G){T[K]=G,++A===C&&!E&&(E=!0,h.resolve(z,T))}}}d.race=D;function D(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,E=!1;if(!C)return this.resolve([]);for(var T=-1,A=new this(a);++T<C;)U(g[T]);return A;function U(z){w.resolve(z).then(function(Z){E||(E=!0,h.resolve(A,Z))},function(Z){E||(E=!0,h.reject(A,Z))})}}},{immediate:36}],38:[function(e,r,s){var l=e("./lib/utils/common").assign,a=e("./lib/deflate"),h=e("./lib/inflate"),n=e("./lib/zlib/constants"),p={};l(p,a,h,n),r.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,s){var l=e("./zlib/deflate"),a=e("./utils/common"),h=e("./utils/strings"),n=e("./zlib/messages"),p=e("./zlib/zstream"),c=Object.prototype.toString,d=0,y=4,m=0,F=1,I=2,o=-1,_=0,v=8;function k(C){if(!(this instanceof k))return new k(C);this.options=a.assign({level:o,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},C||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=l.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(T!==m)throw new Error(n[T]);if(E.header&&l.deflateSetHeader(this.strm,E.header),E.dictionary){var A;if(typeof E.dictionary=="string"?A=h.string2buf(E.dictionary):c.call(E.dictionary)==="[object ArrayBuffer]"?A=new Uint8Array(E.dictionary):A=E.dictionary,T=l.deflateSetDictionary(this.strm,A),T!==m)throw new Error(n[T]);this._dict_set=!0}}k.prototype.push=function(C,E){var T=this.strm,A=this.options.chunkSize,U,z;if(this.ended)return!1;z=E===~~E?E:E===!0?y:d,typeof C=="string"?T.input=h.string2buf(C):c.call(C)==="[object ArrayBuffer]"?T.input=new Uint8Array(C):T.input=C,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new a.Buf8(A),T.next_out=0,T.avail_out=A),U=l.deflate(T,z),U!==F&&U!==m)return this.onEnd(U),this.ended=!0,!1;(T.avail_out===0||T.avail_in===0&&(z===y||z===I))&&(this.options.to==="string"?this.onData(h.buf2binstring(a.shrinkBuf(T.output,T.next_out))):this.onData(a.shrinkBuf(T.output,T.next_out)))}while((T.avail_in>0||T.avail_out===0)&&U!==F);return z===y?(U=l.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===m):(z===I&&(this.onEnd(m),T.avail_out=0),!0)},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function D(C,E){var T=new k(E);if(T.push(C,!0),T.err)throw T.msg||n[T.err];return T.result}function g(C,E){return E=E||{},E.raw=!0,D(C,E)}function w(C,E){return E=E||{},E.gzip=!0,D(C,E)}s.Deflate=k,s.deflate=D,s.deflateRaw=g,s.gzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,s){var l=e("./zlib/inflate"),a=e("./utils/common"),h=e("./utils/strings"),n=e("./zlib/constants"),p=e("./zlib/messages"),c=e("./zlib/zstream"),d=e("./zlib/gzheader"),y=Object.prototype.toString;function m(o){if(!(this instanceof m))return new m(o);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},o||{});var _=this.options;_.raw&&_.windowBits>=0&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),_.windowBits>=0&&_.windowBits<16&&!(o&&o.windowBits)&&(_.windowBits+=32),_.windowBits>15&&_.windowBits<48&&(_.windowBits&15)===0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var v=l.inflateInit2(this.strm,_.windowBits);if(v!==n.Z_OK)throw new Error(p[v]);this.header=new d,l.inflateGetHeader(this.strm,this.header)}m.prototype.push=function(o,_){var v=this.strm,k=this.options.chunkSize,D=this.options.dictionary,g,w,C,E,T,A,U=!1;if(this.ended)return!1;w=_===~~_?_:_===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof o=="string"?v.input=h.binstring2buf(o):y.call(o)==="[object ArrayBuffer]"?v.input=new Uint8Array(o):v.input=o,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new a.Buf8(k),v.next_out=0,v.avail_out=k),g=l.inflate(v,n.Z_NO_FLUSH),g===n.Z_NEED_DICT&&D&&(typeof D=="string"?A=h.string2buf(D):y.call(D)==="[object ArrayBuffer]"?A=new Uint8Array(D):A=D,g=l.inflateSetDictionary(this.strm,A)),g===n.Z_BUF_ERROR&&U===!0&&(g=n.Z_OK,U=!1),g!==n.Z_STREAM_END&&g!==n.Z_OK)return this.onEnd(g),this.ended=!0,!1;v.next_out&&(v.avail_out===0||g===n.Z_STREAM_END||v.avail_in===0&&(w===n.Z_FINISH||w===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=h.utf8border(v.output,v.next_out),E=v.next_out-C,T=h.buf2string(v.output,C),v.next_out=E,v.avail_out=k-E,E&&a.arraySet(v.output,v.output,C,E,0),this.onData(T)):this.onData(a.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(U=!0)}while((v.avail_in>0||v.avail_out===0)&&g!==n.Z_STREAM_END);return g===n.Z_STREAM_END&&(w=n.Z_FINISH),w===n.Z_FINISH?(g=l.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===n.Z_OK):(w===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),v.avail_out=0),!0)},m.prototype.onData=function(o){this.chunks.push(o)},m.prototype.onEnd=function(o){o===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function F(o,_){var v=new m(_);if(v.push(o,!0),v.err)throw v.msg||p[v.err];return v.result}function I(o,_){return _=_||{},_.raw=!0,F(o,_)}s.Inflate=m,s.inflate=F,s.inflateRaw=I,s.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(n){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var c=p.shift();if(!!c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(n[d]=c[d])}}return n},s.shrinkBuf=function(n,p){return n.length===p?n:n.subarray?n.subarray(0,p):(n.length=p,n)};var a={arraySet:function(n,p,c,d,y){if(p.subarray&&n.subarray){n.set(p.subarray(c,c+d),y);return}for(var m=0;m<d;m++)n[y+m]=p[c+m]},flattenChunks:function(n){var p,c,d,y,m,F;for(d=0,p=0,c=n.length;p<c;p++)d+=n[p].length;for(F=new Uint8Array(d),y=0,p=0,c=n.length;p<c;p++)m=n[p],F.set(m,y),y+=m.length;return F}},h={arraySet:function(n,p,c,d,y){for(var m=0;m<d;m++)n[y+m]=p[c+m]},flattenChunks:function(n){return[].concat.apply([],n)}};s.setTyped=function(n){n?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(l)},{}],42:[function(e,r,s){var l=e("./common"),a=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var n=new l.Buf8(256),p=0;p<256;p++)n[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;n[254]=n[254]=1,s.string2buf=function(d){var y,m,F,I,o,_=d.length,v=0;for(I=0;I<_;I++)m=d.charCodeAt(I),(m&64512)===55296&&I+1<_&&(F=d.charCodeAt(I+1),(F&64512)===56320&&(m=65536+(m-55296<<10)+(F-56320),I++)),v+=m<128?1:m<2048?2:m<65536?3:4;for(y=new l.Buf8(v),o=0,I=0;o<v;I++)m=d.charCodeAt(I),(m&64512)===55296&&I+1<_&&(F=d.charCodeAt(I+1),(F&64512)===56320&&(m=65536+(m-55296<<10)+(F-56320),I++)),m<128?y[o++]=m:m<2048?(y[o++]=192|m>>>6,y[o++]=128|m&63):m<65536?(y[o++]=224|m>>>12,y[o++]=128|m>>>6&63,y[o++]=128|m&63):(y[o++]=240|m>>>18,y[o++]=128|m>>>12&63,y[o++]=128|m>>>6&63,y[o++]=128|m&63);return y};function c(d,y){if(y<65537&&(d.subarray&&h||!d.subarray&&a))return String.fromCharCode.apply(null,l.shrinkBuf(d,y));for(var m="",F=0;F<y;F++)m+=String.fromCharCode(d[F]);return m}s.buf2binstring=function(d){return c(d,d.length)},s.binstring2buf=function(d){for(var y=new l.Buf8(d.length),m=0,F=y.length;m<F;m++)y[m]=d.charCodeAt(m);return y},s.buf2string=function(d,y){var m,F,I,o,_=y||d.length,v=new Array(_*2);for(F=0,m=0;m<_;){if(I=d[m++],I<128){v[F++]=I;continue}if(o=n[I],o>4){v[F++]=65533,m+=o-1;continue}for(I&=o===2?31:o===3?15:7;o>1&&m<_;)I=I<<6|d[m++]&63,o--;if(o>1){v[F++]=65533;continue}I<65536?v[F++]=I:(I-=65536,v[F++]=55296|I>>10&1023,v[F++]=56320|I&1023)}return c(v,F)},s.utf8border=function(d,y){var m;for(y=y||d.length,y>d.length&&(y=d.length),m=y-1;m>=0&&(d[m]&192)===128;)m--;return m<0||m===0?y:m+n[d[m]]>y?m:y}},{"./common":41}],43:[function(e,r,s){function l(a,h,n,p){for(var c=a&65535|0,d=a>>>16&65535|0,y=0;n!==0;){y=n>2e3?2e3:n,n-=y;do c=c+h[p++]|0,d=d+c|0;while(--y);c%=65521,d%=65521}return c|d<<16|0}r.exports=l},{}],44:[function(e,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,s){function l(){for(var n,p=[],c=0;c<256;c++){n=c;for(var d=0;d<8;d++)n=n&1?3988292384^n>>>1:n>>>1;p[c]=n}return p}var a=l();function h(n,p,c,d){var y=a,m=d+c;n^=-1;for(var F=d;F<m;F++)n=n>>>8^y[(n^p[F])&255];return n^-1}r.exports=h},{}],46:[function(e,r,s){var l=e("../utils/common"),a=e("./trees"),h=e("./adler32"),n=e("./crc32"),p=e("./messages"),c=0,d=1,y=3,m=4,F=5,I=0,o=1,_=-2,v=-3,k=-5,D=-1,g=1,w=2,C=3,E=4,T=0,A=2,U=8,z=9,Z=15,Q=8,K=29,q=256,G=q+1+K,j=30,et=19,st=2*G+1,pt=15,J=3,ht=258,ft=ht+J+1,Ot=32,It=42,mt=69,at=73,St=91,gt=103,ct=113,bt=666,lt=1,Dt=2,Bt=3,Ut=4,dt=3;function Nt(i,P){return i.msg=p[P],P}function he(i){return(i<<1)-(i>4?9:0)}function Vt(i){for(var P=i.length;--P>=0;)i[P]=0}function Mt(i){var P=i.state,L=P.pending;L>i.avail_out&&(L=i.avail_out),L!==0&&(l.arraySet(i.output,P.pending_buf,P.pending_out,L,i.next_out),i.next_out+=L,P.pending_out+=L,i.total_out+=L,i.avail_out-=L,P.pending-=L,P.pending===0&&(P.pending_out=0))}function ut(i,P){a._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,P),i.block_start=i.strstart,Mt(i.strm)}function rt(i,P){i.pending_buf[i.pending++]=P}function Zt(i,P){i.pending_buf[i.pending++]=P>>>8&255,i.pending_buf[i.pending++]=P&255}function ue(i,P,L,u){var x=i.avail_in;return x>u&&(x=u),x===0?0:(i.avail_in-=x,l.arraySet(P,i.input,i.next_in,x,L),i.state.wrap===1?i.adler=h(i.adler,P,x,L):i.state.wrap===2&&(i.adler=n(i.adler,P,x,L)),i.next_in+=x,i.total_in+=x,x)}function ae(i,P){var L=i.max_chain_length,u=i.strstart,x,O,H=i.prev_length,Y=i.nice_match,W=i.strstart>i.w_size-ft?i.strstart-(i.w_size-ft):0,nt=i.window,qt=i.w_mask,vt=i.prev,ot=i.strstart+ht,xt=nt[u+H-1],Pt=nt[u+H];i.prev_length>=i.good_match&&(L>>=2),Y>i.lookahead&&(Y=i.lookahead);do if(x=P,!(nt[x+H]!==Pt||nt[x+H-1]!==xt||nt[x]!==nt[u]||nt[++x]!==nt[u+1])){u+=2,x++;do;while(nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&nt[++u]===nt[++x]&&u<ot);if(O=ht-(ot-u),u=ot-ht,O>H){if(i.match_start=P,H=O,O>=Y)break;xt=nt[u+H-1],Pt=nt[u+H]}}while((P=vt[P&qt])>W&&--L!==0);return H<=i.lookahead?H:i.lookahead}function jt(i){var P=i.w_size,L,u,x,O,H;do{if(O=i.window_size-i.lookahead-i.strstart,i.strstart>=P+(P-ft)){l.arraySet(i.window,i.window,P,P,0),i.match_start-=P,i.strstart-=P,i.block_start-=P,u=i.hash_size,L=u;do x=i.head[--L],i.head[L]=x>=P?x-P:0;while(--u);u=P,L=u;do x=i.prev[--L],i.prev[L]=x>=P?x-P:0;while(--u);O+=P}if(i.strm.avail_in===0)break;if(u=ue(i.strm,i.window,i.strstart+i.lookahead,O),i.lookahead+=u,i.lookahead+i.insert>=J)for(H=i.strstart-i.insert,i.ins_h=i.window[H],i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+J-1])&i.hash_mask,i.prev[H&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=H,H++,i.insert--,!(i.lookahead+i.insert<J)););}while(i.lookahead<ft&&i.strm.avail_in!==0)}function _e(i,P){var L=65535;for(L>i.pending_buf_size-5&&(L=i.pending_buf_size-5);;){if(i.lookahead<=1){if(jt(i),i.lookahead===0&&P===c)return lt;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var u=i.block_start+L;if((i.strstart===0||i.strstart>=u)&&(i.lookahead=i.strstart-u,i.strstart=u,ut(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-ft&&(ut(i,!1),i.strm.avail_out===0))return lt}return i.insert=0,P===m?(ut(i,!0),i.strm.avail_out===0?Bt:Ut):(i.strstart>i.block_start&&(ut(i,!1),i.strm.avail_out===0),lt)}function ne(i,P){for(var L,u;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&P===c)return lt;if(i.lookahead===0)break}if(L=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,L=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),L!==0&&i.strstart-L<=i.w_size-ft&&(i.match_length=ae(i,L)),i.match_length>=J)if(u=a._tr_tally(i,i.strstart-i.match_start,i.match_length-J),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=J){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,L=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else u=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(u&&(ut(i,!1),i.strm.avail_out===0))return lt}return i.insert=i.strstart<J-1?i.strstart:J-1,P===m?(ut(i,!0),i.strm.avail_out===0?Bt:Ut):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?lt:Dt}function Wt(i,P){for(var L,u,x;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&P===c)return lt;if(i.lookahead===0)break}if(L=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,L=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=J-1,L!==0&&i.prev_length<i.max_lazy_match&&i.strstart-L<=i.w_size-ft&&(i.match_length=ae(i,L),i.match_length<=5&&(i.strategy===g||i.match_length===J&&i.strstart-i.match_start>4096)&&(i.match_length=J-1)),i.prev_length>=J&&i.match_length<=i.prev_length){x=i.strstart+i.lookahead-J,u=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-J),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=x&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,L=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=J-1,i.strstart++,u&&(ut(i,!1),i.strm.avail_out===0))return lt}else if(i.match_available){if(u=a._tr_tally(i,0,i.window[i.strstart-1]),u&&ut(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return lt}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(u=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<J-1?i.strstart:J-1,P===m?(ut(i,!0),i.strm.avail_out===0?Bt:Ut):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?lt:Dt}function pe(i,P){for(var L,u,x,O,H=i.window;;){if(i.lookahead<=ht){if(jt(i),i.lookahead<=ht&&P===c)return lt;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=J&&i.strstart>0&&(x=i.strstart-1,u=H[x],u===H[++x]&&u===H[++x]&&u===H[++x])){O=i.strstart+ht;do;while(u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&x<O);i.match_length=ht-(O-x),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=J?(L=a._tr_tally(i,1,i.match_length-J),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(L=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),L&&(ut(i,!1),i.strm.avail_out===0))return lt}return i.insert=0,P===m?(ut(i,!0),i.strm.avail_out===0?Bt:Ut):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?lt:Dt}function se(i,P){for(var L;;){if(i.lookahead===0&&(jt(i),i.lookahead===0)){if(P===c)return lt;break}if(i.match_length=0,L=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,L&&(ut(i,!1),i.strm.avail_out===0))return lt}return i.insert=0,P===m?(ut(i,!0),i.strm.avail_out===0?Bt:Ut):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?lt:Dt}function At(i,P,L,u,x){this.good_length=i,this.max_lazy=P,this.nice_length=L,this.max_chain=u,this.func=x}var Gt;Gt=[new At(0,0,0,0,_e),new At(4,4,8,4,ne),new At(4,5,16,8,ne),new At(4,6,32,32,ne),new At(4,4,16,16,Wt),new At(8,16,32,32,Wt),new At(8,16,128,128,Wt),new At(8,32,128,256,Wt),new At(32,128,258,1024,Wt),new At(32,258,258,4096,Wt)];function be(i){i.window_size=2*i.w_size,Vt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=J-1,i.match_available=0,i.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=U,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(st*2),this.dyn_dtree=new l.Buf16((2*j+1)*2),this.bl_tree=new l.Buf16((2*et+1)*2),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(pt+1),this.heap=new l.Buf16(2*G+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*G+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(i){var P;return!i||!i.state?Nt(i,_):(i.total_in=i.total_out=0,i.data_type=A,P=i.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?It:ct,i.adler=P.wrap===2?0:1,P.last_flush=c,a._tr_init(P),I)}function V(i){var P=M(i);return P===I&&be(i.state),P}function X(i,P){return!i||!i.state||i.state.wrap!==2?_:(i.state.gzhead=P,I)}function S(i,P,L,u,x,O){if(!i)return _;var H=1;if(P===D&&(P=6),u<0?(H=0,u=-u):u>15&&(H=2,u-=16),x<1||x>z||L!==U||u<8||u>15||P<0||P>9||O<0||O>E)return Nt(i,_);u===8&&(u=9);var Y=new b;return i.state=Y,Y.strm=i,Y.wrap=H,Y.gzhead=null,Y.w_bits=u,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=x+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+J-1)/J),Y.window=new l.Buf8(Y.w_size*2),Y.head=new l.Buf16(Y.hash_size),Y.prev=new l.Buf16(Y.w_size),Y.lit_bufsize=1<<x+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new l.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=P,Y.strategy=O,Y.method=L,V(i)}function N(i,P){return S(i,P,U,Z,Q,T)}function f(i,P){var L,u,x,O;if(!i||!i.state||P>F||P<0)return i?Nt(i,_):_;if(u=i.state,!i.output||!i.input&&i.avail_in!==0||u.status===bt&&P!==m)return Nt(i,i.avail_out===0?k:_);if(u.strm=i,L=u.last_flush,u.last_flush=P,u.status===It)if(u.wrap===2)i.adler=0,rt(u,31),rt(u,139),rt(u,8),u.gzhead?(rt(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),rt(u,u.gzhead.time&255),rt(u,u.gzhead.time>>8&255),rt(u,u.gzhead.time>>16&255),rt(u,u.gzhead.time>>24&255),rt(u,u.level===9?2:u.strategy>=w||u.level<2?4:0),rt(u,u.gzhead.os&255),u.gzhead.extra&&u.gzhead.extra.length&&(rt(u,u.gzhead.extra.length&255),rt(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(i.adler=n(i.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=mt):(rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,u.level===9?2:u.strategy>=w||u.level<2?4:0),rt(u,dt),u.status=ct);else{var H=U+(u.w_bits-8<<4)<<8,Y=-1;u.strategy>=w||u.level<2?Y=0:u.level<6?Y=1:u.level===6?Y=2:Y=3,H|=Y<<6,u.strstart!==0&&(H|=Ot),H+=31-H%31,u.status=ct,Zt(u,H),u.strstart!==0&&(Zt(u,i.adler>>>16),Zt(u,i.adler&65535)),i.adler=1}if(u.status===mt)if(u.gzhead.extra){for(x=u.pending;u.gzindex<(u.gzhead.extra.length&65535)&&!(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),Mt(i),x=u.pending,u.pending===u.pending_buf_size));)rt(u,u.gzhead.extra[u.gzindex]&255),u.gzindex++;u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=at)}else u.status=at;if(u.status===at)if(u.gzhead.name){x=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),Mt(i),x=u.pending,u.pending===u.pending_buf_size)){O=1;break}u.gzindex<u.gzhead.name.length?O=u.gzhead.name.charCodeAt(u.gzindex++)&255:O=0,rt(u,O)}while(O!==0);u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),O===0&&(u.gzindex=0,u.status=St)}else u.status=St;if(u.status===St)if(u.gzhead.comment){x=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),Mt(i),x=u.pending,u.pending===u.pending_buf_size)){O=1;break}u.gzindex<u.gzhead.comment.length?O=u.gzhead.comment.charCodeAt(u.gzindex++)&255:O=0,rt(u,O)}while(O!==0);u.gzhead.hcrc&&u.pending>x&&(i.adler=n(i.adler,u.pending_buf,u.pending-x,x)),O===0&&(u.status=gt)}else u.status=gt;if(u.status===gt&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&Mt(i),u.pending+2<=u.pending_buf_size&&(rt(u,i.adler&255),rt(u,i.adler>>8&255),i.adler=0,u.status=ct)):u.status=ct),u.pending!==0){if(Mt(i),i.avail_out===0)return u.last_flush=-1,I}else if(i.avail_in===0&&he(P)<=he(L)&&P!==m)return Nt(i,k);if(u.status===bt&&i.avail_in!==0)return Nt(i,k);if(i.avail_in!==0||u.lookahead!==0||P!==c&&u.status!==bt){var W=u.strategy===w?se(u,P):u.strategy===C?pe(u,P):Gt[u.level].func(u,P);if((W===Bt||W===Ut)&&(u.status=bt),W===lt||W===Bt)return i.avail_out===0&&(u.last_flush=-1),I;if(W===Dt&&(P===d?a._tr_align(u):P!==F&&(a._tr_stored_block(u,0,0,!1),P===y&&(Vt(u.head),u.lookahead===0&&(u.strstart=0,u.block_start=0,u.insert=0))),Mt(i),i.avail_out===0))return u.last_flush=-1,I}return P!==m?I:u.wrap<=0?o:(u.wrap===2?(rt(u,i.adler&255),rt(u,i.adler>>8&255),rt(u,i.adler>>16&255),rt(u,i.adler>>24&255),rt(u,i.total_in&255),rt(u,i.total_in>>8&255),rt(u,i.total_in>>16&255),rt(u,i.total_in>>24&255)):(Zt(u,i.adler>>>16),Zt(u,i.adler&65535)),Mt(i),u.wrap>0&&(u.wrap=-u.wrap),u.pending!==0?I:o)}function B(i){var P;return!i||!i.state?_:(P=i.state.status,P!==It&&P!==mt&&P!==at&&P!==St&&P!==gt&&P!==ct&&P!==bt?Nt(i,_):(i.state=null,P===ct?Nt(i,v):I))}function $(i,P){var L=P.length,u,x,O,H,Y,W,nt,qt;if(!i||!i.state||(u=i.state,H=u.wrap,H===2||H===1&&u.status!==It||u.lookahead))return _;for(H===1&&(i.adler=h(i.adler,P,L,0)),u.wrap=0,L>=u.w_size&&(H===0&&(Vt(u.head),u.strstart=0,u.block_start=0,u.insert=0),qt=new l.Buf8(u.w_size),l.arraySet(qt,P,L-u.w_size,u.w_size,0),P=qt,L=u.w_size),Y=i.avail_in,W=i.next_in,nt=i.input,i.avail_in=L,i.next_in=0,i.input=P,jt(u);u.lookahead>=J;){x=u.strstart,O=u.lookahead-(J-1);do u.ins_h=(u.ins_h<<u.hash_shift^u.window[x+J-1])&u.hash_mask,u.prev[x&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=x,x++;while(--O);u.strstart=x,u.lookahead=J-1,jt(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=J-1,u.match_available=0,i.next_in=W,i.input=nt,i.avail_in=Y,u.wrap=H,I}s.deflateInit=N,s.deflateInit2=S,s.deflateReset=V,s.deflateResetKeep=M,s.deflateSetHeader=X,s.deflate=f,s.deflateEnd=B,s.deflateSetDictionary=$,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,s){function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=l},{}],48:[function(e,r,s){var l=30,a=12;r.exports=function(n,p){var c,d,y,m,F,I,o,_,v,k,D,g,w,C,E,T,A,U,z,Z,Q,K,q,G,j;c=n.state,d=n.next_in,G=n.input,y=d+(n.avail_in-5),m=n.next_out,j=n.output,F=m-(p-n.avail_out),I=m+(n.avail_out-257),o=c.dmax,_=c.wsize,v=c.whave,k=c.wnext,D=c.window,g=c.hold,w=c.bits,C=c.lencode,E=c.distcode,T=(1<<c.lenbits)-1,A=(1<<c.distbits)-1;t:do{w<15&&(g+=G[d++]<<w,w+=8,g+=G[d++]<<w,w+=8),U=C[g&T];e:for(;;){if(z=U>>>24,g>>>=z,w-=z,z=U>>>16&255,z===0)j[m++]=U&65535;else if(z&16){Z=U&65535,z&=15,z&&(w<z&&(g+=G[d++]<<w,w+=8),Z+=g&(1<<z)-1,g>>>=z,w-=z),w<15&&(g+=G[d++]<<w,w+=8,g+=G[d++]<<w,w+=8),U=E[g&A];i:for(;;){if(z=U>>>24,g>>>=z,w-=z,z=U>>>16&255,z&16){if(Q=U&65535,z&=15,w<z&&(g+=G[d++]<<w,w+=8,w<z&&(g+=G[d++]<<w,w+=8)),Q+=g&(1<<z)-1,Q>o){n.msg="invalid distance too far back",c.mode=l;break t}if(g>>>=z,w-=z,z=m-F,Q>z){if(z=Q-z,z>v&&c.sane){n.msg="invalid distance too far back",c.mode=l;break t}if(K=0,q=D,k===0){if(K+=_-z,z<Z){Z-=z;do j[m++]=D[K++];while(--z);K=m-Q,q=j}}else if(k<z){if(K+=_+k-z,z-=k,z<Z){Z-=z;do j[m++]=D[K++];while(--z);if(K=0,k<Z){z=k,Z-=z;do j[m++]=D[K++];while(--z);K=m-Q,q=j}}}else if(K+=k-z,z<Z){Z-=z;do j[m++]=D[K++];while(--z);K=m-Q,q=j}for(;Z>2;)j[m++]=q[K++],j[m++]=q[K++],j[m++]=q[K++],Z-=3;Z&&(j[m++]=q[K++],Z>1&&(j[m++]=q[K++]))}else{K=m-Q;do j[m++]=j[K++],j[m++]=j[K++],j[m++]=j[K++],Z-=3;while(Z>2);Z&&(j[m++]=j[K++],Z>1&&(j[m++]=j[K++]))}}else if((z&64)===0){U=E[(U&65535)+(g&(1<<z)-1)];continue i}else{n.msg="invalid distance code",c.mode=l;break t}break}}else if((z&64)===0){U=C[(U&65535)+(g&(1<<z)-1)];continue e}else if(z&32){c.mode=a;break t}else{n.msg="invalid literal/length code",c.mode=l;break t}break}}while(d<y&&m<I);Z=w>>3,d-=Z,w-=Z<<3,g&=(1<<w)-1,n.next_in=d,n.next_out=m,n.avail_in=d<y?5+(y-d):5-(d-y),n.avail_out=m<I?257+(I-m):257-(m-I),c.hold=g,c.bits=w}},{}],49:[function(e,r,s){var l=e("../utils/common"),a=e("./adler32"),h=e("./crc32"),n=e("./inffast"),p=e("./inftrees"),c=0,d=1,y=2,m=4,F=5,I=6,o=0,_=1,v=2,k=-2,D=-3,g=-4,w=-5,C=8,E=1,T=2,A=3,U=4,z=5,Z=6,Q=7,K=8,q=9,G=10,j=11,et=12,st=13,pt=14,J=15,ht=16,ft=17,Ot=18,It=19,mt=20,at=21,St=22,gt=23,ct=24,bt=25,lt=26,Dt=27,Bt=28,Ut=29,dt=30,Nt=31,he=32,Vt=852,Mt=592,ut=15,rt=ut;function Zt(S){return(S>>>24&255)+(S>>>8&65280)+((S&65280)<<8)+((S&255)<<24)}function ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(S){var N;return!S||!S.state?k:(N=S.state,S.total_in=S.total_out=N.total=0,S.msg="",N.wrap&&(S.adler=N.wrap&1),N.mode=E,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new l.Buf32(Vt),N.distcode=N.distdyn=new l.Buf32(Mt),N.sane=1,N.back=-1,o)}function jt(S){var N;return!S||!S.state?k:(N=S.state,N.wsize=0,N.whave=0,N.wnext=0,ae(S))}function _e(S,N){var f,B;return!S||!S.state||(B=S.state,N<0?(f=0,N=-N):(f=(N>>4)+1,N<48&&(N&=15)),N&&(N<8||N>15))?k:(B.window!==null&&B.wbits!==N&&(B.window=null),B.wrap=f,B.wbits=N,jt(S))}function ne(S,N){var f,B;return S?(B=new ue,S.state=B,B.window=null,f=_e(S,N),f!==o&&(S.state=null),f):k}function Wt(S){return ne(S,rt)}var pe=!0,se,At;function Gt(S){if(pe){var N;for(se=new l.Buf32(512),At=new l.Buf32(32),N=0;N<144;)S.lens[N++]=8;for(;N<256;)S.lens[N++]=9;for(;N<280;)S.lens[N++]=7;for(;N<288;)S.lens[N++]=8;for(p(d,S.lens,0,288,se,0,S.work,{bits:9}),N=0;N<32;)S.lens[N++]=5;p(y,S.lens,0,32,At,0,S.work,{bits:5}),pe=!1}S.lencode=se,S.lenbits=9,S.distcode=At,S.distbits=5}function be(S,N,f,B){var $,i=S.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new l.Buf8(i.wsize)),B>=i.wsize?(l.arraySet(i.window,N,f-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):($=i.wsize-i.wnext,$>B&&($=B),l.arraySet(i.window,N,f-B,$,i.wnext),B-=$,B?(l.arraySet(i.window,N,f-B,B,0),i.wnext=B,i.whave=i.wsize):(i.wnext+=$,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=$))),0}function b(S,N){var f,B,$,i,P,L,u,x,O,H,Y,W,nt,qt,vt=0,ot,xt,Pt,Rt,Ce,Ee,yt,Yt,Ft=new l.Buf8(4),te,Jt,Ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return k;f=S.state,f.mode===et&&(f.mode=st),P=S.next_out,$=S.output,u=S.avail_out,i=S.next_in,B=S.input,L=S.avail_in,x=f.hold,O=f.bits,H=L,Y=u,Yt=o;t:for(;;)switch(f.mode){case E:if(f.wrap===0){f.mode=st;break}for(;O<16;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(f.wrap&2&&x===35615){f.check=0,Ft[0]=x&255,Ft[1]=x>>>8&255,f.check=h(f.check,Ft,2,0),x=0,O=0,f.mode=T;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((x&255)<<8)+(x>>8))%31){S.msg="incorrect header check",f.mode=dt;break}if((x&15)!==C){S.msg="unknown compression method",f.mode=dt;break}if(x>>>=4,O-=4,yt=(x&15)+8,f.wbits===0)f.wbits=yt;else if(yt>f.wbits){S.msg="invalid window size",f.mode=dt;break}f.dmax=1<<yt,S.adler=f.check=1,f.mode=x&512?G:et,x=0,O=0;break;case T:for(;O<16;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(f.flags=x,(f.flags&255)!==C){S.msg="unknown compression method",f.mode=dt;break}if(f.flags&57344){S.msg="unknown header flags set",f.mode=dt;break}f.head&&(f.head.text=x>>8&1),f.flags&512&&(Ft[0]=x&255,Ft[1]=x>>>8&255,f.check=h(f.check,Ft,2,0)),x=0,O=0,f.mode=A;case A:for(;O<32;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.head&&(f.head.time=x),f.flags&512&&(Ft[0]=x&255,Ft[1]=x>>>8&255,Ft[2]=x>>>16&255,Ft[3]=x>>>24&255,f.check=h(f.check,Ft,4,0)),x=0,O=0,f.mode=U;case U:for(;O<16;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.head&&(f.head.xflags=x&255,f.head.os=x>>8),f.flags&512&&(Ft[0]=x&255,Ft[1]=x>>>8&255,f.check=h(f.check,Ft,2,0)),x=0,O=0,f.mode=z;case z:if(f.flags&1024){for(;O<16;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.length=x,f.head&&(f.head.extra_len=x),f.flags&512&&(Ft[0]=x&255,Ft[1]=x>>>8&255,f.check=h(f.check,Ft,2,0)),x=0,O=0}else f.head&&(f.head.extra=null);f.mode=Z;case Z:if(f.flags&1024&&(W=f.length,W>L&&(W=L),W&&(f.head&&(yt=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),l.arraySet(f.head.extra,B,i,W,yt)),f.flags&512&&(f.check=h(f.check,B,W,i)),L-=W,i+=W,f.length-=W),f.length))break t;f.length=0,f.mode=Q;case Q:if(f.flags&2048){if(L===0)break t;W=0;do yt=B[i+W++],f.head&&yt&&f.length<65536&&(f.head.name+=String.fromCharCode(yt));while(yt&&W<L);if(f.flags&512&&(f.check=h(f.check,B,W,i)),L-=W,i+=W,yt)break t}else f.head&&(f.head.name=null);f.length=0,f.mode=K;case K:if(f.flags&4096){if(L===0)break t;W=0;do yt=B[i+W++],f.head&&yt&&f.length<65536&&(f.head.comment+=String.fromCharCode(yt));while(yt&&W<L);if(f.flags&512&&(f.check=h(f.check,B,W,i)),L-=W,i+=W,yt)break t}else f.head&&(f.head.comment=null);f.mode=q;case q:if(f.flags&512){for(;O<16;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(x!==(f.check&65535)){S.msg="header crc mismatch",f.mode=dt;break}x=0,O=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),S.adler=f.check=0,f.mode=et;break;case G:for(;O<32;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}S.adler=f.check=Zt(x),x=0,O=0,f.mode=j;case j:if(f.havedict===0)return S.next_out=P,S.avail_out=u,S.next_in=i,S.avail_in=L,f.hold=x,f.bits=O,v;S.adler=f.check=1,f.mode=et;case et:if(N===F||N===I)break t;case st:if(f.last){x>>>=O&7,O-=O&7,f.mode=Dt;break}for(;O<3;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}switch(f.last=x&1,x>>>=1,O-=1,x&3){case 0:f.mode=pt;break;case 1:if(Gt(f),f.mode=mt,N===I){x>>>=2,O-=2;break t}break;case 2:f.mode=ft;break;case 3:S.msg="invalid block type",f.mode=dt}x>>>=2,O-=2;break;case pt:for(x>>>=O&7,O-=O&7;O<32;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if((x&65535)!==(x>>>16^65535)){S.msg="invalid stored block lengths",f.mode=dt;break}if(f.length=x&65535,x=0,O=0,f.mode=J,N===I)break t;case J:f.mode=ht;case ht:if(W=f.length,W){if(W>L&&(W=L),W>u&&(W=u),W===0)break t;l.arraySet($,B,i,W,P),L-=W,i+=W,u-=W,P+=W,f.length-=W;break}f.mode=et;break;case ft:for(;O<14;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(f.nlen=(x&31)+257,x>>>=5,O-=5,f.ndist=(x&31)+1,x>>>=5,O-=5,f.ncode=(x&15)+4,x>>>=4,O-=4,f.nlen>286||f.ndist>30){S.msg="too many length or distance symbols",f.mode=dt;break}f.have=0,f.mode=Ot;case Ot:for(;f.have<f.ncode;){for(;O<3;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.lens[Ye[f.have++]]=x&7,x>>>=3,O-=3}for(;f.have<19;)f.lens[Ye[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,te={bits:f.lenbits},Yt=p(c,f.lens,0,19,f.lencode,0,f.work,te),f.lenbits=te.bits,Yt){S.msg="invalid code lengths set",f.mode=dt;break}f.have=0,f.mode=It;case It:for(;f.have<f.nlen+f.ndist;){for(;vt=f.lencode[x&(1<<f.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Pt=vt&65535,!(ot<=O);){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(Pt<16)x>>>=ot,O-=ot,f.lens[f.have++]=Pt;else{if(Pt===16){for(Jt=ot+2;O<Jt;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(x>>>=ot,O-=ot,f.have===0){S.msg="invalid bit length repeat",f.mode=dt;break}yt=f.lens[f.have-1],W=3+(x&3),x>>>=2,O-=2}else if(Pt===17){for(Jt=ot+3;O<Jt;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}x>>>=ot,O-=ot,yt=0,W=3+(x&7),x>>>=3,O-=3}else{for(Jt=ot+7;O<Jt;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}x>>>=ot,O-=ot,yt=0,W=11+(x&127),x>>>=7,O-=7}if(f.have+W>f.nlen+f.ndist){S.msg="invalid bit length repeat",f.mode=dt;break}for(;W--;)f.lens[f.have++]=yt}}if(f.mode===dt)break;if(f.lens[256]===0){S.msg="invalid code -- missing end-of-block",f.mode=dt;break}if(f.lenbits=9,te={bits:f.lenbits},Yt=p(d,f.lens,0,f.nlen,f.lencode,0,f.work,te),f.lenbits=te.bits,Yt){S.msg="invalid literal/lengths set",f.mode=dt;break}if(f.distbits=6,f.distcode=f.distdyn,te={bits:f.distbits},Yt=p(y,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,te),f.distbits=te.bits,Yt){S.msg="invalid distances set",f.mode=dt;break}if(f.mode=mt,N===I)break t;case mt:f.mode=at;case at:if(L>=6&&u>=258){S.next_out=P,S.avail_out=u,S.next_in=i,S.avail_in=L,f.hold=x,f.bits=O,n(S,Y),P=S.next_out,$=S.output,u=S.avail_out,i=S.next_in,B=S.input,L=S.avail_in,x=f.hold,O=f.bits,f.mode===et&&(f.back=-1);break}for(f.back=0;vt=f.lencode[x&(1<<f.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Pt=vt&65535,!(ot<=O);){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(xt&&(xt&240)===0){for(Rt=ot,Ce=xt,Ee=Pt;vt=f.lencode[Ee+((x&(1<<Rt+Ce)-1)>>Rt)],ot=vt>>>24,xt=vt>>>16&255,Pt=vt&65535,!(Rt+ot<=O);){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}x>>>=Rt,O-=Rt,f.back+=Rt}if(x>>>=ot,O-=ot,f.back+=ot,f.length=Pt,xt===0){f.mode=lt;break}if(xt&32){f.back=-1,f.mode=et;break}if(xt&64){S.msg="invalid literal/length code",f.mode=dt;break}f.extra=xt&15,f.mode=St;case St:if(f.extra){for(Jt=f.extra;O<Jt;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.length+=x&(1<<f.extra)-1,x>>>=f.extra,O-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=gt;case gt:for(;vt=f.distcode[x&(1<<f.distbits)-1],ot=vt>>>24,xt=vt>>>16&255,Pt=vt&65535,!(ot<=O);){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if((xt&240)===0){for(Rt=ot,Ce=xt,Ee=Pt;vt=f.distcode[Ee+((x&(1<<Rt+Ce)-1)>>Rt)],ot=vt>>>24,xt=vt>>>16&255,Pt=vt&65535,!(Rt+ot<=O);){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}x>>>=Rt,O-=Rt,f.back+=Rt}if(x>>>=ot,O-=ot,f.back+=ot,xt&64){S.msg="invalid distance code",f.mode=dt;break}f.offset=Pt,f.extra=xt&15,f.mode=ct;case ct:if(f.extra){for(Jt=f.extra;O<Jt;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}f.offset+=x&(1<<f.extra)-1,x>>>=f.extra,O-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){S.msg="invalid distance too far back",f.mode=dt;break}f.mode=bt;case bt:if(u===0)break t;if(W=Y-u,f.offset>W){if(W=f.offset-W,W>f.whave&&f.sane){S.msg="invalid distance too far back",f.mode=dt;break}W>f.wnext?(W-=f.wnext,nt=f.wsize-W):nt=f.wnext-W,W>f.length&&(W=f.length),qt=f.window}else qt=$,nt=P-f.offset,W=f.length;W>u&&(W=u),u-=W,f.length-=W;do $[P++]=qt[nt++];while(--W);f.length===0&&(f.mode=at);break;case lt:if(u===0)break t;$[P++]=f.length,u--,f.mode=at;break;case Dt:if(f.wrap){for(;O<32;){if(L===0)break t;L--,x|=B[i++]<<O,O+=8}if(Y-=u,S.total_out+=Y,f.total+=Y,Y&&(S.adler=f.check=f.flags?h(f.check,$,Y,P-Y):a(f.check,$,Y,P-Y)),Y=u,(f.flags?x:Zt(x))!==f.check){S.msg="incorrect data check",f.mode=dt;break}x=0,O=0}f.mode=Bt;case Bt:if(f.wrap&&f.flags){for(;O<32;){if(L===0)break t;L--,x+=B[i++]<<O,O+=8}if(x!==(f.total&4294967295)){S.msg="incorrect length check",f.mode=dt;break}x=0,O=0}f.mode=Ut;case Ut:Yt=_;break t;case dt:Yt=D;break t;case Nt:return g;case he:default:return k}return S.next_out=P,S.avail_out=u,S.next_in=i,S.avail_in=L,f.hold=x,f.bits=O,(f.wsize||Y!==S.avail_out&&f.mode<dt&&(f.mode<Dt||N!==m))&&be(S,S.output,S.next_out,Y-S.avail_out),H-=S.avail_in,Y-=S.avail_out,S.total_in+=H,S.total_out+=Y,f.total+=Y,f.wrap&&Y&&(S.adler=f.check=f.flags?h(f.check,$,Y,S.next_out-Y):a(f.check,$,Y,S.next_out-Y)),S.data_type=f.bits+(f.last?64:0)+(f.mode===et?128:0)+(f.mode===mt||f.mode===J?256:0),(H===0&&Y===0||N===m)&&Yt===o&&(Yt=w),Yt}function M(S){if(!S||!S.state)return k;var N=S.state;return N.window&&(N.window=null),S.state=null,o}function V(S,N){var f;return!S||!S.state||(f=S.state,(f.wrap&2)===0)?k:(f.head=N,N.done=!1,o)}function X(S,N){var f=N.length,B,$,i;return!S||!S.state||(B=S.state,B.wrap!==0&&B.mode!==j)?k:B.mode===j&&($=1,$=a($,N,f,0),$!==B.check)?D:(i=be(S,N,f,f),i?(B.mode=Nt,g):(B.havedict=1,o))}s.inflateReset=jt,s.inflateReset2=_e,s.inflateResetKeep=ae,s.inflateInit=Wt,s.inflateInit2=ne,s.inflate=b,s.inflateEnd=M,s.inflateGetHeader=V,s.inflateSetDictionary=X,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,s){var l=e("../utils/common"),a=15,h=852,n=592,p=0,c=1,d=2,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(_,v,k,D,g,w,C,E){var T=E.bits,A=0,U=0,z=0,Z=0,Q=0,K=0,q=0,G=0,j=0,et=0,st,pt,J,ht,ft,Ot=null,It=0,mt,at=new l.Buf16(a+1),St=new l.Buf16(a+1),gt=null,ct=0,bt,lt,Dt;for(A=0;A<=a;A++)at[A]=0;for(U=0;U<D;U++)at[v[k+U]]++;for(Q=T,Z=a;Z>=1&&at[Z]===0;Z--);if(Q>Z&&(Q=Z),Z===0)return g[w++]=20971520,g[w++]=20971520,E.bits=1,0;for(z=1;z<Z&&at[z]===0;z++);for(Q<z&&(Q=z),G=1,A=1;A<=a;A++)if(G<<=1,G-=at[A],G<0)return-1;if(G>0&&(_===p||Z!==1))return-1;for(St[1]=0,A=1;A<a;A++)St[A+1]=St[A]+at[A];for(U=0;U<D;U++)v[k+U]!==0&&(C[St[v[k+U]]++]=U);if(_===p?(Ot=gt=C,mt=19):_===c?(Ot=y,It-=257,gt=m,ct-=257,mt=256):(Ot=F,gt=I,mt=-1),et=0,U=0,A=z,ft=w,K=Q,q=0,J=-1,j=1<<Q,ht=j-1,_===c&&j>h||_===d&&j>n)return 1;for(;;){bt=A-q,C[U]<mt?(lt=0,Dt=C[U]):C[U]>mt?(lt=gt[ct+C[U]],Dt=Ot[It+C[U]]):(lt=96,Dt=0),st=1<<A-q,pt=1<<K,z=pt;do pt-=st,g[ft+(et>>q)+pt]=bt<<24|lt<<16|Dt|0;while(pt!==0);for(st=1<<A-1;et&st;)st>>=1;if(st!==0?(et&=st-1,et+=st):et=0,U++,--at[A]===0){if(A===Z)break;A=v[k+C[U]]}if(A>Q&&(et&ht)!==J){for(q===0&&(q=Q),ft+=z,K=A-q,G=1<<K;K+q<Z&&(G-=at[K+q],!(G<=0));)K++,G<<=1;if(j+=1<<K,_===c&&j>h||_===d&&j>n)return 1;J=et&ht,g[J]=Q<<24|K<<16|ft-w|0}}return et!==0&&(g[ft+et]=A-q<<24|4194304|0),E.bits=Q,0}},{"../utils/common":41}],51:[function(e,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,s){var l=e("../utils/common"),a=4,h=0,n=1,p=2;function c(b){for(var M=b.length;--M>=0;)b[M]=0}var d=0,y=1,m=2,F=3,I=258,o=29,_=256,v=_+1+o,k=30,D=19,g=2*v+1,w=15,C=16,E=7,T=256,A=16,U=17,z=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=512,j=new Array((v+2)*2);c(j);var et=new Array(k*2);c(et);var st=new Array(G);c(st);var pt=new Array(I-F+1);c(pt);var J=new Array(o);c(J);var ht=new Array(k);c(ht);function ft(b,M,V,X,S){this.static_tree=b,this.extra_bits=M,this.extra_base=V,this.elems=X,this.max_length=S,this.has_stree=b&&b.length}var Ot,It,mt;function at(b,M){this.dyn_tree=b,this.max_code=0,this.stat_desc=M}function St(b){return b<256?st[b]:st[256+(b>>>7)]}function gt(b,M){b.pending_buf[b.pending++]=M&255,b.pending_buf[b.pending++]=M>>>8&255}function ct(b,M,V){b.bi_valid>C-V?(b.bi_buf|=M<<b.bi_valid&65535,gt(b,b.bi_buf),b.bi_buf=M>>C-b.bi_valid,b.bi_valid+=V-C):(b.bi_buf|=M<<b.bi_valid&65535,b.bi_valid+=V)}function bt(b,M,V){ct(b,V[M*2],V[M*2+1])}function lt(b,M){var V=0;do V|=b&1,b>>>=1,V<<=1;while(--M>0);return V>>>1}function Dt(b){b.bi_valid===16?(gt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)}function Bt(b,M){var V=M.dyn_tree,X=M.max_code,S=M.stat_desc.static_tree,N=M.stat_desc.has_stree,f=M.stat_desc.extra_bits,B=M.stat_desc.extra_base,$=M.stat_desc.max_length,i,P,L,u,x,O,H=0;for(u=0;u<=w;u++)b.bl_count[u]=0;for(V[b.heap[b.heap_max]*2+1]=0,i=b.heap_max+1;i<g;i++)P=b.heap[i],u=V[V[P*2+1]*2+1]+1,u>$&&(u=$,H++),V[P*2+1]=u,!(P>X)&&(b.bl_count[u]++,x=0,P>=B&&(x=f[P-B]),O=V[P*2],b.opt_len+=O*(u+x),N&&(b.static_len+=O*(S[P*2+1]+x)));if(H!==0){do{for(u=$-1;b.bl_count[u]===0;)u--;b.bl_count[u]--,b.bl_count[u+1]+=2,b.bl_count[$]--,H-=2}while(H>0);for(u=$;u!==0;u--)for(P=b.bl_count[u];P!==0;)L=b.heap[--i],!(L>X)&&(V[L*2+1]!==u&&(b.opt_len+=(u-V[L*2+1])*V[L*2],V[L*2+1]=u),P--)}}function Ut(b,M,V){var X=new Array(w+1),S=0,N,f;for(N=1;N<=w;N++)X[N]=S=S+V[N-1]<<1;for(f=0;f<=M;f++){var B=b[f*2+1];B!==0&&(b[f*2]=lt(X[B]++,B))}}function dt(){var b,M,V,X,S,N=new Array(w+1);for(V=0,X=0;X<o-1;X++)for(J[X]=V,b=0;b<1<<Z[X];b++)pt[V++]=X;for(pt[V-1]=X,S=0,X=0;X<16;X++)for(ht[X]=S,b=0;b<1<<Q[X];b++)st[S++]=X;for(S>>=7;X<k;X++)for(ht[X]=S<<7,b=0;b<1<<Q[X]-7;b++)st[256+S++]=X;for(M=0;M<=w;M++)N[M]=0;for(b=0;b<=143;)j[b*2+1]=8,b++,N[8]++;for(;b<=255;)j[b*2+1]=9,b++,N[9]++;for(;b<=279;)j[b*2+1]=7,b++,N[7]++;for(;b<=287;)j[b*2+1]=8,b++,N[8]++;for(Ut(j,v+1,N),b=0;b<k;b++)et[b*2+1]=5,et[b*2]=lt(b,5);Ot=new ft(j,Z,_+1,v,w),It=new ft(et,Q,0,k,w),mt=new ft(new Array(0),K,0,D,E)}function Nt(b){var M;for(M=0;M<v;M++)b.dyn_ltree[M*2]=0;for(M=0;M<k;M++)b.dyn_dtree[M*2]=0;for(M=0;M<D;M++)b.bl_tree[M*2]=0;b.dyn_ltree[T*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function he(b){b.bi_valid>8?gt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Vt(b,M,V,X){he(b),X&&(gt(b,V),gt(b,~V)),l.arraySet(b.pending_buf,b.window,M,V,b.pending),b.pending+=V}function Mt(b,M,V,X){var S=M*2,N=V*2;return b[S]<b[N]||b[S]===b[N]&&X[M]<=X[V]}function ut(b,M,V){for(var X=b.heap[V],S=V<<1;S<=b.heap_len&&(S<b.heap_len&&Mt(M,b.heap[S+1],b.heap[S],b.depth)&&S++,!Mt(M,X,b.heap[S],b.depth));)b.heap[V]=b.heap[S],V=S,S<<=1;b.heap[V]=X}function rt(b,M,V){var X,S,N=0,f,B;if(b.last_lit!==0)do X=b.pending_buf[b.d_buf+N*2]<<8|b.pending_buf[b.d_buf+N*2+1],S=b.pending_buf[b.l_buf+N],N++,X===0?bt(b,S,M):(f=pt[S],bt(b,f+_+1,M),B=Z[f],B!==0&&(S-=J[f],ct(b,S,B)),X--,f=St(X),bt(b,f,V),B=Q[f],B!==0&&(X-=ht[f],ct(b,X,B)));while(N<b.last_lit);bt(b,T,M)}function Zt(b,M){var V=M.dyn_tree,X=M.stat_desc.static_tree,S=M.stat_desc.has_stree,N=M.stat_desc.elems,f,B,$=-1,i;for(b.heap_len=0,b.heap_max=g,f=0;f<N;f++)V[f*2]!==0?(b.heap[++b.heap_len]=$=f,b.depth[f]=0):V[f*2+1]=0;for(;b.heap_len<2;)i=b.heap[++b.heap_len]=$<2?++$:0,V[i*2]=1,b.depth[i]=0,b.opt_len--,S&&(b.static_len-=X[i*2+1]);for(M.max_code=$,f=b.heap_len>>1;f>=1;f--)ut(b,V,f);i=N;do f=b.heap[1],b.heap[1]=b.heap[b.heap_len--],ut(b,V,1),B=b.heap[1],b.heap[--b.heap_max]=f,b.heap[--b.heap_max]=B,V[i*2]=V[f*2]+V[B*2],b.depth[i]=(b.depth[f]>=b.depth[B]?b.depth[f]:b.depth[B])+1,V[f*2+1]=V[B*2+1]=i,b.heap[1]=i++,ut(b,V,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Bt(b,M),Ut(V,$,b.bl_count)}function ue(b,M,V){var X,S=-1,N,f=M[0*2+1],B=0,$=7,i=4;for(f===0&&($=138,i=3),M[(V+1)*2+1]=65535,X=0;X<=V;X++)N=f,f=M[(X+1)*2+1],!(++B<$&&N===f)&&(B<i?b.bl_tree[N*2]+=B:N!==0?(N!==S&&b.bl_tree[N*2]++,b.bl_tree[A*2]++):B<=10?b.bl_tree[U*2]++:b.bl_tree[z*2]++,B=0,S=N,f===0?($=138,i=3):N===f?($=6,i=3):($=7,i=4))}function ae(b,M,V){var X,S=-1,N,f=M[0*2+1],B=0,$=7,i=4;for(f===0&&($=138,i=3),X=0;X<=V;X++)if(N=f,f=M[(X+1)*2+1],!(++B<$&&N===f)){if(B<i)do bt(b,N,b.bl_tree);while(--B!==0);else N!==0?(N!==S&&(bt(b,N,b.bl_tree),B--),bt(b,A,b.bl_tree),ct(b,B-3,2)):B<=10?(bt(b,U,b.bl_tree),ct(b,B-3,3)):(bt(b,z,b.bl_tree),ct(b,B-11,7));B=0,S=N,f===0?($=138,i=3):N===f?($=6,i=3):($=7,i=4)}}function jt(b){var M;for(ue(b,b.dyn_ltree,b.l_desc.max_code),ue(b,b.dyn_dtree,b.d_desc.max_code),Zt(b,b.bl_desc),M=D-1;M>=3&&b.bl_tree[q[M]*2+1]===0;M--);return b.opt_len+=3*(M+1)+5+5+4,M}function _e(b,M,V,X){var S;for(ct(b,M-257,5),ct(b,V-1,5),ct(b,X-4,4),S=0;S<X;S++)ct(b,b.bl_tree[q[S]*2+1],3);ae(b,b.dyn_ltree,M-1),ae(b,b.dyn_dtree,V-1)}function ne(b){var M=4093624447,V;for(V=0;V<=31;V++,M>>>=1)if(M&1&&b.dyn_ltree[V*2]!==0)return h;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return n;for(V=32;V<_;V++)if(b.dyn_ltree[V*2]!==0)return n;return h}var Wt=!1;function pe(b){Wt||(dt(),Wt=!0),b.l_desc=new at(b.dyn_ltree,Ot),b.d_desc=new at(b.dyn_dtree,It),b.bl_desc=new at(b.bl_tree,mt),b.bi_buf=0,b.bi_valid=0,Nt(b)}function se(b,M,V,X){ct(b,(d<<1)+(X?1:0),3),Vt(b,M,V,!0)}function At(b){ct(b,y<<1,3),bt(b,T,j),Dt(b)}function Gt(b,M,V,X){var S,N,f=0;b.level>0?(b.strm.data_type===p&&(b.strm.data_type=ne(b)),Zt(b,b.l_desc),Zt(b,b.d_desc),f=jt(b),S=b.opt_len+3+7>>>3,N=b.static_len+3+7>>>3,N<=S&&(S=N)):S=N=V+5,V+4<=S&&M!==-1?se(b,M,V,X):b.strategy===a||N===S?(ct(b,(y<<1)+(X?1:0),3),rt(b,j,et)):(ct(b,(m<<1)+(X?1:0),3),_e(b,b.l_desc.max_code+1,b.d_desc.max_code+1,f+1),rt(b,b.dyn_ltree,b.dyn_dtree)),Nt(b),X&&he(b)}function be(b,M,V){return b.pending_buf[b.d_buf+b.last_lit*2]=M>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=M&255,b.pending_buf[b.l_buf+b.last_lit]=V&255,b.last_lit++,M===0?b.dyn_ltree[V*2]++:(b.matches++,M--,b.dyn_ltree[(pt[V]+_+1)*2]++,b.dyn_dtree[St(M)*2]++),b.last_lit===b.lit_bufsize-1}s._tr_init=pe,s._tr_stored_block=se,s._tr_flush_block=Gt,s._tr_tally=be,s._tr_align=At},{"../utils/common":41}],53:[function(e,r,s){function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=l},{}],54:[function(e,r,s){(function(l){(function(a,h){if(a.setImmediate)return;var n=1,p={},c=!1,d=a.document,y;function m(E){typeof E!="function"&&(E=new Function(""+E));for(var T=new Array(arguments.length-1),A=0;A<T.length;A++)T[A]=arguments[A+1];var U={callback:E,args:T};return p[n]=U,y(n),n++}function F(E){delete p[E]}function I(E){var T=E.callback,A=E.args;switch(A.length){case 0:T();break;case 1:T(A[0]);break;case 2:T(A[0],A[1]);break;case 3:T(A[0],A[1],A[2]);break;default:T.apply(h,A);break}}function o(E){if(c)setTimeout(o,0,E);else{var T=p[E];if(T){c=!0;try{I(T)}finally{F(E),c=!1}}}}function _(){y=function(E){process.nextTick(function(){o(E)})}}function v(){if(a.postMessage&&!a.importScripts){var E=!0,T=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=T,E}}function k(){var E="setImmediate$"+Math.random()+"$",T=function(A){A.source===a&&typeof A.data=="string"&&A.data.indexOf(E)===0&&o(+A.data.slice(E.length))};a.addEventListener?a.addEventListener("message",T,!1):a.attachEvent("onmessage",T),y=function(A){a.postMessage(E+A,"*")}}function D(){var E=new MessageChannel;E.port1.onmessage=function(T){var A=T.data;o(A)},y=function(T){E.port2.postMessage(T)}}function g(){var E=d.documentElement;y=function(T){var A=d.createElement("script");A.onreadystatechange=function(){o(T),A.onreadystatechange=null,E.removeChild(A),A=null},E.appendChild(A)}}function w(){y=function(E){setTimeout(o,0,E)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(a);C=C&&C.setTimeout?C:a,{}.toString.call(a.process)==="[object process]"?_():v()?k():a.MessageChannel?D():d&&"onreadystatechange"in d.createElement("script")?g():w(),C.setImmediate=m,C.clearImmediate=F})(typeof self>"u"?typeof l>"u"?this:l:self)}).call(this,typeof ke<"u"?ke:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(je);var Qe=je.exports;class qe{load(t,e){fetch(t).then(function(r){return r.status===200||r.status===0?Promise.resolve(r.blob()):Promise.reject(new Error(r.statusText))}).then(Qe.loadAsync).then(async function(r){let s=null;const l={};for(let h in r.files){r.files[h];const n=h.split(".").pop();if(n==="ssfb"){if(s!==null){e(null,null,null,new Error("already exist ssfb file"));return}s=h}else if(n==="png"){const p=h.split(".").slice(0,-1).join(".");l[p]=await r.file(h).async("uint8array")}}let a=await r.file(s).async("uint8array");e(s,a,l,null)},function(s){e(null,null,null,s)})}}class ti{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),r={};for(let s=0;s<e;s++){const l=t.fbObj.animePacks(s),a=l.name(),h=[],n=l.animationsLength();for(let c=0;c<n;c++){const d=l.animations(c),y=d.name();y!=="Setup"&&(h[y]=d)}const p=l.partsLength();r[a]={animePack:l,animationMap:h,parts_count:p}}return r}}const Fe=30;class ei{constructor(t){this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null,this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const e=new Xe.Application({width:this.canvasWidth,height:this.canvasHeight,backgroundAlpha:0}),r=e.view;t.appendChild(r);const s=new We;e.stage.addChild(s),this.mainContainer=s,this.pixiApplication=e}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let r=new Ze(t,()=>{e.setupForLoadComplete(r)})}loadSspkg(t){const e=this;new qe().load(t,(s,l,a,h)=>{if(h!==null)return;let n=new Ze(s,l,a,()=>{e.setupForLoadComplete(n)})})}setupForLoadComplete(t){this.projectData=t,this.animePackMap=ti.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let r=!1;this.textureContainer==null&&(r=!0,this.textureContainer=new $e(this));const s=this.animePackMap[t],l=s.animePack,h=s.animationMap[e];this.currentAnimation=h,this.currentAnimePack=l,this.textureContainer.Setup(t,e);const n=h.labelDataLength();for(let p=0;p<n;p++)h.labelData(p);r&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,r=-1){this.textureContainer.SetAnimationSection(t,e,r)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),r=t.canvasPvotY();let s;switch(e){case .5:s=Fe;break;case 0:s=this.canvasWidth*.5;break;case-.5:s=this.canvasWidth-Fe;break}let l;switch(r){case .5:l=Fe;break;case 0:l=this.canvasHeight*.5;break;case-.5:l=this.canvasHeight-Fe}this.mainContainer.setPosition(s,l)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),r=t.canvasSizeW(),s=this.canvasWidth/r,l=this.canvasHeight/e;let a=null;s<l?a=s:l<s&&(a=l),this.mainContainer.setDefaultScaleRatio(a),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Oe.Player=ei,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe}({},PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI.filters,PIXI);

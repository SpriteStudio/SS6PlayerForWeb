/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.5.2
 *
 * Copyright(C) CRI Middleware Co., Ltd.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

var ss6PlayerViewer=function(Pe,wt){"use strict";const be=[5,10,15,20,25,50,75,100,150,200,300,400,800];class Be extends wt.Container{constructor(){super(),this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new wt.Graphics,e=new wt.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const r=this.position;r.x+=t,r.y+=e,this.position=r}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=be.indexOf(this.zoomPercent)+1;if(e>=be.length)return;const r=be[e];this.zoom(r)}zoomOut(){const e=be.indexOf(this.zoomPercent)-1;if(e<0)return;const r=be[e];this.zoom(r)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){t.lineStyle(1,0),t.alpha=.3,t.moveTo(-5e3,0).lineTo(5001,0),t.moveTo(0,-5e3).lineTo(0,5001),e.lineStyle(1,0),e.alpha=.1;let f=100;for(let a=-5e3;a<5001;a+=f)e.moveTo(a,-5e3).lineTo(a,5001);for(let a=-5e3;a<5001;a+=f)e.moveTo(-5e3,-a).lineTo(5001,-a)}}}class Ve{}const me=4,ve=4,St=4,ee=new Int32Array(2),Te=new Float32Array(ee.buffer),Le=new Float64Array(ee.buffer),ge=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Ee;(function(L){L[L.UTF8_BYTES=1]="UTF8_BYTES",L[L.UTF16_STRING=2]="UTF16_STRING"})(Ee||(Ee={}));class Oe{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Oe(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ee[0]=this.readInt32(t),Te[0]}readFloat64(t){return ee[ge?0:1]=this.readInt32(t),ee[ge?1:0]=this.readInt32(t+4),Le[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Te[0]=e,this.writeInt32(t,ee[0])}writeFloat64(t,e){Le[0]=e,this.writeInt32(t,ee[ge?0:1]),this.writeInt32(t+4,ee[ge?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+me+ve)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ve;e++)t+=String.fromCharCode(this.readInt8(this.position_+me+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);t+=me;const s=this.bytes_.subarray(t,t+r);return e===Ee.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+me}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ve)throw new Error("FlatBuffers: file identifier must be length "+ve);for(let e=0;e<ve;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+me+e))return!1;return!0}createScalarList(t,e){const r=[];for(let s=0;s<e;++s){const f=t(s);f!==null&&r.push(f)}return r}createObjList(t,e){const r=[];for(let s=0;s<e;++s){const f=t(s);f!==null&&r.push(f.unpack())}return r}}class tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+St),(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,r,s,f,a,c,n,m,o,_,y,v,E,F,l,d,b,x,P,g,I,C,S,N,D,V,R,j,$,G,et,W,Z,Q,at,ht,K,ot){return tt.startAnimationInitialData(t),tt.addIndex(t,e),tt.addLowflag(t,r),tt.addHighflag(t,s),tt.addPriority(t,f),tt.addCellIndex(t,a),tt.addOpacity(t,c),tt.addLocalopacity(t,n),tt.addMasklimen(t,m),tt.addPositionX(t,o),tt.addPositionY(t,_),tt.addPositionZ(t,y),tt.addPivotX(t,v),tt.addPivotY(t,E),tt.addRotationX(t,F),tt.addRotationY(t,l),tt.addRotationZ(t,d),tt.addScaleX(t,b),tt.addScaleY(t,x),tt.addLocalscaleX(t,P),tt.addLocalscaleY(t,g),tt.addSizeX(t,I),tt.addSizeY(t,C),tt.addUvMoveX(t,S),tt.addUvMoveY(t,N),tt.addUvRotation(t,D),tt.addUvScaleX(t,V),tt.addUvScaleY(t,R),tt.addBoundingRadius(t,j),tt.addInstanceValueCurKeyframe(t,$),tt.addInstanceValueStartFrame(t,G),tt.addInstanceValueEndFrame(t,et),tt.addInstanceValueLoopNum(t,W),tt.addInstanceValueSpeed(t,Z),tt.addInstanceValueLoopflag(t,Q),tt.addEffectValueCurKeyframe(t,at),tt.addEffectValueStartTime(t,ht),tt.addEffectValueSpeed(t,K),tt.addEffectValueLoopflag(t,ot),tt.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+St),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,r,s,f){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,r),Ht.addFlag2(t,s),Ht.addData(t,f),Ht.endpartState(t)}}class oe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+St),(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const r=this.bb.__offset(this.bb_pos,4);return r?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return oe.startframeDataIndex(t),oe.addStates(t,e),oe.endframeDataIndex(t)}}class ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+St),(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,r){return ie.startlabelDataItem(t),ie.addLabel(t,e),ie.addFrameIndex(t,r),ie.endlabelDataItem(t)}}class fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+St),(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return fe.startmeshDataIndices(t),fe.addIndices(t,e),fe.endmeshDataIndices(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+St),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return le.startmeshDataUV(t),le.addUv(t,e),le.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+St),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,r,s,f){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,r),Kt.addDataType(t,s),Kt.addData(t,f),Kt.enduserDataItem(t)}}class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+St),(e||new re).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,r){return re.startuserDataPerFrame(t),re.addFrameIndex(t,e),re.addData(t,r),re.enduserDataPerFrame(t)}}class pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+St),(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new oe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new re).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ie).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUv(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataUvLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new fe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUv(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataUvVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,r,s,f,a,c,n,m,o,_,y,v,E,F,l,d){return pt.startAnimationData(t),pt.addName(t,e),pt.addDefaultData(t,r),pt.addFrameData(t,s),pt.addUserData(t,f),pt.addLabelData(t,a),pt.addMeshsDataUv(t,c),pt.addMeshsDataIndices(t,n),pt.addStartFrames(t,m),pt.addEndFrames(t,o),pt.addTotalFrames(t,_),pt.addFps(t,y),pt.addLabelNum(t,v),pt.addCanvasSizeW(t,E),pt.addCanvasSizeH(t,F),pt.addCanvasPvotX(t,l),pt.addCanvasPvotY(t,d),pt.endAnimationData(t)}}var It=(L=>(L[L.Invalid=-1]="Invalid",L[L.Nulltype=0]="Nulltype",L[L.Normal=1]="Normal",L[L.Text=2]="Text",L[L.Instance=3]="Instance",L[L.Armature=4]="Armature",L[L.Effect=5]="Effect",L[L.Mesh=6]="Mesh",L[L.Movenode=7]="Movenode",L[L.Constraint=8]="Constraint",L[L.Mask=9]="Mask",L[L.Joint=10]="Joint",L[L.Bonepoint=11]="Bonepoint",L))(It||{});class Ot{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Ot).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+St),(e||new Ot).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):It.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,It.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,r,s,f,a,c,n,m,o,_){return Ot.startPartData(t),Ot.addName(t,e),Ot.addIndex(t,r),Ot.addParentIndex(t,s),Ot.addType(t,f),Ot.addBoundsType(t,a),Ot.addAlphaBlendType(t,c),Ot.addRefname(t,n),Ot.addEffectfilename(t,m),Ot.addColorLabel(t,o),Ot.addMaskInfluence(t,_),Ot.endPartData(t)}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+St),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,r,s){return $t.startAnimePackData(t),$t.addName(t,e),$t.addParts(t,r),$t.addAnimations(t,s),$t.endAnimePackData(t)}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+St),(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,r,s,f,a){return Xt.startCellMap(t),Xt.addName(t,e),Xt.addImagePath(t,r),Xt.addIndex(t,s),Xt.addWrapmode(t,f),Xt.addFiltermode(t,a),Xt.endCellMap(t)}}class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+St),(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Xt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Lt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+St),(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}behaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}behaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}behaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}behavior(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}behaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,r,s,f,a,c,n,m){return Lt.startEffectNode(t),Lt.addArrayIndex(t,e),Lt.addParentIndex(t,r),Lt.addType(t,s),Lt.addCellIndex(t,f),Lt.addBlendType(t,a),Lt.addNumBehavior(t,c),Lt.addBehaviorType(t,n),Lt.addBehavior(t,m),Lt.endEffectNode(t)}}class zt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new zt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+St),(e||new zt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?(e||new Lt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,r,s,f,a,c,n,m){return zt.startEffectFile(t),zt.addName(t,e),zt.addFps(t,r),zt.addIsLockRandSeed(t,s),zt.addLockRandSeed(t,f),zt.addLayoutScaleX(t,a),zt.addLayoutScaleY(t,c),zt.addNumNodeList(t,n),zt.addEffectNode(t,m),zt.endEffectFile(t)}}var it=(L=>(L[L.INVISIBLE=1]="INVISIBLE",L[L.FLIP_H=2]="FLIP_H",L[L.FLIP_V=4]="FLIP_V",L[L.CELL_INDEX=8]="CELL_INDEX",L[L.POSITION_X=16]="POSITION_X",L[L.POSITION_Y=32]="POSITION_Y",L[L.POSITION_Z=64]="POSITION_Z",L[L.PIVOT_X=128]="PIVOT_X",L[L.PIVOT_Y=256]="PIVOT_Y",L[L.ROTATIONX=512]="ROTATIONX",L[L.ROTATIONY=1024]="ROTATIONY",L[L.ROTATIONZ=2048]="ROTATIONZ",L[L.SCALE_X=4096]="SCALE_X",L[L.SCALE_Y=8192]="SCALE_Y",L[L.LOCALSCALE_X=16384]="LOCALSCALE_X",L[L.LOCALSCALE_Y=32768]="LOCALSCALE_Y",L[L.OPACITY=65536]="OPACITY",L[L.LOCALOPACITY=131072]="LOCALOPACITY",L[L.PARTS_COLOR=262144]="PARTS_COLOR",L[L.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",L[L.SIZE_X=1048576]="SIZE_X",L[L.SIZE_Y=2097152]="SIZE_Y",L[L.U_MOVE=4194304]="U_MOVE",L[L.V_MOVE=8388608]="V_MOVE",L[L.UV_ROTATION=16777216]="UV_ROTATION",L[L.U_SCALE=33554432]="U_SCALE",L[L.V_SCALE=67108864]="V_SCALE",L[L.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",L[L.MASK=268435456]="MASK",L[L.PRIORITY=536870912]="PRIORITY",L[L.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",L[L.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",L))(it||{}),ze=(L=>(L[L.MESHDATA=1]="MESHDATA",L))(ze||{});class Dt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Dt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+St),(e||new Dt).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new $t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new zt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,r,s,f,a,c,n,m,o,_){return Dt.startProjectData(t),Dt.addDataId(t,e),Dt.addVersion(t,r),Dt.addFlags(t,s),Dt.addImageBaseDir(t,f),Dt.addCells(t,a),Dt.addAnimePacks(t,c),Dt.addEffectFileList(t,n),Dt.addNumCells(t,m),Dt.addNumAnimePacks(t,o),Dt.addNumEffectFileList(t,_),Dt.endProjectData(t)}}class je{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class Ne{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,r){return t.prep(4,8),t.writeInt32(r),t.writeInt32(e),t.offset()}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,r,s,f){return t.prep(4,16),t.writeInt32(f),t.writeInt32(s),t.writeInt32(r),t.writeInt32(e),t.offset()}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+St),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,r){return Qt.startuserDataString(t),Qt.addLength(t,e),Qt.addData(t,r),Qt.enduserDataString(t)}}let Ze=class{static getProjectData(t){const e=new Oe(t);return Dt.getRootAsProjectData(e)}};class De{static getProjectData(t){return Ze.getProjectData(t)}}let ce=class{constructor(t,e=null,r=null){this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this._animePackIdx=-1,this._parentIndex=[],this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),t.hasOwnProperty("bb")?this._fbObj=t:this._fbObj=De.getProjectData(t),e!==null&&r!==null&&this.Setup(e,r)}get fbObj(){return this._fbObj}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}get animePackIdx(){return this._animePackIdx}get animePackData(){return this.curAnimePackData}get animationData(){return this.curAnimation}get parentIndex(){return this._parentIndex}get prio2index(){return this._prio2index}Setup(t,e){this.clearCaches();const r=this._fbObj.animePacksLength();let s=!1;for(let f=0;f<r;f++)if(this._fbObj.animePacks(f).name()===t){let a;const c=this._fbObj.animePacks(f).animationsLength();for(a=0;a<c;a++)if(this._fbObj.animePacks(f).animations(a).name()===e){this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this._fbObj.animePacks(f),this.curAnimation=this.curAnimePackData.animations(a),s=!0;break}if(!s)continue;const n=this.curAnimation.defaultDataLength();for(let o=0;o<n;o++){const _=this.curAnimation.defaultData(o);this.defaultFrameMap[_.index()]=_}this._animePackIdx=f;const m=this.curAnimePackData.partsLength();for(this._parentIndex=new Array(m),a=0;a<m;a++){const o=this.curAnimePackData.parts(a).index();this._parentIndex[o]=this._fbObj.animePacks(f).parts(a).parentIndex()}}if(!s)throw Error("not found animePackName: "+t+" animeName: "+e)}clearCaches(){this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[]}HaveUserData(t){if(this.userData[t]===null)return!1;if(this.userData[t]!==void 0)return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=null,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],r=e.dataLength();let s=0,f=[];for(let a=0;a<r;a++){const c=e.data(a).flags(),n=e.data(a).arrayIndex();let m=null,o=null,_=null,y=null,v=null,E=null,F=null,l=null,d=null;c&1&&(m=e.data(a).data(s,new je).integer(),s++),c&2&&(o=e.data(a).data(s,new xe).x(),_=e.data(a).data(s,new xe).y(),y=e.data(a).data(s,new xe).w(),v=e.data(a).data(s,new xe).h(),s++),c&4&&(E=e.data(a).data(s,new Ne).x(),F=e.data(a).data(s,new Ne).y(),s++),c&8&&(l=e.data(a).data(s,new Qt).length(),d=e.data(a).data(s,new Qt).data(),s++),f.push([n,c,m,o,_,y,v,E,F,l,d])}return f}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let r=new Array(e);this._prio2index=new Array(e);const s=this.curAnimation.frameData(t);for(let f=0;f<e;f++){const a=s.states(f),c=a.index();let n=a.flag1(),m=a.flag2(),o=this.GetDefaultDataByIndex(c);o.flag1=n,o.flag2=m;let _=0;if(n&it.INVISIBLE&&(o.f_hide=!0),n&it.FLIP_H&&(o.f_flipH=!0),n&it.FLIP_V&&(o.f_flipV=!0),n&it.CELL_INDEX&&(o.cellIndex=a.data(_++)),n&it.POSITION_X&&(o.positionX=this.I2F(a.data(_++))),n&it.POSITION_Y&&(o.positionY=this.I2F(a.data(_++))),n&it.POSITION_Z&&_++,n&it.PIVOT_X&&(o.pivotX=this.I2F(a.data(_++))),n&it.PIVOT_Y&&(o.pivotY=this.I2F(a.data(_++))),n&it.ROTATIONX&&_++,n&it.ROTATIONY&&_++,n&it.ROTATIONZ&&(o.rotationZ=this.I2F(a.data(_++))),n&it.SCALE_X&&(o.scaleX=this.I2F(a.data(_++))),n&it.SCALE_Y&&(o.scaleY=this.I2F(a.data(_++))),n&it.LOCALSCALE_X&&(o.localscaleX=this.I2F(a.data(_++))),n&it.LOCALSCALE_Y&&(o.localscaleY=this.I2F(a.data(_++))),n&it.OPACITY&&(o.opacity=a.data(_++)),n&it.LOCALOPACITY&&(o.localopacity=a.data(_++)),n&it.SIZE_X&&(o.size_X=this.I2F(a.data(_++))),n&it.SIZE_Y&&(o.size_Y=this.I2F(a.data(_++))),n&it.U_MOVE&&(o.uv_move_X=this.I2F(a.data(_++))),n&it.V_MOVE&&(o.uv_move_Y=this.I2F(a.data(_++))),n&it.UV_ROTATION&&(o.uv_rotation=this.I2F(a.data(_++))),n&it.U_SCALE&&(o.uv_scale_X=this.I2F(a.data(_++))),n&it.V_SCALE&&(o.uv_scale_Y=this.I2F(a.data(_++))),n&it.BOUNDINGRADIUS&&_++,n&it.MASK&&(o.masklimen=a.data(_++)),n&it.PRIORITY&&(o.priority=a.data(_++)),n&it.INSTANCE_KEYFRAME&&(o.instanceValue_curKeyframe=a.data(_++),o.instanceValue_startFrame=a.data(_++),o.instanceValue_endFrame=a.data(_++),o.instanceValue_loopNum=a.data(_++),o.instanceValue_speed=this.I2F(a.data(_++)),o.instanceValue_loopflag=a.data(_++)),n&it.EFFECT_KEYFRAME&&(o.effectValue_curKeyframe=a.data(_++),o.effectValue_startTime=a.data(_++),o.effectValue_speed=this.I2F(a.data(_++)),o.effectValue_loopflag=a.data(_++)),n&it.VERTEX_TRANSFORM){o.f_mesh=!0;const y=o.i_transformVerts=a.data(_++);y&1&&(o.u00=this.I2F(a.data(_++)),o.v00=this.I2F(a.data(_++))),y&2&&(o.u01=this.I2F(a.data(_++)),o.v01=this.I2F(a.data(_++))),y&4&&(o.u10=this.I2F(a.data(_++)),o.v10=this.I2F(a.data(_++))),y&8&&(o.u11=this.I2F(a.data(_++)),o.v11=this.I2F(a.data(_++)))}if(n&it.PARTS_COLOR){const y=a.data(_++);if(o.colorBlendType=y&255,o.useColorMatrix=o.colorBlendType!==1,y&4096){o.colorRate=this.I2F(a.data(_++));const v=a.data(_++),E=a.data(_++);o.colorArgb32=v<<16|E,o.partsColorARGB=o.colorArgb32>>>0,o.colorBlendType===1&&(o.tint=o.colorArgb32&16777215)}}if(m&ze.MESHDATA){const y=this.curAnimation.meshsDataUv(c);o.meshIsBind=y.uv(0),o.meshNum=y.uv(1);let v=new Float32Array(o.meshNum*3);for(let E=0;E<o.meshNum;E++){const F=this.I2F(a.data(_++)),l=this.I2F(a.data(_++)),d=this.I2F(a.data(_++));v[E*3+0]=F,v[E*3+1]=l,v[E*3+2]=d}o.meshDataPoint=v}r[c]=o,this._prio2index[f]=c,this.curAnimePackData.parts(c).type()===0&&(r[c].cellIndex=-2)}return this.frameDataCache=r,this.currentCachedFrameNumber=t,r}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];let r=new Ve;return r.index=e.index(),r.lowflag=e.lowflag(),r.highflag=e.highflag(),r.priority=e.priority(),r.cellIndex=e.cellIndex(),r.opacity=e.opacity(),r.localopacity=e.localopacity(),r.masklimen=e.masklimen(),r.positionX=e.positionX(),r.positionY=e.positionY(),r.pivotX=e.pivotX(),r.pivotY=e.pivotY(),r.rotationX=e.rotationX(),r.rotationY=e.rotationY(),r.rotationZ=e.rotationZ(),r.scaleX=e.scaleX(),r.scaleY=e.scaleY(),r.localscaleX=e.localscaleX(),r.localscaleY=e.localscaleY(),r.size_X=e.sizeX(),r.size_Y=e.sizeY(),r.uv_move_X=e.uvMoveX(),r.uv_move_Y=e.uvMoveY(),r.uv_rotation=e.uvRotation(),r.uv_scale_X=e.uvScaleX(),r.uv_scale_Y=e.uvScaleY(),r.boundingRadius=e.boundingRadius(),r.instanceValue_curKeyframe=e.instanceValueCurKeyframe(),r.instanceValue_endFrame=e.instanceValueEndFrame(),r.instanceValue_startFrame=e.instanceValueStartFrame(),r.instanceValue_loopNum=e.instanceValueLoopNum(),r.instanceValue_speed=e.instanceValueSpeed(),r.instanceValue_loopflag=e.instanceValueLoopflag(),r.effectValue_curKeyframe=e.effectValueCurKeyframe(),r.effectValue_startTime=e.effectValueStartTime(),r.effectValue_speed=e.effectValueSpeed(),r.effectValue_loopflag=e.effectValueLoopflag(),r.f_hide=!1,r.f_flipH=!1,r.f_flipV=!1,r.f_mesh=!1,r.i_transformVerts=0,r.u00=0,r.v00=0,r.u01=0,r.v01=0,r.u10=0,r.v10=0,r.u11=0,r.v11=0,r.useColorMatrix=!1,r.colorBlendType=0,r.colorRate=0,r.colorArgb32=0,r.meshIsBind=0,r.meshNum=0,r.meshDataPoint=null,r.flag1=0,r.flag2=0,r.partsColorARGB=0,r}InheritOpacity(t,e,r){return t=this.GetFrameData(r)[e].opacity/255,this._parentIndex[e]>=0&&(t=this.InheritOpacity(t,this._parentIndex[e],r)),t}TransformVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),c=Math.sin(f);for(let n=0;n<t.length/2;n++){let m=t[n*2],o=t[n*2+1];s.i_transformVerts&1&&n===1&&(m+=s.u00,o-=s.v00),s.i_transformVerts&2&&n===2&&(m+=s.u01,o-=s.v01),s.i_transformVerts&4&&n===3&&(m+=s.u10,o-=s.v10),s.i_transformVerts&8&&n===4&&(m+=s.u11,o-=s.v11),m*=s.scaleX*s.localscaleX,o*=s.scaleY*s.localscaleY,t[n*2]=a*m-c*o+s.positionX,t[n*2+1]=c*m+a*o-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformMeshVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),c=Math.sin(f);for(let n=0;n<t.length/2;n++){let m=t[n*2],o=t[n*2+1];m*=s.scaleX*s.localscaleX,o*=s.scaleY*s.localscaleY,t[n*2]=a*m-c*o+s.positionX,t[n*2+1]=c*m+a*o-s.positionY}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPositionLocal(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const f=-s.rotationZ*Math.PI/180,a=Math.cos(f),c=Math.sin(f),n=t[0]*s.scaleX*s.localscaleX,m=t[1]*s.scaleY*s.localscaleY;return t[2]*=s.scaleX*s.localscaleX,t[3]*=s.scaleY*s.localscaleY,t[0]=a*n-c*m+s.positionX,t[1]=c*n+a*m-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static CoordinateGetDiagonalIntersection(t,e,r,s,f,a,c,n,m,o,_){const y=(n-a)*(c-r)-(c-f)*(n-s),v=(m-r)*(n-s)-(o-s)*(c-r),E=(m-r)*(n-a)-(o-s)*(c-f);if(E<=0&&E>=0)return _;const F=y/E,l=v/E;return 0<=F&&1>=F&&0<=l&&1>=l&&(t=r+F*(m-r),e=s+F*(o-s)),_[0]=t,_[1]=e,_}TransformVerts(t,e,r){const s=this.GetFrameData(r)[e],f=-s.rotationZ*Math.PI/180,a=Math.cos(f),c=Math.sin(f);for(let n=0;n<t.length/2;n++){let m=t[n*2],o=t[n*2+1];m*=s.scaleX,o*=s.scaleY,t[n*2]=a*m-c*o+s.positionX,t[n*2+1]=c*m+a*o-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPosition(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const f=-s.rotationZ*Math.PI/180,a=Math.cos(f),c=Math.sin(f),n=t[0]*s.scaleX,m=t[1]*s.scaleY;return t[2]*=s.scaleX,t[3]*=s.scaleY,t[0]=a*n-c*m+s.positionX,t[1]=c*n+a*m-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static GetVerts(t,e,r){const s=e.size_X/2,f=e.size_Y/2,a=e.size_X*-(e.pivotX+t.pivotX()),c=e.size_Y*(e.pivotY+t.pivotY());return r.set([a,c,a-s,c-f,a+s,c-f,a-s,c+f,a+s,c+f]),r}static GetMeshVerts(t,e,r){for(let s=0;s<e.meshNum;s++)r[s*2]=e.meshDataPoint[s*3],r[s*2+1]=-e.meshDataPoint[s*3+1];return r}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}};class Ye{constructor(){}load(t,e,r){wt.Assets.addBundle(t,e),wt.Assets.loadBundle(t).then(()=>{r!==null&&r(null)}).catch(s=>{r!==null&&r(s)})}unload(t,e,r){wt.Assets.unloadBundle(t).then(()=>{r!==null&&r(null)}).catch(s=>{r!==null&&r(s)})}texture(t){return wt.Assets.get(t)}}class Xe{constructor(){this.loader=new Ye}load(t,e,r){return this.loader.load(t,e,r)}unload(t,e,r=null){return this.loader.unload(t,e,r)}texture(t){return this.loader.texture(t)}}class Re{constructor(t,e,r,s){if(this.sspjMap={},this.resourceLoader=new Xe,typeof t=="string"&&r===void 0){let f=t;this.ssfbPath=f;const a=f.lastIndexOf("/");this.rootPath=f.substring(0,a)+"/",this.ssfbFile=f.substring(a+1),this.onComplete=e===void 0?null:e,this.status=0,this.LoadFlatBuffersProject()}else if(typeof e=="object"&&e.constructor===Uint8Array){this.ssfbPath=null,this.rootPath=null,this.ssfbFile=t;let f=e,a=r;this.onComplete=s===void 0?null:s,this.load(f,a)}}getBundle(){return this.ssfbFile}getTexture(t){return this.resourceLoader.texture(t)}dispose(t=null){this.resourceLoader.unload(this.getBundle(),this.sspjMap,e=>{t!==null&&t()})}LoadFlatBuffersProject(){const t=this;fetch(this.ssfbPath,{method:"get"}).then(e=>e.ok?Promise.resolve(e.arrayBuffer()):Promise.reject(new Error(e.statusText))).then(e=>{t.fbObj=De.getProjectData(new Uint8Array(e)),t.LoadCellResources()}).catch(e=>{this.onComplete!==null&&this.onComplete(null,e)})}LoadCellResources(){let t=[];this.sspjMap={};for(let r=0;r<this.fbObj.cellsLength();r++){const s=this.fbObj.cells(r).cellMap(),f=s.index();if(!t.some(function(a){return a===f})){t.push(f);const a=s.name();this.sspjMap[a]=this.rootPath+s.imagePath()}}const e=this;this.resourceLoader.load(this.getBundle(),this.sspjMap,r=>{r===null?(e.status=1,e.onComplete!==null&&e.onComplete(this,null)):this.onComplete!==null&&this.onComplete(null,r)})}load(t,e){this.fbObj=De.getProjectData(t);let r={};for(let f in e){const a=e[f];let c="";const n=a.byteLength;for(let m=0;m<n;m++)c+=String.fromCharCode(a[m]);r[f]="data:image/png;base64,"+btoa(c)}const s=this;this.resourceLoader.load(this.getBundle(),r,f=>{f===null?(s.status=1,s.onComplete!==null&&s.onComplete(this,null)):this.onComplete!==null&&this.onComplete(null,f)})}}class We{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class we extends wt.Container{constructor(t,e=null,r=null){super(),this.liveFrame=[],this.colorMatrixFilterCache=[],this.parentAlpha=1,this.prevCellID=[],this.prevPartObject=[],this.changeCellID=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this.defaultColorFilter=new wt.ColorMatrixFilter,this._instancePos=new Float32Array(5),this._CoordinateGetDiagonalIntersectionVec2=new Float32Array(2),this.isRenderGroup=!0,this.ss6project=t,this.playerLib=new ce(t.fbObj,e,r),this.parentAlpha=1,e!==null&&r!==null&&this.Setup(e,r),this.on("added",(...s)=>{wt.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...s)=>{wt.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this._endFrame}get totalFrame(){return this.playerLib.animationData.totalFrames()}get fps(){return this.playerLib.animationData.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.playerLib.animePackName}get animeName(){return this.playerLib.animeName}Setup(t,e){this.playerLib.Setup(t,e),this.clearCaches();const r=this.playerLib.animePackData,s=r.partsLength();this.prevCellID=new Array(s),this.prevPartObject=new Array(s),this.changeCellID=new Array(s),this.substituteOverWrite=new Array(s),this.substituteKeyParam=new Array(s);for(let f=0;f<s;f++){const a=r.parts(f).index();this.prevCellID[a]=-1,this.prevPartObject[a]=null,this.changeCellID[a]=-1,this.substituteOverWrite[a]=null,this.substituteKeyParam[a]=null}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.playerLib.animationData.startFrames(),this._endFrame=this.playerLib.animationData.endFrames(),this._currentFrame=this.playerLib.animationData.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.playerLib.animationData.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.liveFrame=[],this.colorMatrixFilterCache=[]}Update(t){this.UpdateInternal(t.deltaMS)}UpdateInternal(t,e=!0){const r=t;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=r,this.nextFrameTime>=this.updateInterval){let f=!1;const a=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*a;let c=this.skipEnabled?a*this.playDirection:this.playDirection,n=this._currentFrame+c,m=Math.floor(n),o=n-m,_=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let y=m-_;y;y--){let v=_+1;if(v>this._endFrame)if(this._loops===-1)v=this._startFrame;else if(this._loops--,f=!0,this._loops===0){this._isPlaying=!1,v=e?this._startFrame:this._endFrame;break}else v=this._startFrame;_=v,this._isPlaying&&this.playerLib.HaveUserData(_)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(_))}if(this.playDirection<=-1)for(let y=_-m;y;y--){let v=_-1;if(v<this._startFrame)if(this._loops===-1)v=this._endFrame;else if(this._loops--,f=!0,this._loops===0){this._isPlaying=!1,v=e?this._endFrame:this._startFrame;break}else v=this._endFrame;_=v,this._isPlaying&&this.playerLib.HaveUserData(_)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(_))}this._currentFrame=_+o,f&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),a)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.playerLib.animationData.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,r=-1){t>=0&&t<this.playerLib.animationData.totalFrames()&&(this._startFrame=t),e>=0&&e<this.playerLib.animationData.totalFrames()&&(this._endFrame=e),r>0?this._loops=r:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const r=Math.floor(this._currentFrame);this.SetFrameAnimation(r),this.playerLib.HaveUserData(r)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(r))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}getCellIndex(t,e){let r=-1;if(t!==""&&e!==""){const s=this.playerLib.fbObj,f=this.playerLib.fbObj.numCells();for(let a=0;a<f;a++){const c=s.cells(a),n=c.name(),o=c.cellMap().name();if(e===n&&t===o){r=a;break}}}return r}getPartIndexFromName(t){const e=this.playerLib.animePackData,r=e.partsLength();let s=-1;for(let f=0;f<r;f++){const a=e.parts(f),c=a.index();if(a.name()===t){s=c;break}}return s}SetPartCell(t,e,r){if(this.playerLib.animationData){const s=this.getCellIndex(e,r),f=this.getPartIndexFromName(t);f!==-1&&(this.changeCellID[f]=s)}}GetPartsBlendMode(){const t=this.playerLib.animePackData,e=t.partsLength();let r=[];for(let s=0;s<e;s++){const f=t.parts(s).alphaBlendType();let a;switch(f){case 0:a="normal";break;case 1:a="multiply";break;case 2:a="add";break;case 3:a="subtract";break;case 4:a="multiply";break;case 5:a="screen";break;case 6:a="exclusion";break;case 7:a="normal";break;default:a="subtract";break}r.push(a)}return r}GetColorMatrixFilter(t,e,r){const s=t.toString()+"_"+e.toString()+"_"+r.toString();if(this.colorMatrixFilterCache[s])return this.colorMatrixFilterCache[s];const f=new wt.ColorMatrixFilter,a=((r&4278190080)>>>24)/255,c=((r&16711680)>>>16)/255,n=((r&65280)>>>8)/255,m=(r&255)/255;if(t===0){const o=1-e;f.matrix=[o,0,0,0,c*e,0,o,0,0,n*e,0,0,o,0,m*e,0,0,0,1,0]}else t===1?f.matrix=[c,0,0,0,0,0,n,0,0,0,0,0,m,0,0,0,0,0,a,0]:t===2?f.matrix=[1,0,0,0,c,0,1,0,0,n,0,0,1,0,m,0,0,0,a,0]:t===3&&(f.matrix=[1,0,0,0,-c,0,1,0,0,-n,0,0,1,0,-m,0,0,0,a,0]);return this.colorMatrixFilterCache[s]=f,f}SetFrameAnimation(t,e=0){const r=this.playerLib.GetFrameData(t);this.removeChildren();const s=r.length;for(let f=0;f<s;f=f+1|0){const a=this.playerLib.prio2index[f],c=r[a],n=c.cellIndex,m=this.changeCellID[a]!==-1?this.changeCellID[a]:n;let o=this.prevPartObject[a];const _=this.playerLib.animePackData.parts(a),y=_.type();let v=this.substituteOverWrite[a]!==null?this.substituteOverWrite[a]:!1,E=this.substituteKeyParam[a];switch(y){case It.Instance:o==null&&(o=this.MakeCellPlayer(_.refname()),o.label=_.name());break;case It.Normal:case It.Mask:m>=0&&this.prevCellID[a]!==m&&(o?.destroy(),o=this.MakeCellMesh(m),o.label=_.name());break;case It.Mesh:m>=0&&this.prevCellID[a]!==m&&(o?.destroy(),o=this.MakeMeshCellMesh(a,m,n),o.label=_.name());break;case It.Nulltype:case It.Joint:this.prevCellID[a]!==m&&(o?.destroy(),o=new wt.Container,o.label=_.name());break;default:m>=0&&this.prevCellID[a]!==m&&(o?.destroy(),o=this.MakeCellMesh(m),o.label=_.name());break}if(o!=null)switch(this.prevCellID[a]=m,this.prevPartObject[a]=o,y){case It.Instance:{const F=o;this._instancePos[0]=0,this._instancePos[1]=0,this._instancePos[2]=1,this._instancePos[3]=1,this._instancePos[4]=0,this._instancePos=this.playerLib.TransformPositionLocal(this._instancePos,c.index,t),F.rotation=this._instancePos[4]*Math.PI/180,F.position.set(this._instancePos[0],this._instancePos[1]),F.scale.set(this._instancePos[2],this._instancePos[3]);let l=c.opacity/255;c.localopacity<255&&(l=c.localopacity/255),F.SetAlpha(l*this.parentAlpha),F.visible=!c.f_hide;let d=c.instanceValue_curKeyframe,b=c.instanceValue_startFrame,x=c.instanceValue_endFrame,P=c.instanceValue_speed,g=c.instanceValue_loopNum,I=!1,C=!1,S=!1,N=!1;const D=1,V=2,R=4,j=8,$=c.instanceValue_loopflag;$&D&&(I=!0),$&V&&(C=!0),$&R&&(S=!0),$&j&&(N=!0),v&&(b=E.refStartframe,x=E.refEndframe,P=E.refSpeed,g=E.refloopNum,I=E.infinity,C=E.reverse,S=E.pingpong,N=E.independent),(F._startFrame!==b||F._endFrame!==x)&&F.SetAnimationSection(b,x);let G=t;N===!0&&(this.liveFrame[f]+=e,G=Math.floor(this.liveFrame[f]));const et=d;let W=Math.floor((G-et)*P);if(W<0||et>G)continue;const Z=x-b+1;if(Z<=0)continue;let Q=Math.floor(W/Z),at=g;S&&(at=at*2),I||Q>=at&&(W=Z-1,Q=at-1);const ht=Math.floor(W%Z);let K=0;S&&Q%2===1&&(C?C=!1:C=!0),this.playDirection<=-1&&(C=!C),C?K=x-ht:K=ht+b,F.SetFrame(Math.floor(K)),this.addChild(F);break}case It.Normal:case It.Mesh:case It.Joint:case It.Mask:{const F=o,l=F.geometry.attributes.aPosition.buffer;let d=l.data;const b=this.playerLib.fbObj.cells(m);let x;if(y===It.Mesh?c.meshIsBind===0?x=this.playerLib.TransformMeshVertsLocal(ce.GetMeshVerts(b,c,d),c.index,t):x=ce.GetMeshVerts(b,c,d):(x=y===It.Joint?new Float32Array(10):d,x=this.playerLib.TransformVertsLocal(ce.GetVerts(b,c,x),c.index,t)),c.flag1&it.VERTEX_TRANSFORM){const S=x[6],N=x[3*2+1],D=x[1*2+0],V=x[1*2+1],R=x[4*2+0],j=x[4*2+1],$=x[2*2+0],G=x[2*2+1],et=(S+R)*.5,W=(N+j)*.5,Z=(S+D)*.5,Q=(N+V)*.5,at=(D+$)*.5,ht=(V+G)*.5,K=(R+$)*.5,ot=(j+G)*.5,nt=ce.CoordinateGetDiagonalIntersection(x[0],x[1],et,W,K,ot,Z,Q,at,ht,this._CoordinateGetDiagonalIntersectionVec2);x[0]=nt[0],x[1]=nt[1]}const P=x[0],g=x[1];for(let S=0;S<x.length/2;S++)x[S*2]-=P,x[S*2+1]-=g;if(d=x,l.update(),c.flag1&it.U_MOVE||c.flag1&it.V_MOVE||c.flag1&it.U_SCALE||c.flag1&it.V_SCALE||c.flag1&it.UV_ROTATION){const S=b.u1()+c.uv_move_X,N=b.u2()+c.uv_move_X,D=b.v1()+c.uv_move_Y,V=b.v2()+c.uv_move_Y,R=(N+S)/2,j=(V+D)/2,$=(N-S)/2*c.uv_scale_X,G=(V-D)/2*c.uv_scale_Y,et=F.geometry.attributes.aUV.buffer;let W=F.geometry.uvs;if(W[0]=R,W[1]=j,W[2]=R-$,W[3]=j-G,W[4]=R+$,W[5]=j-G,W[6]=R-$,W[7]=j+G,W[8]=R+$,W[9]=j+G,c.flag1&it.UV_ROTATION){const Z=c.uv_rotation*Math.PI/180;for(let Q=0;Q<5;Q++){const at=W[Q*2+0]-R,ht=W[Q*2+1]-j,K=Math.cos(Z),ot=Math.sin(Z),nt=K*at-ot*ht,kt=ot*at+K*ht;W[Q*2+0]=R+nt,W[Q*2+1]=j+kt}}et.update()}F.position.set(P,g);let I=c.opacity/255;if(c.localopacity<255&&(I=c.localopacity/255),F.alpha=I*this.parentAlpha,F.visible=!c.f_hide,c.useColorMatrix){const S=this.GetColorMatrixFilter(c.colorBlendType,c.colorRate,c.colorArgb32);F.filters=[S]}if(c.tint){F.tint=c.tint;const S=((c.partsColorARGB&4278190080)>>>24)/255;F.alpha=F.alpha*S}const C=this.alphaBlendType[a];(C==="multiply"||C==="screen")&&(F.alpha=1),y!==It.Mask&&this.addChild(F);break}case It.Nulltype:{const F=o,l=this.playerLib.InheritOpacity(1,c.index,t);F.alpha=l*c.localopacity/255;const d=this.playerLib.TransformVerts(ce.GetDummyVerts(),c.index,t),b=d[0],x=d[1];F.position.set(b,x);const P=Math.atan2(d[5]-d[3],d[4]-d[2]),g=Math.atan2(d[7]-d[3],d[6]-d[2]);F.rotation=P,F.skew.x=g-P-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,r,s,f=null){let a=!1;if(this.animePackName!==null&&this.animeName!==null){let c=this.playerLib.animePackData,n=c.partsLength();for(let m=0;m<n;m++){let o=c.parts(m);if(o.name()===t){let _=this.prevPartObject[m];if(_===null||_ instanceof we){this.substituteOverWrite[m]=s;let y;f!==null?(y=f,_=this.MakeCellPlayer(e+"/"+r,f.refStartframe)):(_=this.MakeCellPlayer(e+"/"+r),y=new We,y.refStartframe=_.startFrame,y.refEndframe=_.endFrame),_.label=o.name(),this.prevPartObject[m]=_,this.substituteKeyParam[m]=y,a=!0;break}}}}return a}MakeCellMesh(t){const e=this.playerLib.fbObj.cells(t),r=e.u1(),s=e.u2(),f=e.v1(),a=e.v2(),c=e.width()/2,n=e.height()/2,m=new Float32Array([0,0,-c,-n,c,-n,-c,n,c,n]),o=new Float32Array([(r+s)/2,(f+a)/2,r,f,s,f,r,a,s,a]),_=new Uint32Array([0,1,2,0,2,4,0,4,3,0,1,3]),y=new wt.MeshGeometry({positions:m,uvs:o,indices:_,topology:"triangle-list"});return new wt.Mesh({geometry:y,texture:this.ss6project.getTexture(e.cellMap().name())})}MakeMeshCellMesh(t,e,r){const s=this.playerLib.animationData.meshsDataUv(t),f=s.uvLength();if(f>0){const a=this.playerLib.fbObj.cells(e),c=this.playerLib.fbObj.cells(r),n=e===r?0:(a.u1()+a.u2())/2-(c.u1()+c.u2())/2,m=e===r?0:(a.v1()+a.v2())/2-(c.v1()+c.v2())/2,o=new Float32Array(f-2),_=s.uv(1);for(let d=2;d<f;d++)o[d-2]=s.uv(d)+(d%2===0?n:m);const y=this.playerLib.animationData.meshsDataIndices(t),v=y.indicesLength(),E=new Uint32Array(v-1);for(let d=1;d<v;d++)E[d-1]=y.indices(d);const F=new Float32Array(_*2),l=new wt.MeshGeometry({positions:F,uvs:o,indices:E,topology:"triangle-list"});return new wt.Mesh({geometry:l,texture:this.ss6project.getTexture(this.playerLib.fbObj.cells(e).cellMap().name())})}return null}MakeCellPlayer(t,e=void 0){const r=t.split("/"),s=new we(this.ss6project);return s.Setup(r[0],r[1]),s.Play(e),s}resetLiveFrame(){const t=this.playerLib.animationData.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class He extends we{constructor(t){super(t.projectData),this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let r=this;this.playEndCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.playEndCallback&&r.ssWebPlayer.playEndCallback(r)},this.onUserDataCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.onUpdateCallback&&r.ssWebPlayer.onUpdateCallback(r)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.playerLib.animationData;let e={};const r=t.userDataLength();for(let s=0;s<r;s++){const a=t.userData(s).frameIndex();let c=e[a];c==null&&(c={});const n=this.playerLib.GetUserData(a);let m={};const o=n.length;for(let _=0;_<o;_++){const y=n[_],v=y[0],F=this.playerLib.animePackData.parts(v).name();y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9];const l=y[10];m[F]={string:l}}c.userData=m,e[a]=c}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t.deltaMS,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}function ke(L){throw new Error('Could not dynamically require "'+L+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ae={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */var Me;function Ge(){return Me||(Me=1,function(L,t){(function(e){L.exports=e()})(function(){return function e(r,s,f){function a(m,o){if(!s[m]){if(!r[m]){var _=typeof ke=="function"&&ke;if(!o&&_)return _(m,!0);if(c)return c(m,!0);var y=new Error("Cannot find module '"+m+"'");throw y.code="MODULE_NOT_FOUND",y}var v=s[m]={exports:{}};r[m][0].call(v.exports,function(E){var F=r[m][1][E];return a(F||E)},v,v.exports,e,r,s,f)}return s[m].exports}for(var c=typeof ke=="function"&&ke,n=0;n<f.length;n++)a(f[n]);return a}({1:[function(e,r,s){var f=e("./utils"),a=e("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(n){for(var m=[],o,_,y,v,E,F,l,d=0,b=n.length,x=b,P=f.getTypeOf(n)!=="string";d<n.length;)x=b-d,P?(o=n[d++],_=d<b?n[d++]:0,y=d<b?n[d++]:0):(o=n.charCodeAt(d++),_=d<b?n.charCodeAt(d++):0,y=d<b?n.charCodeAt(d++):0),v=o>>2,E=(o&3)<<4|_>>4,F=x>1?(_&15)<<2|y>>6:64,l=x>2?y&63:64,m.push(c.charAt(v)+c.charAt(E)+c.charAt(F)+c.charAt(l));return m.join("")},s.decode=function(n){var m,o,_,y,v,E,F,l=0,d=0,b="data:";if(n.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");n=n.replace(/[^A-Za-z0-9+/=]/g,"");var x=n.length*3/4;if(n.charAt(n.length-1)===c.charAt(64)&&x--,n.charAt(n.length-2)===c.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var P;for(a.uint8array?P=new Uint8Array(x|0):P=new Array(x|0);l<n.length;)y=c.indexOf(n.charAt(l++)),v=c.indexOf(n.charAt(l++)),E=c.indexOf(n.charAt(l++)),F=c.indexOf(n.charAt(l++)),m=y<<2|v>>4,o=(v&15)<<4|E>>2,_=(E&3)<<6|F,P[d++]=m,E!==64&&(P[d++]=o),F!==64&&(P[d++]=_);return P}},{"./support":30,"./utils":32}],2:[function(e,r,s){var f=e("./external"),a=e("./stream/DataWorker"),c=e("./stream/Crc32Probe"),n=e("./stream/DataLengthProbe");function m(o,_,y,v,E){this.compressedSize=o,this.uncompressedSize=_,this.crc32=y,this.compression=v,this.compressedContent=E}m.prototype={getContentWorker:function(){var o=new a(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),_=this;return o.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),o},getCompressedWorker:function(){return new a(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(o,_,y){return o.pipe(new c).pipe(new n("uncompressedSize")).pipe(_.compressWorker(y)).pipe(new n("compressedSize")).withStreamInfo("compression",_)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,s){var f=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,s){var f=e("./utils");function a(){for(var o,_=[],y=0;y<256;y++){o=y;for(var v=0;v<8;v++)o=o&1?3988292384^o>>>1:o>>>1;_[y]=o}return _}var c=a();function n(o,_,y,v){var E=c,F=v+y;o=o^-1;for(var l=v;l<F;l++)o=o>>>8^E[(o^_[l])&255];return o^-1}function m(o,_,y,v){var E=c,F=v+y;o=o^-1;for(var l=v;l<F;l++)o=o>>>8^E[(o^_.charCodeAt(l))&255];return o^-1}r.exports=function(_,y){if(typeof _>"u"||!_.length)return 0;var v=f.getTypeOf(_)!=="string";return v?n(y|0,_,_.length,0):m(y|0,_,_.length,0)}},{"./utils":32}],5:[function(e,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,r,s){var f=null;typeof Promise<"u"?f=Promise:f=e("lie"),r.exports={Promise:f}},{lie:37}],7:[function(e,r,s){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),c=e("./utils"),n=e("./stream/GenericWorker"),m=f?"uint8array":"array";s.magic="\b\0";function o(_,y){n.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=y,this.meta={}}c.inherits(o,n),o.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(m,_.data),!1)},o.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},o.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},o.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(y){_.push({data:y,meta:_.meta})}},s.compressWorker=function(_){return new o("Deflate",_)},s.uncompressWorker=function(){return new o("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,s){var f=e("../utils"),a=e("../stream/GenericWorker"),c=e("../utf8"),n=e("../crc32"),m=e("../signature"),o=function(d,b){var x="",P;for(P=0;P<b;P++)x+=String.fromCharCode(d&255),d=d>>>8;return x},_=function(d,b){var x=d;return d||(x=b?16893:33204),(x&65535)<<16},y=function(d){return(d||0)&63},v=function(d,b,x,P,g,I){var C=d.file,S=d.compression,N=I!==c.utf8encode,D=f.transformTo("string",I(C.name)),V=f.transformTo("string",c.utf8encode(C.name)),R=C.comment,j=f.transformTo("string",I(R)),$=f.transformTo("string",c.utf8encode(R)),G=V.length!==C.name.length,et=$.length!==R.length,W,Z,Q="",at="",ht="",K=C.dir,ot=C.date,nt={crc32:0,compressedSize:0,uncompressedSize:0};(!b||x)&&(nt.crc32=d.crc32,nt.compressedSize=d.compressedSize,nt.uncompressedSize=d.uncompressedSize);var kt=0;b&&(kt|=8),!N&&(G||et)&&(kt|=2048);var Ft=0,vt=0;K&&(Ft|=16),g==="UNIX"?(vt=798,Ft|=_(C.unixPermissions,K)):(vt=20,Ft|=y(C.dosPermissions)),W=ot.getUTCHours(),W=W<<6,W=W|ot.getUTCMinutes(),W=W<<5,W=W|ot.getUTCSeconds()/2,Z=ot.getUTCFullYear()-1980,Z=Z<<4,Z=Z|ot.getUTCMonth()+1,Z=Z<<5,Z=Z|ot.getUTCDate(),G&&(at=o(1,1)+o(n(D),4)+V,Q+="up"+o(at.length,2)+at),et&&(ht=o(1,1)+o(n(j),4)+$,Q+="uc"+o(ht.length,2)+ht);var st="";st+=`
\0`,st+=o(kt,2),st+=S.magic,st+=o(W,2),st+=o(Z,2),st+=o(nt.crc32,4),st+=o(nt.compressedSize,4),st+=o(nt.uncompressedSize,4),st+=o(D.length,2),st+=o(Q.length,2);var Ct=m.LOCAL_FILE_HEADER+st+D+Q,gt=m.CENTRAL_FILE_HEADER+o(vt,2)+st+o(j.length,2)+"\0\0\0\0"+o(Ft,4)+o(P,4)+D+Q+j;return{fileRecord:Ct,dirRecord:gt}},E=function(d,b,x,P,g){var I="",C=f.transformTo("string",g(P));return I=m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(d,2)+o(d,2)+o(b,4)+o(x,4)+o(C.length,2)+C,I},F=function(d){var b="";return b=m.DATA_DESCRIPTOR+o(d.crc32,4)+o(d.compressedSize,4)+o(d.uncompressedSize,4),b};function l(d,b,x,P){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=x,this.encodeFileName=P,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(l,a),l.prototype.push=function(d){var b=d.meta.percent||0,x=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,a.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:x?(b+100*(x-P-1))/x:100}}))},l.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var b=this.streamFiles&&!d.file.dir;if(b){var x=v(d,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(d){this.accumulate=!1;var b=this.streamFiles&&!d.file.dir,x=v(d,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),b)this.push({data:F(d),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var d=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var x=this.bytesWritten-d,P=E(this.dirRecords.length,x,d,this.zipComment,this.encodeFileName);this.push({data:P,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(d){this._sources.push(d);var b=this;return d.on("data",function(x){b.processChunk(x)}),d.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),d.on("error",function(x){b.error(x)}),this},l.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},l.prototype.error=function(d){var b=this._sources;if(!a.prototype.error.call(this,d))return!1;for(var x=0;x<b.length;x++)try{b[x].error(d)}catch{}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var d=this._sources,b=0;b<d.length;b++)d[b].lock()},r.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,s){var f=e("../compressions"),a=e("./ZipFileWorker"),c=function(n,m){var o=n||m,_=f[o];if(!_)throw new Error(o+" is not a valid compression method !");return _};s.generateWorker=function(n,m,o){var _=new a(m.streamFiles,o,m.platform,m.encodeFileName),y=0;try{n.forEach(function(v,E){y++;var F=c(E.options.compression,m.compression),l=E.options.compressionOptions||m.compressionOptions||{},d=E.dir,b=E.date;E._compressWorker(F,l).withStreamInfo("file",{name:v,dir:d,date:b,comment:E.comment||"",unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions}).pipe(_)}),_.entriesCount=y}catch(v){_.error(v)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,s){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new f;for(var c in this)typeof this[c]!="function"&&(a[c]=this[c]);return a}}f.prototype=e("./object"),f.prototype.loadAsync=e("./load"),f.support=e("./support"),f.defaults=e("./defaults"),f.version="3.10.1",f.loadAsync=function(a,c){return new f().loadAsync(a,c)},f.external=e("./external"),r.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,s){var f=e("./utils"),a=e("./external"),c=e("./utf8"),n=e("./zipEntries"),m=e("./stream/Crc32Probe"),o=e("./nodejsUtils");function _(y){return new a.Promise(function(v,E){var F=y.decompressed.getContentWorker().pipe(new m);F.on("error",function(l){E(l)}).on("end",function(){F.streamInfo.crc32!==y.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(y,v){var E=this;return v=f.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),o.isNode&&o.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",y,!0,v.optimizedBinaryString,v.base64).then(function(F){var l=new n(v);return l.load(F),l}).then(function(l){var d=[a.Promise.resolve(l)],b=l.files;if(v.checkCRC32)for(var x=0;x<b.length;x++)d.push(_(b[x]));return a.Promise.all(d)}).then(function(l){for(var d=l.shift(),b=d.files,x=0;x<b.length;x++){var P=b[x],g=P.fileNameStr,I=f.resolve(P.fileNameStr);E.file(I,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:v.createFolders}),P.dir||(E.file(I).unsafeOriginalName=g)}return d.zipComment.length&&(E.comment=d.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,s){var f=e("../utils"),a=e("../stream/GenericWorker");function c(n,m){a.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(m)}f.inherits(c,a),c.prototype._bindStream=function(n){var m=this;this._stream=n,n.pause(),n.on("data",function(o){m.push({data:o,meta:{percent:0}})}).on("error",function(o){m.isPaused?this.generatedError=o:m.error(o)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},c.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},c.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,s){var f=e("readable-stream").Readable,a=e("../utils");a.inherits(c,f);function c(n,m,o){f.call(this,m),this._helper=n;var _=this;n.on("data",function(y,v){_.push(y)||_._helper.pause(),o&&o(v)}).on("error",function(y){_.emit("error",y)}).on("end",function(){_.push(null)})}c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(e,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(f,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(f,a);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new Buffer(f,a)},allocBuffer:function(f){if(Buffer.alloc)return Buffer.alloc(f);var a=new Buffer(f);return a.fill(0),a},isBuffer:function(f){return Buffer.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(e,r,s){var f=e("./utf8"),a=e("./utils"),c=e("./stream/GenericWorker"),n=e("./stream/StreamHelper"),m=e("./defaults"),o=e("./compressedObject"),_=e("./zipObject"),y=e("./generate"),v=e("./nodejsUtils"),E=e("./nodejs/NodejsStreamInputAdapter"),F=function(g,I,C){var S=a.getTypeOf(I),N,D=a.extend(C||{},m);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&D.unixPermissions&16384&&(D.dir=!0),D.dosPermissions&&D.dosPermissions&16&&(D.dir=!0),D.dir&&(g=d(g)),D.createFolders&&(N=l(g))&&b.call(this,N,!0);var V=S==="string"&&D.binary===!1&&D.base64===!1;(!C||typeof C.binary>"u")&&(D.binary=!V);var R=I instanceof o&&I.uncompressedSize===0;(R||D.dir||!I||I.length===0)&&(D.base64=!1,D.binary=!0,I="",D.compression="STORE",S="string");var j=null;I instanceof o||I instanceof c?j=I:v.isNode&&v.isStream(I)?j=new E(g,I):j=a.prepareContent(g,I,D.binary,D.optimizedBinaryString,D.base64);var $=new _(g,j,D);this.files[g]=$},l=function(g){g.slice(-1)==="/"&&(g=g.substring(0,g.length-1));var I=g.lastIndexOf("/");return I>0?g.substring(0,I):""},d=function(g){return g.slice(-1)!=="/"&&(g+="/"),g},b=function(g,I){return I=typeof I<"u"?I:m.createFolders,g=d(g),this.files[g]||F.call(this,g,null,{dir:!0,createFolders:I}),this.files[g]};function x(g){return Object.prototype.toString.call(g)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(g){var I,C,S;for(I in this.files)S=this.files[I],C=I.slice(this.root.length,I.length),C&&I.slice(0,this.root.length)===this.root&&g(C,S)},filter:function(g){var I=[];return this.forEach(function(C,S){g(C,S)&&I.push(S)}),I},file:function(g,I,C){if(arguments.length===1)if(x(g)){var S=g;return this.filter(function(D,V){return!V.dir&&S.test(D)})}else{var N=this.files[this.root+g];return N&&!N.dir?N:null}else g=this.root+g,F.call(this,g,I,C);return this},folder:function(g){if(!g)return this;if(x(g))return this.filter(function(N,D){return D.dir&&g.test(N)});var I=this.root+g,C=b.call(this,I),S=this.clone();return S.root=C.name,S},remove:function(g){g=this.root+g;var I=this.files[g];if(I||(g.slice(-1)!=="/"&&(g+="/"),I=this.files[g]),I&&!I.dir)delete this.files[g];else for(var C=this.filter(function(N,D){return D.name.slice(0,g.length)===g}),S=0;S<C.length;S++)delete this.files[C[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(g){var I,C={};try{if(C=a.extend(g||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode}),C.type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),(C.platform==="darwin"||C.platform==="freebsd"||C.platform==="linux"||C.platform==="sunos")&&(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var S=C.comment||this.comment||"";I=y.generateWorker(this,C,S)}catch(N){I=new c("error"),I.error(N)}return new n(I,C.type||"string",C.mimeType)},generateAsync:function(g,I){return this.generateInternalStream(g).accumulate(I)},generateNodeStream:function(g,I){return g=g||{},g.type||(g.type="nodebuffer"),this.generateInternalStream(g).toNodejsStream(I)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,s){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,s){var f=e("./DataReader"),a=e("../utils");function c(n){f.call(this,n);for(var m=0;m<this.data.length;m++)n[m]=n[m]&255}a.inherits(c,f),c.prototype.byteAt=function(n){return this.data[this.zero+n]},c.prototype.lastIndexOfSignature=function(n){for(var m=n.charCodeAt(0),o=n.charCodeAt(1),_=n.charCodeAt(2),y=n.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===m&&this.data[v+1]===o&&this.data[v+2]===_&&this.data[v+3]===y)return v-this.zero;return-1},c.prototype.readAndCheckSignature=function(n){var m=n.charCodeAt(0),o=n.charCodeAt(1),_=n.charCodeAt(2),y=n.charCodeAt(3),v=this.readData(4);return m===v[0]&&o===v[1]&&_===v[2]&&y===v[3]},c.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(e,r,s){var f=e("../utils");function a(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var n=0,m;for(this.checkOffset(c),m=this.index+c-1;m>=this.index;m--)n=(n<<8)+this.byteAt(m);return this.index+=c,n},readString:function(c){return f.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC((c>>25&127)+1980,(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(c&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(e,r,s){var f=e("./Uint8ArrayReader"),a=e("../utils");function c(n){f.call(this,n)}a.inherits(c,f),c.prototype.readData=function(n){this.checkOffset(n);var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,s){var f=e("./DataReader"),a=e("../utils");function c(n){f.call(this,n)}a.inherits(c,f),c.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},c.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},c.prototype.readAndCheckSignature=function(n){var m=this.readData(4);return n===m},c.prototype.readData=function(n){this.checkOffset(n);var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(e,r,s){var f=e("./ArrayReader"),a=e("../utils");function c(n){f.call(this,n)}a.inherits(c,f),c.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,s){var f=e("../utils"),a=e("../support"),c=e("./ArrayReader"),n=e("./StringReader"),m=e("./NodeBufferReader"),o=e("./Uint8ArrayReader");r.exports=function(_){var y=f.getTypeOf(_);return f.checkSupport(y),y==="string"&&!a.uint8array?new n(_):y==="nodebuffer"?new m(_):a.uint8array?new o(f.transformTo("uint8array",_)):new c(f.transformTo("array",_))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,s){var f=e("./GenericWorker"),a=e("../utils");function c(n){f.call(this,"ConvertWorker to "+n),this.destType=n}a.inherits(c,f),c.prototype.processChunk=function(n){this.push({data:a.transformTo(this.destType,n.data),meta:n.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,s){var f=e("./GenericWorker"),a=e("../crc32"),c=e("../utils");function n(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c.inherits(n,f),n.prototype.processChunk=function(m){this.streamInfo.crc32=a(m.data,this.streamInfo.crc32||0),this.push(m)},r.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,s){var f=e("../utils"),a=e("./GenericWorker");function c(n){a.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}f.inherits(c,a),c.prototype.processChunk=function(n){if(n){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+n.data.length}a.prototype.processChunk.call(this,n)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,s){var f=e("../utils"),a=e("./GenericWorker"),c=16*1024;function n(m){a.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(_){o.dataIsReady=!0,o.data=_,o.max=_&&_.length||0,o.type=f.getTypeOf(_),o.isPaused||o._tickAndRepeat()},function(_){o.error(_)})}f.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0):!1},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=c,o=null,_=Math.min(this.max,this.index+m);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,_);break;case"uint8array":o=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":o=this.data.slice(this.index,_);break}return this.index=_,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,s){function f(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,c){return this._listeners[a].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,c){if(this._listeners[a])for(var n=0;n<this._listeners[a].length;n++)this._listeners[a][n].call(this,c)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var c=this;return a.on("data",function(n){c.processChunk(n)}),a.on("end",function(){c.end()}),a.on("error",function(n){c.error(n)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,c){return this.extraStreamInfo[a]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=f},{}],29:[function(e,r,s){var f=e("../utils"),a=e("./ConvertWorker"),c=e("./GenericWorker"),n=e("../base64"),m=e("../support"),o=e("../external"),_=null;if(m.nodestream)try{_=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(l,d,b){switch(l){case"blob":return f.newBlob(f.transformTo("arraybuffer",d),b);case"base64":return n.encode(d);default:return f.transformTo(l,d)}}function v(l,d){var b,x=0,P=null,g=0;for(b=0;b<d.length;b++)g+=d[b].length;switch(l){case"string":return d.join("");case"array":return Array.prototype.concat.apply([],d);case"uint8array":for(P=new Uint8Array(g),b=0;b<d.length;b++)P.set(d[b],x),x+=d[b].length;return P;case"nodebuffer":return Buffer.concat(d);default:throw new Error("concat : unsupported type '"+l+"'")}}function E(l,d){return new o.Promise(function(b,x){var P=[],g=l._internalType,I=l._outputType,C=l._mimeType;l.on("data",function(S,N){P.push(S),d&&d(N)}).on("error",function(S){P=[],x(S)}).on("end",function(){try{var S=y(I,v(g,P),C);b(S)}catch(N){x(N)}P=[]}).resume()})}function F(l,d,b){var x=d;switch(d){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=d,this._mimeType=b,f.checkSupport(x),this._worker=l.pipe(new a(x)),l.lock()}catch(P){this._worker=new c("error"),this._worker.error(P)}}F.prototype={accumulate:function(l){return E(this,l)},on:function(l,d){var b=this;return l==="data"?this._worker.on(l,function(x){d.call(b,x.data,x.meta)}):this._worker.on(l,function(){f.delay(d,arguments,b)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(l){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},l)}},r.exports=F},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var f=new ArrayBuffer(0);try{s.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,c=new a;c.append(f),s.blob=c.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,s){for(var f=e("./utils"),a=e("./support"),c=e("./nodejsUtils"),n=e("./stream/GenericWorker"),m=new Array(256),o=0;o<256;o++)m[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;m[254]=m[254]=1;var _=function(l){var d,b,x,P,g,I=l.length,C=0;for(P=0;P<I;P++)b=l.charCodeAt(P),(b&64512)===55296&&P+1<I&&(x=l.charCodeAt(P+1),(x&64512)===56320&&(b=65536+(b-55296<<10)+(x-56320),P++)),C+=b<128?1:b<2048?2:b<65536?3:4;for(a.uint8array?d=new Uint8Array(C):d=new Array(C),g=0,P=0;g<C;P++)b=l.charCodeAt(P),(b&64512)===55296&&P+1<I&&(x=l.charCodeAt(P+1),(x&64512)===56320&&(b=65536+(b-55296<<10)+(x-56320),P++)),b<128?d[g++]=b:b<2048?(d[g++]=192|b>>>6,d[g++]=128|b&63):b<65536?(d[g++]=224|b>>>12,d[g++]=128|b>>>6&63,d[g++]=128|b&63):(d[g++]=240|b>>>18,d[g++]=128|b>>>12&63,d[g++]=128|b>>>6&63,d[g++]=128|b&63);return d},y=function(l,d){var b;for(d=d||l.length,d>l.length&&(d=l.length),b=d-1;b>=0&&(l[b]&192)===128;)b--;return b<0||b===0?d:b+m[l[b]]>d?b:d},v=function(l){var d,b,x,P,g=l.length,I=new Array(g*2);for(b=0,d=0;d<g;){if(x=l[d++],x<128){I[b++]=x;continue}if(P=m[x],P>4){I[b++]=65533,d+=P-1;continue}for(x&=P===2?31:P===3?15:7;P>1&&d<g;)x=x<<6|l[d++]&63,P--;if(P>1){I[b++]=65533;continue}x<65536?I[b++]=x:(x-=65536,I[b++]=55296|x>>10&1023,I[b++]=56320|x&1023)}return I.length!==b&&(I.subarray?I=I.subarray(0,b):I.length=b),f.applyFromCharCode(I)};s.utf8encode=function(d){return a.nodebuffer?c.newBufferFrom(d,"utf-8"):_(d)},s.utf8decode=function(d){return a.nodebuffer?f.transformTo("nodebuffer",d).toString("utf-8"):(d=f.transformTo(a.uint8array?"uint8array":"array",d),v(d))};function E(){n.call(this,"utf-8 decode"),this.leftOver=null}f.inherits(E,n),E.prototype.processChunk=function(l){var d=f.transformTo(a.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var b=d;d=new Uint8Array(b.length+this.leftOver.length),d.set(this.leftOver,0),d.set(b,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var x=y(d),P=d;x!==d.length&&(a.uint8array?(P=d.subarray(0,x),this.leftOver=d.subarray(x,d.length)):(P=d.slice(0,x),this.leftOver=d.slice(x,d.length))),this.push({data:s.utf8decode(P),meta:l.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=E;function F(){n.call(this,"utf-8 encode")}f.inherits(F,n),F.prototype.processChunk=function(l){this.push({data:s.utf8encode(l.data),meta:l.meta})},s.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,s){var f=e("./support"),a=e("./base64"),c=e("./nodejsUtils"),n=e("./external");e("setimmediate");function m(l){var d=null;return f.uint8array?d=new Uint8Array(l.length):d=new Array(l.length),_(l,d)}s.newBlob=function(l,d){s.checkSupport("blob");try{return new Blob([l],{type:d})}catch{try{var b=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new b;return x.append(l),x.getBlob(d)}catch{throw new Error("Bug : can't construct the Blob.")}}};function o(l){return l}function _(l,d){for(var b=0;b<l.length;++b)d[b]=l.charCodeAt(b)&255;return d}var y={stringifyByChunk:function(l,d,b){var x=[],P=0,g=l.length;if(g<=b)return String.fromCharCode.apply(null,l);for(;P<g;)d==="array"||d==="nodebuffer"?x.push(String.fromCharCode.apply(null,l.slice(P,Math.min(P+b,g)))):x.push(String.fromCharCode.apply(null,l.subarray(P,Math.min(P+b,g)))),P+=b;return x.join("")},stringifyByChar:function(l){for(var d="",b=0;b<l.length;b++)d+=String.fromCharCode(l[b]);return d},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function v(l){var d=65536,b=s.getTypeOf(l),x=!0;if(b==="uint8array"?x=y.applyCanBeUsed.uint8array:b==="nodebuffer"&&(x=y.applyCanBeUsed.nodebuffer),x)for(;d>1;)try{return y.stringifyByChunk(l,b,d)}catch{d=Math.floor(d/2)}return y.stringifyByChar(l)}s.applyFromCharCode=v;function E(l,d){for(var b=0;b<l.length;b++)d[b]=l[b];return d}var F={};F.string={string:o,array:function(l){return _(l,new Array(l.length))},arraybuffer:function(l){return F.string.uint8array(l).buffer},uint8array:function(l){return _(l,new Uint8Array(l.length))},nodebuffer:function(l){return _(l,c.allocBuffer(l.length))}},F.array={string:v,array:o,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return c.newBufferFrom(l)}},F.arraybuffer={string:function(l){return v(new Uint8Array(l))},array:function(l){return E(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:o,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return c.newBufferFrom(new Uint8Array(l))}},F.uint8array={string:v,array:function(l){return E(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:o,nodebuffer:function(l){return c.newBufferFrom(l)}},F.nodebuffer={string:v,array:function(l){return E(l,new Array(l.length))},arraybuffer:function(l){return F.nodebuffer.uint8array(l).buffer},uint8array:function(l){return E(l,new Uint8Array(l.length))},nodebuffer:o},s.transformTo=function(l,d){if(d||(d=""),!l)return d;s.checkSupport(l);var b=s.getTypeOf(d),x=F[b][l](d);return x},s.resolve=function(l){for(var d=l.split("/"),b=[],x=0;x<d.length;x++){var P=d[x];P==="."||P===""&&x!==0&&x!==d.length-1||(P===".."?b.pop():b.push(P))}return b.join("/")},s.getTypeOf=function(l){if(typeof l=="string")return"string";if(Object.prototype.toString.call(l)==="[object Array]")return"array";if(f.nodebuffer&&c.isBuffer(l))return"nodebuffer";if(f.uint8array&&l instanceof Uint8Array)return"uint8array";if(f.arraybuffer&&l instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(l){var d=f[l.toLowerCase()];if(!d)throw new Error(l+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(l){var d="",b,x;for(x=0;x<(l||"").length;x++)b=l.charCodeAt(x),d+="\\x"+(b<16?"0":"")+b.toString(16).toUpperCase();return d},s.delay=function(l,d,b){setImmediate(function(){l.apply(b||null,d||[])})},s.inherits=function(l,d){var b=function(){};b.prototype=d.prototype,l.prototype=new b},s.extend=function(){var l={},d,b;for(d=0;d<arguments.length;d++)for(b in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],b)&&typeof l[b]>"u"&&(l[b]=arguments[d][b]);return l},s.prepareContent=function(l,d,b,x,P){var g=n.Promise.resolve(d).then(function(I){var C=f.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1);return C&&typeof FileReader<"u"?new n.Promise(function(S,N){var D=new FileReader;D.onload=function(V){S(V.target.result)},D.onerror=function(V){N(V.target.error)},D.readAsArrayBuffer(I)}):I});return g.then(function(I){var C=s.getTypeOf(I);return C?(C==="arraybuffer"?I=s.transformTo("uint8array",I):C==="string"&&(P?I=a.decode(I):b&&x!==!0&&(I=m(I))),I):n.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,s){var f=e("./reader/readerFor"),a=e("./utils"),c=e("./signature"),n=e("./zipEntry"),m=e("./support");function o(_){this.files=[],this.loadOptions=_}o.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(_)+")")}},isSignature:function(_,y){var v=this.reader.index;this.reader.setIndex(_);var E=this.reader.readString(4),F=E===y;return this.reader.setIndex(v),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),y=m.uint8array?"uint8array":"array",v=a.transformTo(y,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _=this.zip64EndOfCentralSize-44,y=0,v,E,F;y<_;)v=this.reader.readInt(2),E=this.reader.readInt(4),F=this.reader.readData(E),this.zip64ExtensibleData[v]={id:v,length:E,value:F}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,y;for(_=0;_<this.files.length;_++)y=this.files[_],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)_=new n({zip64:this.zip64},this.loadOptions),_.readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(_<0){var y=!this.isSignature(0,c.LOCAL_FILE_HEADER);throw y?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(_);var v=_;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,_=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),_<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var E=this.centralDirOffset+this.centralDirSize;this.zip64&&(E+=20,E+=12+this.zip64EndOfCentralSize);var F=v-E;if(F>0)this.isSignature(v,c.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(_){this.reader=f(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=o},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,s){var f=e("./reader/readerFor"),a=e("./utils"),c=e("./compressedObject"),n=e("./crc32"),m=e("./utf8"),o=e("./compressions"),_=e("./support"),y=0,v=3,E=function(l){for(var d in o)if(Object.prototype.hasOwnProperty.call(o,d)&&o[d].magic===l)return o[d];return null};function F(l,d){this.options=l,this.loadOptions=d}F.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(l){var d,b;if(l.skip(22),this.fileNameLength=l.readInt(2),b=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(d=E(this.compressionMethod),d===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,d,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var d=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(d),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),l===y&&(this.dosPermissions=this.externalFileAttributes&63),l===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=f(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var d=l.index+this.extraFieldsLength,b,x,P;for(this.extraFields||(this.extraFields={});l.index+4<d;)b=l.readInt(2),x=l.readInt(2),P=l.readData(x),this.extraFields[b]={id:b,length:x,value:P};l.setIndex(d)},handleUTF8:function(){var l=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var b=a.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var P=a.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var d=f(l.value);return d.readInt(1)!==1||n(this.fileName)!==d.readInt(4)?null:m.utf8decode(d.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var d=f(l.value);return d.readInt(1)!==1||n(this.fileComment)!==d.readInt(4)?null:m.utf8decode(d.readData(l.length-5))}return null}},r.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,s){var f=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),c=e("./utf8"),n=e("./compressedObject"),m=e("./stream/GenericWorker"),o=function(E,F,l){this.name=E,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=F,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}};o.prototype={internalStream:function(E){var F=null,l="string";try{if(!E)throw new Error("No output type specified.");l=E.toLowerCase();var d=l==="string"||l==="text";(l==="binarystring"||l==="text")&&(l="string"),F=this._decompressWorker();var b=!this._dataBinary;b&&!d&&(F=F.pipe(new c.Utf8EncodeWorker)),!b&&d&&(F=F.pipe(new c.Utf8DecodeWorker))}catch(x){F=new m("error"),F.error(x)}return new f(F,l,"")},async:function(E,F){return this.internalStream(E).accumulate(F)},nodeStream:function(E,F){return this.internalStream(E||"nodebuffer").toNodejsStream(F)},_compressWorker:function(E,F){if(this._data instanceof n&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new c.Utf8EncodeWorker)),n.createWorkerFrom(l,E,F)},_decompressWorker:function(){return this._data instanceof n?this._data.getContentWorker():this._data instanceof m?this._data:new a(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)o.prototype[_[v]]=y;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,s){(function(f){var a=f.MutationObserver||f.WebKitMutationObserver,c;if(a){var n=0,m=new a(E),o=f.document.createTextNode("");m.observe(o,{characterData:!0}),c=function(){o.data=n=++n%2}}else if(!f.setImmediate&&typeof f.MessageChannel<"u"){var _=new f.MessageChannel;_.port1.onmessage=E,c=function(){_.port2.postMessage(0)}}else"document"in f&&"onreadystatechange"in f.document.createElement("script")?c=function(){var l=f.document.createElement("script");l.onreadystatechange=function(){E(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},f.document.documentElement.appendChild(l)}:c=function(){setTimeout(E,0)};var y,v=[];function E(){y=!0;for(var l,d,b=v.length;b;){for(d=v,v=[],l=-1;++l<b;)d[l]();b=v.length}y=!1}r.exports=F;function F(l){v.push(l)===1&&!y&&c()}}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,s){var f=e("immediate");function a(){}var c={},n=["REJECTED"],m=["FULFILLED"],o=["PENDING"];r.exports=_;function _(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,g!==a&&F(this,g)}_.prototype.finally=function(g){if(typeof g!="function")return this;var I=this.constructor;return this.then(C,S);function C(N){function D(){return N}return I.resolve(g()).then(D)}function S(N){function D(){throw N}return I.resolve(g()).then(D)}},_.prototype.catch=function(g){return this.then(null,g)},_.prototype.then=function(g,I){if(typeof g!="function"&&this.state===m||typeof I!="function"&&this.state===n)return this;var C=new this.constructor(a);if(this.state!==o){var S=this.state===m?g:I;v(C,S,this.outcome)}else this.queue.push(new y(C,g,I));return C};function y(g,I,C){this.promise=g,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}y.prototype.callFulfilled=function(g){c.resolve(this.promise,g)},y.prototype.otherCallFulfilled=function(g){v(this.promise,this.onFulfilled,g)},y.prototype.callRejected=function(g){c.reject(this.promise,g)},y.prototype.otherCallRejected=function(g){v(this.promise,this.onRejected,g)};function v(g,I,C){f(function(){var S;try{S=I(C)}catch(N){return c.reject(g,N)}S===g?c.reject(g,new TypeError("Cannot resolve promise with itself")):c.resolve(g,S)})}c.resolve=function(g,I){var C=l(E,I);if(C.status==="error")return c.reject(g,C.value);var S=C.value;if(S)F(g,S);else{g.state=m,g.outcome=I;for(var N=-1,D=g.queue.length;++N<D;)g.queue[N].callFulfilled(I)}return g},c.reject=function(g,I){g.state=n,g.outcome=I;for(var C=-1,S=g.queue.length;++C<S;)g.queue[C].callRejected(I);return g};function E(g){var I=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof I=="function")return function(){I.apply(g,arguments)}}function F(g,I){var C=!1;function S(R){C||(C=!0,c.reject(g,R))}function N(R){C||(C=!0,c.resolve(g,R))}function D(){I(N,S)}var V=l(D);V.status==="error"&&S(V.value)}function l(g,I){var C={};try{C.value=g(I),C.status="success"}catch(S){C.status="error",C.value=S}return C}_.resolve=d;function d(g){return g instanceof this?g:c.resolve(new this(a),g)}_.reject=b;function b(g){var I=new this(a);return c.reject(I,g)}_.all=x;function x(g){var I=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,S=!1;if(!C)return this.resolve([]);for(var N=new Array(C),D=0,V=-1,R=new this(a);++V<C;)j(g[V],V);return R;function j($,G){I.resolve($).then(et,function(W){S||(S=!0,c.reject(R,W))});function et(W){N[G]=W,++D===C&&!S&&(S=!0,c.resolve(R,N))}}}_.race=P;function P(g){var I=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=g.length,S=!1;if(!C)return this.resolve([]);for(var N=-1,D=new this(a);++N<C;)V(g[N]);return D;function V(R){I.resolve(R).then(function(j){S||(S=!0,c.resolve(D,j))},function(j){S||(S=!0,c.reject(D,j))})}}},{immediate:36}],38:[function(e,r,s){var f=e("./lib/utils/common").assign,a=e("./lib/deflate"),c=e("./lib/inflate"),n=e("./lib/zlib/constants"),m={};f(m,a,c,n),r.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,s){var f=e("./zlib/deflate"),a=e("./utils/common"),c=e("./utils/strings"),n=e("./zlib/messages"),m=e("./zlib/zstream"),o=Object.prototype.toString,_=0,y=4,v=0,E=1,F=2,l=-1,d=0,b=8;function x(C){if(!(this instanceof x))return new x(C);this.options=a.assign({level:l,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},C||{});var S=this.options;S.raw&&S.windowBits>0?S.windowBits=-S.windowBits:S.gzip&&S.windowBits>0&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var N=f.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(N!==v)throw new Error(n[N]);if(S.header&&f.deflateSetHeader(this.strm,S.header),S.dictionary){var D;if(typeof S.dictionary=="string"?D=c.string2buf(S.dictionary):o.call(S.dictionary)==="[object ArrayBuffer]"?D=new Uint8Array(S.dictionary):D=S.dictionary,N=f.deflateSetDictionary(this.strm,D),N!==v)throw new Error(n[N]);this._dict_set=!0}}x.prototype.push=function(C,S){var N=this.strm,D=this.options.chunkSize,V,R;if(this.ended)return!1;R=S===~~S?S:S===!0?y:_,typeof C=="string"?N.input=c.string2buf(C):o.call(C)==="[object ArrayBuffer]"?N.input=new Uint8Array(C):N.input=C,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(D),N.next_out=0,N.avail_out=D),V=f.deflate(N,R),V!==E&&V!==v)return this.onEnd(V),this.ended=!0,!1;(N.avail_out===0||N.avail_in===0&&(R===y||R===F))&&(this.options.to==="string"?this.onData(c.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((N.avail_in>0||N.avail_out===0)&&V!==E);return R===y?(V=f.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===v):(R===F&&(this.onEnd(v),N.avail_out=0),!0)},x.prototype.onData=function(C){this.chunks.push(C)},x.prototype.onEnd=function(C){C===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function P(C,S){var N=new x(S);if(N.push(C,!0),N.err)throw N.msg||n[N.err];return N.result}function g(C,S){return S=S||{},S.raw=!0,P(C,S)}function I(C,S){return S=S||{},S.gzip=!0,P(C,S)}s.Deflate=x,s.deflate=P,s.deflateRaw=g,s.gzip=I},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,s){var f=e("./zlib/inflate"),a=e("./utils/common"),c=e("./utils/strings"),n=e("./zlib/constants"),m=e("./zlib/messages"),o=e("./zlib/zstream"),_=e("./zlib/gzheader"),y=Object.prototype.toString;function v(l){if(!(this instanceof v))return new v(l);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},l||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(l&&l.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var b=f.inflateInit2(this.strm,d.windowBits);if(b!==n.Z_OK)throw new Error(m[b]);this.header=new _,f.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(l,d){var b=this.strm,x=this.options.chunkSize,P=this.options.dictionary,g,I,C,S,N,D,V=!1;if(this.ended)return!1;I=d===~~d?d:d===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof l=="string"?b.input=c.binstring2buf(l):y.call(l)==="[object ArrayBuffer]"?b.input=new Uint8Array(l):b.input=l,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new a.Buf8(x),b.next_out=0,b.avail_out=x),g=f.inflate(b,n.Z_NO_FLUSH),g===n.Z_NEED_DICT&&P&&(typeof P=="string"?D=c.string2buf(P):y.call(P)==="[object ArrayBuffer]"?D=new Uint8Array(P):D=P,g=f.inflateSetDictionary(this.strm,D)),g===n.Z_BUF_ERROR&&V===!0&&(g=n.Z_OK,V=!1),g!==n.Z_STREAM_END&&g!==n.Z_OK)return this.onEnd(g),this.ended=!0,!1;b.next_out&&(b.avail_out===0||g===n.Z_STREAM_END||b.avail_in===0&&(I===n.Z_FINISH||I===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=c.utf8border(b.output,b.next_out),S=b.next_out-C,N=c.buf2string(b.output,C),b.next_out=S,b.avail_out=x-S,S&&a.arraySet(b.output,b.output,C,S,0),this.onData(N)):this.onData(a.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(V=!0)}while((b.avail_in>0||b.avail_out===0)&&g!==n.Z_STREAM_END);return g===n.Z_STREAM_END&&(I=n.Z_FINISH),I===n.Z_FINISH?(g=f.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===n.Z_OK):(I===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),b.avail_out=0),!0)},v.prototype.onData=function(l){this.chunks.push(l)},v.prototype.onEnd=function(l){l===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};function E(l,d){var b=new v(d);if(b.push(l,!0),b.err)throw b.msg||m[b.err];return b.result}function F(l,d){return d=d||{},d.raw=!0,E(l,d)}s.Inflate=v,s.inflate=E,s.inflateRaw=F,s.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,s){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(n){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var o=m.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(var _ in o)o.hasOwnProperty(_)&&(n[_]=o[_])}}return n},s.shrinkBuf=function(n,m){return n.length===m?n:n.subarray?n.subarray(0,m):(n.length=m,n)};var a={arraySet:function(n,m,o,_,y){if(m.subarray&&n.subarray){n.set(m.subarray(o,o+_),y);return}for(var v=0;v<_;v++)n[y+v]=m[o+v]},flattenChunks:function(n){var m,o,_,y,v,E;for(_=0,m=0,o=n.length;m<o;m++)_+=n[m].length;for(E=new Uint8Array(_),y=0,m=0,o=n.length;m<o;m++)v=n[m],E.set(v,y),y+=v.length;return E}},c={arraySet:function(n,m,o,_,y){for(var v=0;v<_;v++)n[y+v]=m[o+v]},flattenChunks:function(n){return[].concat.apply([],n)}};s.setTyped=function(n){n?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,c))},s.setTyped(f)},{}],42:[function(e,r,s){var f=e("./common"),a=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var n=new f.Buf8(256),m=0;m<256;m++)n[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;n[254]=n[254]=1,s.string2buf=function(_){var y,v,E,F,l,d=_.length,b=0;for(F=0;F<d;F++)v=_.charCodeAt(F),(v&64512)===55296&&F+1<d&&(E=_.charCodeAt(F+1),(E&64512)===56320&&(v=65536+(v-55296<<10)+(E-56320),F++)),b+=v<128?1:v<2048?2:v<65536?3:4;for(y=new f.Buf8(b),l=0,F=0;l<b;F++)v=_.charCodeAt(F),(v&64512)===55296&&F+1<d&&(E=_.charCodeAt(F+1),(E&64512)===56320&&(v=65536+(v-55296<<10)+(E-56320),F++)),v<128?y[l++]=v:v<2048?(y[l++]=192|v>>>6,y[l++]=128|v&63):v<65536?(y[l++]=224|v>>>12,y[l++]=128|v>>>6&63,y[l++]=128|v&63):(y[l++]=240|v>>>18,y[l++]=128|v>>>12&63,y[l++]=128|v>>>6&63,y[l++]=128|v&63);return y};function o(_,y){if(y<65537&&(_.subarray&&c||!_.subarray&&a))return String.fromCharCode.apply(null,f.shrinkBuf(_,y));for(var v="",E=0;E<y;E++)v+=String.fromCharCode(_[E]);return v}s.buf2binstring=function(_){return o(_,_.length)},s.binstring2buf=function(_){for(var y=new f.Buf8(_.length),v=0,E=y.length;v<E;v++)y[v]=_.charCodeAt(v);return y},s.buf2string=function(_,y){var v,E,F,l,d=y||_.length,b=new Array(d*2);for(E=0,v=0;v<d;){if(F=_[v++],F<128){b[E++]=F;continue}if(l=n[F],l>4){b[E++]=65533,v+=l-1;continue}for(F&=l===2?31:l===3?15:7;l>1&&v<d;)F=F<<6|_[v++]&63,l--;if(l>1){b[E++]=65533;continue}F<65536?b[E++]=F:(F-=65536,b[E++]=55296|F>>10&1023,b[E++]=56320|F&1023)}return o(b,E)},s.utf8border=function(_,y){var v;for(y=y||_.length,y>_.length&&(y=_.length),v=y-1;v>=0&&(_[v]&192)===128;)v--;return v<0||v===0?y:v+n[_[v]]>y?v:y}},{"./common":41}],43:[function(e,r,s){function f(a,c,n,m){for(var o=a&65535|0,_=a>>>16&65535|0,y=0;n!==0;){y=n>2e3?2e3:n,n-=y;do o=o+c[m++]|0,_=_+o|0;while(--y);o%=65521,_%=65521}return o|_<<16|0}r.exports=f},{}],44:[function(e,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,s){function f(){for(var n,m=[],o=0;o<256;o++){n=o;for(var _=0;_<8;_++)n=n&1?3988292384^n>>>1:n>>>1;m[o]=n}return m}var a=f();function c(n,m,o,_){var y=a,v=_+o;n^=-1;for(var E=_;E<v;E++)n=n>>>8^y[(n^m[E])&255];return n^-1}r.exports=c},{}],46:[function(e,r,s){var f=e("../utils/common"),a=e("./trees"),c=e("./adler32"),n=e("./crc32"),m=e("./messages"),o=0,_=1,y=3,v=4,E=5,F=0,l=1,d=-2,b=-3,x=-5,P=-1,g=1,I=2,C=3,S=4,N=0,D=2,V=8,R=9,j=15,$=8,G=29,et=256,W=et+1+G,Z=30,Q=19,at=2*W+1,ht=15,K=3,ot=258,nt=ot+K+1,kt=32,Ft=42,vt=69,st=73,Ct=91,gt=103,dt=113,bt=666,ct=1,At=2,Ut=3,Bt=4,ut=3;function Nt(i,A){return i.msg=m[A],A}function he(i){return(i<<1)-(i>4?9:0)}function Vt(i){for(var A=i.length;--A>=0;)i[A]=0}function Mt(i){var A=i.state,T=A.pending;T>i.avail_out&&(T=i.avail_out),T!==0&&(f.arraySet(i.output,A.pending_buf,A.pending_out,T,i.next_out),i.next_out+=T,A.pending_out+=T,i.total_out+=T,i.avail_out-=T,A.pending-=T,A.pending===0&&(A.pending_out=0))}function _t(i,A){a._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,A),i.block_start=i.strstart,Mt(i.strm)}function rt(i,A){i.pending_buf[i.pending++]=A}function jt(i,A){i.pending_buf[i.pending++]=A>>>8&255,i.pending_buf[i.pending++]=A&255}function de(i,A,T,u){var w=i.avail_in;return w>u&&(w=u),w===0?0:(i.avail_in-=w,f.arraySet(A,i.input,i.next_in,w,T),i.state.wrap===1?i.adler=c(i.adler,A,w,T):i.state.wrap===2&&(i.adler=n(i.adler,A,w,T)),i.next_in+=w,i.total_in+=w,w)}function ae(i,A){var T=i.max_chain_length,u=i.strstart,w,O,J=i.prev_length,Y=i.nice_match,X=i.strstart>i.w_size-nt?i.strstart-(i.w_size-nt):0,ft=i.window,qt=i.w_mask,mt=i.prev,lt=i.strstart+ot,xt=ft[u+J-1],Tt=ft[u+J];i.prev_length>=i.good_match&&(T>>=2),Y>i.lookahead&&(Y=i.lookahead);do if(w=A,!(ft[w+J]!==Tt||ft[w+J-1]!==xt||ft[w]!==ft[u]||ft[++w]!==ft[u+1])){u+=2,w++;do;while(ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&ft[++u]===ft[++w]&&u<lt);if(O=ot-(lt-u),u=lt-ot,O>J){if(i.match_start=A,J=O,O>=Y)break;xt=ft[u+J-1],Tt=ft[u+J]}}while((A=mt[A&qt])>X&&--T!==0);return J<=i.lookahead?J:i.lookahead}function Zt(i){var A=i.w_size,T,u,w,O,J;do{if(O=i.window_size-i.lookahead-i.strstart,i.strstart>=A+(A-nt)){f.arraySet(i.window,i.window,A,A,0),i.match_start-=A,i.strstart-=A,i.block_start-=A,u=i.hash_size,T=u;do w=i.head[--T],i.head[T]=w>=A?w-A:0;while(--u);u=A,T=u;do w=i.prev[--T],i.prev[T]=w>=A?w-A:0;while(--u);O+=A}if(i.strm.avail_in===0)break;if(u=de(i.strm,i.window,i.strstart+i.lookahead,O),i.lookahead+=u,i.lookahead+i.insert>=K)for(J=i.strstart-i.insert,i.ins_h=i.window[J],i.ins_h=(i.ins_h<<i.hash_shift^i.window[J+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[J+K-1])&i.hash_mask,i.prev[J&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=J,J++,i.insert--,!(i.lookahead+i.insert<K)););}while(i.lookahead<nt&&i.strm.avail_in!==0)}function ue(i,A){var T=65535;for(T>i.pending_buf_size-5&&(T=i.pending_buf_size-5);;){if(i.lookahead<=1){if(Zt(i),i.lookahead===0&&A===o)return ct;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var u=i.block_start+T;if((i.strstart===0||i.strstart>=u)&&(i.lookahead=i.strstart-u,i.strstart=u,_t(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-nt&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Ut:Bt):(i.strstart>i.block_start&&(_t(i,!1),i.strm.avail_out===0),ct)}function ne(i,A){for(var T,u;;){if(i.lookahead<nt){if(Zt(i),i.lookahead<nt&&A===o)return ct;if(i.lookahead===0)break}if(T=0,i.lookahead>=K&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),T!==0&&i.strstart-T<=i.w_size-nt&&(i.match_length=ae(i,T)),i.match_length>=K)if(u=a._tr_tally(i,i.strstart-i.match_start,i.match_length-K),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=K){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else u=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(u&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=i.strstart<K-1?i.strstart:K-1,A===v?(_t(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function Wt(i,A){for(var T,u,w;;){if(i.lookahead<nt){if(Zt(i),i.lookahead<nt&&A===o)return ct;if(i.lookahead===0)break}if(T=0,i.lookahead>=K&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=K-1,T!==0&&i.prev_length<i.max_lazy_match&&i.strstart-T<=i.w_size-nt&&(i.match_length=ae(i,T),i.match_length<=5&&(i.strategy===g||i.match_length===K&&i.strstart-i.match_start>4096)&&(i.match_length=K-1)),i.prev_length>=K&&i.match_length<=i.prev_length){w=i.strstart+i.lookahead-K,u=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-K),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=w&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=K-1,i.strstart++,u&&(_t(i,!1),i.strm.avail_out===0))return ct}else if(i.match_available){if(u=a._tr_tally(i,0,i.window[i.strstart-1]),u&&_t(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ct}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(u=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<K-1?i.strstart:K-1,A===v?(_t(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function _e(i,A){for(var T,u,w,O,J=i.window;;){if(i.lookahead<=ot){if(Zt(i),i.lookahead<=ot&&A===o)return ct;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=K&&i.strstart>0&&(w=i.strstart-1,u=J[w],u===J[++w]&&u===J[++w]&&u===J[++w])){O=i.strstart+ot;do;while(u===J[++w]&&u===J[++w]&&u===J[++w]&&u===J[++w]&&u===J[++w]&&u===J[++w]&&u===J[++w]&&u===J[++w]&&w<O);i.match_length=ot-(O-w),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=K?(T=a._tr_tally(i,1,i.match_length-K),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(T=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),T&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function se(i,A){for(var T;;){if(i.lookahead===0&&(Zt(i),i.lookahead===0)){if(A===o)return ct;break}if(i.match_length=0,T=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,T&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function Pt(i,A,T,u,w){this.good_length=i,this.max_lazy=A,this.nice_length=T,this.max_chain=u,this.func=w}var Gt;Gt=[new Pt(0,0,0,0,ue),new Pt(4,4,8,4,ne),new Pt(4,5,16,8,ne),new Pt(4,6,32,32,ne),new Pt(4,4,16,16,Wt),new Pt(8,16,32,32,Wt),new Pt(8,16,128,128,Wt),new Pt(8,32,128,256,Wt),new Pt(32,128,258,1024,Wt),new Pt(32,258,258,4096,Wt)];function pe(i){i.window_size=2*i.w_size,Vt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=K-1,i.match_available=0,i.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(at*2),this.dyn_dtree=new f.Buf16((2*Z+1)*2),this.bl_tree=new f.Buf16((2*Q+1)*2),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(ht+1),this.heap=new f.Buf16(2*W+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*W+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(i){var A;return!i||!i.state?Nt(i,d):(i.total_in=i.total_out=0,i.data_type=D,A=i.state,A.pending=0,A.pending_out=0,A.wrap<0&&(A.wrap=-A.wrap),A.status=A.wrap?Ft:dt,i.adler=A.wrap===2?0:1,A.last_flush=o,a._tr_init(A),F)}function B(i){var A=M(i);return A===F&&pe(i.state),A}function H(i,A){return!i||!i.state||i.state.wrap!==2?d:(i.state.gzhead=A,F)}function k(i,A,T,u,w,O){if(!i)return d;var J=1;if(A===P&&(A=6),u<0?(J=0,u=-u):u>15&&(J=2,u-=16),w<1||w>R||T!==V||u<8||u>15||A<0||A>9||O<0||O>S)return Nt(i,d);u===8&&(u=9);var Y=new p;return i.state=Y,Y.strm=i,Y.wrap=J,Y.gzhead=null,Y.w_bits=u,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=w+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+K-1)/K),Y.window=new f.Buf8(Y.w_size*2),Y.head=new f.Buf16(Y.hash_size),Y.prev=new f.Buf16(Y.w_size),Y.lit_bufsize=1<<w+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new f.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=A,Y.strategy=O,Y.method=T,B(i)}function z(i,A){return k(i,A,V,j,$,N)}function h(i,A){var T,u,w,O;if(!i||!i.state||A>E||A<0)return i?Nt(i,d):d;if(u=i.state,!i.output||!i.input&&i.avail_in!==0||u.status===bt&&A!==v)return Nt(i,i.avail_out===0?x:d);if(u.strm=i,T=u.last_flush,u.last_flush=A,u.status===Ft)if(u.wrap===2)i.adler=0,rt(u,31),rt(u,139),rt(u,8),u.gzhead?(rt(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),rt(u,u.gzhead.time&255),rt(u,u.gzhead.time>>8&255),rt(u,u.gzhead.time>>16&255),rt(u,u.gzhead.time>>24&255),rt(u,u.level===9?2:u.strategy>=I||u.level<2?4:0),rt(u,u.gzhead.os&255),u.gzhead.extra&&u.gzhead.extra.length&&(rt(u,u.gzhead.extra.length&255),rt(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(i.adler=n(i.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=vt):(rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,u.level===9?2:u.strategy>=I||u.level<2?4:0),rt(u,ut),u.status=dt);else{var J=V+(u.w_bits-8<<4)<<8,Y=-1;u.strategy>=I||u.level<2?Y=0:u.level<6?Y=1:u.level===6?Y=2:Y=3,J|=Y<<6,u.strstart!==0&&(J|=kt),J+=31-J%31,u.status=dt,jt(u,J),u.strstart!==0&&(jt(u,i.adler>>>16),jt(u,i.adler&65535)),i.adler=1}if(u.status===vt)if(u.gzhead.extra){for(w=u.pending;u.gzindex<(u.gzhead.extra.length&65535)&&!(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),Mt(i),w=u.pending,u.pending===u.pending_buf_size));)rt(u,u.gzhead.extra[u.gzindex]&255),u.gzindex++;u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=st)}else u.status=st;if(u.status===st)if(u.gzhead.name){w=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),Mt(i),w=u.pending,u.pending===u.pending_buf_size)){O=1;break}u.gzindex<u.gzhead.name.length?O=u.gzhead.name.charCodeAt(u.gzindex++)&255:O=0,rt(u,O)}while(O!==0);u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),O===0&&(u.gzindex=0,u.status=Ct)}else u.status=Ct;if(u.status===Ct)if(u.gzhead.comment){w=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),Mt(i),w=u.pending,u.pending===u.pending_buf_size)){O=1;break}u.gzindex<u.gzhead.comment.length?O=u.gzhead.comment.charCodeAt(u.gzindex++)&255:O=0,rt(u,O)}while(O!==0);u.gzhead.hcrc&&u.pending>w&&(i.adler=n(i.adler,u.pending_buf,u.pending-w,w)),O===0&&(u.status=gt)}else u.status=gt;if(u.status===gt&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&Mt(i),u.pending+2<=u.pending_buf_size&&(rt(u,i.adler&255),rt(u,i.adler>>8&255),i.adler=0,u.status=dt)):u.status=dt),u.pending!==0){if(Mt(i),i.avail_out===0)return u.last_flush=-1,F}else if(i.avail_in===0&&he(A)<=he(T)&&A!==v)return Nt(i,x);if(u.status===bt&&i.avail_in!==0)return Nt(i,x);if(i.avail_in!==0||u.lookahead!==0||A!==o&&u.status!==bt){var X=u.strategy===I?se(u,A):u.strategy===C?_e(u,A):Gt[u.level].func(u,A);if((X===Ut||X===Bt)&&(u.status=bt),X===ct||X===Ut)return i.avail_out===0&&(u.last_flush=-1),F;if(X===At&&(A===_?a._tr_align(u):A!==E&&(a._tr_stored_block(u,0,0,!1),A===y&&(Vt(u.head),u.lookahead===0&&(u.strstart=0,u.block_start=0,u.insert=0))),Mt(i),i.avail_out===0))return u.last_flush=-1,F}return A!==v?F:u.wrap<=0?l:(u.wrap===2?(rt(u,i.adler&255),rt(u,i.adler>>8&255),rt(u,i.adler>>16&255),rt(u,i.adler>>24&255),rt(u,i.total_in&255),rt(u,i.total_in>>8&255),rt(u,i.total_in>>16&255),rt(u,i.total_in>>24&255)):(jt(u,i.adler>>>16),jt(u,i.adler&65535)),Mt(i),u.wrap>0&&(u.wrap=-u.wrap),u.pending!==0?F:l)}function U(i){var A;return!i||!i.state?d:(A=i.state.status,A!==Ft&&A!==vt&&A!==st&&A!==Ct&&A!==gt&&A!==dt&&A!==bt?Nt(i,d):(i.state=null,A===dt?Nt(i,b):F))}function q(i,A){var T=A.length,u,w,O,J,Y,X,ft,qt;if(!i||!i.state||(u=i.state,J=u.wrap,J===2||J===1&&u.status!==Ft||u.lookahead))return d;for(J===1&&(i.adler=c(i.adler,A,T,0)),u.wrap=0,T>=u.w_size&&(J===0&&(Vt(u.head),u.strstart=0,u.block_start=0,u.insert=0),qt=new f.Buf8(u.w_size),f.arraySet(qt,A,T-u.w_size,u.w_size,0),A=qt,T=u.w_size),Y=i.avail_in,X=i.next_in,ft=i.input,i.avail_in=T,i.next_in=0,i.input=A,Zt(u);u.lookahead>=K;){w=u.strstart,O=u.lookahead-(K-1);do u.ins_h=(u.ins_h<<u.hash_shift^u.window[w+K-1])&u.hash_mask,u.prev[w&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=w,w++;while(--O);u.strstart=w,u.lookahead=K-1,Zt(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=K-1,u.match_available=0,i.next_in=X,i.input=ft,i.avail_in=Y,u.wrap=J,F}s.deflateInit=z,s.deflateInit2=k,s.deflateReset=B,s.deflateResetKeep=M,s.deflateSetHeader=H,s.deflate=h,s.deflateEnd=U,s.deflateSetDictionary=q,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,s){function f(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=f},{}],48:[function(e,r,s){var f=30,a=12;r.exports=function(n,m){var o,_,y,v,E,F,l,d,b,x,P,g,I,C,S,N,D,V,R,j,$,G,et,W,Z;o=n.state,_=n.next_in,W=n.input,y=_+(n.avail_in-5),v=n.next_out,Z=n.output,E=v-(m-n.avail_out),F=v+(n.avail_out-257),l=o.dmax,d=o.wsize,b=o.whave,x=o.wnext,P=o.window,g=o.hold,I=o.bits,C=o.lencode,S=o.distcode,N=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;t:do{I<15&&(g+=W[_++]<<I,I+=8,g+=W[_++]<<I,I+=8),V=C[g&N];e:for(;;){if(R=V>>>24,g>>>=R,I-=R,R=V>>>16&255,R===0)Z[v++]=V&65535;else if(R&16){j=V&65535,R&=15,R&&(I<R&&(g+=W[_++]<<I,I+=8),j+=g&(1<<R)-1,g>>>=R,I-=R),I<15&&(g+=W[_++]<<I,I+=8,g+=W[_++]<<I,I+=8),V=S[g&D];i:for(;;){if(R=V>>>24,g>>>=R,I-=R,R=V>>>16&255,R&16){if($=V&65535,R&=15,I<R&&(g+=W[_++]<<I,I+=8,I<R&&(g+=W[_++]<<I,I+=8)),$+=g&(1<<R)-1,$>l){n.msg="invalid distance too far back",o.mode=f;break t}if(g>>>=R,I-=R,R=v-E,$>R){if(R=$-R,R>b&&o.sane){n.msg="invalid distance too far back",o.mode=f;break t}if(G=0,et=P,x===0){if(G+=d-R,R<j){j-=R;do Z[v++]=P[G++];while(--R);G=v-$,et=Z}}else if(x<R){if(G+=d+x-R,R-=x,R<j){j-=R;do Z[v++]=P[G++];while(--R);if(G=0,x<j){R=x,j-=R;do Z[v++]=P[G++];while(--R);G=v-$,et=Z}}}else if(G+=x-R,R<j){j-=R;do Z[v++]=P[G++];while(--R);G=v-$,et=Z}for(;j>2;)Z[v++]=et[G++],Z[v++]=et[G++],Z[v++]=et[G++],j-=3;j&&(Z[v++]=et[G++],j>1&&(Z[v++]=et[G++]))}else{G=v-$;do Z[v++]=Z[G++],Z[v++]=Z[G++],Z[v++]=Z[G++],j-=3;while(j>2);j&&(Z[v++]=Z[G++],j>1&&(Z[v++]=Z[G++]))}}else if(R&64){n.msg="invalid distance code",o.mode=f;break t}else{V=S[(V&65535)+(g&(1<<R)-1)];continue i}break}}else if(R&64)if(R&32){o.mode=a;break t}else{n.msg="invalid literal/length code",o.mode=f;break t}else{V=C[(V&65535)+(g&(1<<R)-1)];continue e}break}}while(_<y&&v<F);j=I>>3,_-=j,I-=j<<3,g&=(1<<I)-1,n.next_in=_,n.next_out=v,n.avail_in=_<y?5+(y-_):5-(_-y),n.avail_out=v<F?257+(F-v):257-(v-F),o.hold=g,o.bits=I}},{}],49:[function(e,r,s){var f=e("../utils/common"),a=e("./adler32"),c=e("./crc32"),n=e("./inffast"),m=e("./inftrees"),o=0,_=1,y=2,v=4,E=5,F=6,l=0,d=1,b=2,x=-2,P=-3,g=-4,I=-5,C=8,S=1,N=2,D=3,V=4,R=5,j=6,$=7,G=8,et=9,W=10,Z=11,Q=12,at=13,ht=14,K=15,ot=16,nt=17,kt=18,Ft=19,vt=20,st=21,Ct=22,gt=23,dt=24,bt=25,ct=26,At=27,Ut=28,Bt=29,ut=30,Nt=31,he=32,Vt=852,Mt=592,_t=15,rt=_t;function jt(k){return(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(k){var z;return!k||!k.state?x:(z=k.state,k.total_in=k.total_out=z.total=0,k.msg="",z.wrap&&(k.adler=z.wrap&1),z.mode=S,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new f.Buf32(Vt),z.distcode=z.distdyn=new f.Buf32(Mt),z.sane=1,z.back=-1,l)}function Zt(k){var z;return!k||!k.state?x:(z=k.state,z.wsize=0,z.whave=0,z.wnext=0,ae(k))}function ue(k,z){var h,U;return!k||!k.state||(U=k.state,z<0?(h=0,z=-z):(h=(z>>4)+1,z<48&&(z&=15)),z&&(z<8||z>15))?x:(U.window!==null&&U.wbits!==z&&(U.window=null),U.wrap=h,U.wbits=z,Zt(k))}function ne(k,z){var h,U;return k?(U=new de,k.state=U,U.window=null,h=ue(k,z),h!==l&&(k.state=null),h):x}function Wt(k){return ne(k,rt)}var _e=!0,se,Pt;function Gt(k){if(_e){var z;for(se=new f.Buf32(512),Pt=new f.Buf32(32),z=0;z<144;)k.lens[z++]=8;for(;z<256;)k.lens[z++]=9;for(;z<280;)k.lens[z++]=7;for(;z<288;)k.lens[z++]=8;for(m(_,k.lens,0,288,se,0,k.work,{bits:9}),z=0;z<32;)k.lens[z++]=5;m(y,k.lens,0,32,Pt,0,k.work,{bits:5}),_e=!1}k.lencode=se,k.lenbits=9,k.distcode=Pt,k.distbits=5}function pe(k,z,h,U){var q,i=k.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new f.Buf8(i.wsize)),U>=i.wsize?(f.arraySet(i.window,z,h-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(q=i.wsize-i.wnext,q>U&&(q=U),f.arraySet(i.window,z,h-U,q,i.wnext),U-=q,U?(f.arraySet(i.window,z,h-U,U,0),i.wnext=U,i.whave=i.wsize):(i.wnext+=q,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=q))),0}function p(k,z){var h,U,q,i,A,T,u,w,O,J,Y,X,ft,qt,mt=0,lt,xt,Tt,Rt,Se,Ce,yt,Yt,Et=new f.Buf8(4),te,Jt,Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return x;h=k.state,h.mode===Q&&(h.mode=at),A=k.next_out,q=k.output,u=k.avail_out,i=k.next_in,U=k.input,T=k.avail_in,w=h.hold,O=h.bits,J=T,Y=u,Yt=l;t:for(;;)switch(h.mode){case S:if(h.wrap===0){h.mode=at;break}for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(h.wrap&2&&w===35615){h.check=0,Et[0]=w&255,Et[1]=w>>>8&255,h.check=c(h.check,Et,2,0),w=0,O=0,h.mode=N;break}if(h.flags=0,h.head&&(h.head.done=!1),!(h.wrap&1)||(((w&255)<<8)+(w>>8))%31){k.msg="incorrect header check",h.mode=ut;break}if((w&15)!==C){k.msg="unknown compression method",h.mode=ut;break}if(w>>>=4,O-=4,yt=(w&15)+8,h.wbits===0)h.wbits=yt;else if(yt>h.wbits){k.msg="invalid window size",h.mode=ut;break}h.dmax=1<<yt,k.adler=h.check=1,h.mode=w&512?W:Q,w=0,O=0;break;case N:for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(h.flags=w,(h.flags&255)!==C){k.msg="unknown compression method",h.mode=ut;break}if(h.flags&57344){k.msg="unknown header flags set",h.mode=ut;break}h.head&&(h.head.text=w>>8&1),h.flags&512&&(Et[0]=w&255,Et[1]=w>>>8&255,h.check=c(h.check,Et,2,0)),w=0,O=0,h.mode=D;case D:for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.head&&(h.head.time=w),h.flags&512&&(Et[0]=w&255,Et[1]=w>>>8&255,Et[2]=w>>>16&255,Et[3]=w>>>24&255,h.check=c(h.check,Et,4,0)),w=0,O=0,h.mode=V;case V:for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.head&&(h.head.xflags=w&255,h.head.os=w>>8),h.flags&512&&(Et[0]=w&255,Et[1]=w>>>8&255,h.check=c(h.check,Et,2,0)),w=0,O=0,h.mode=R;case R:if(h.flags&1024){for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.length=w,h.head&&(h.head.extra_len=w),h.flags&512&&(Et[0]=w&255,Et[1]=w>>>8&255,h.check=c(h.check,Et,2,0)),w=0,O=0}else h.head&&(h.head.extra=null);h.mode=j;case j:if(h.flags&1024&&(X=h.length,X>T&&(X=T),X&&(h.head&&(yt=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),f.arraySet(h.head.extra,U,i,X,yt)),h.flags&512&&(h.check=c(h.check,U,X,i)),T-=X,i+=X,h.length-=X),h.length))break t;h.length=0,h.mode=$;case $:if(h.flags&2048){if(T===0)break t;X=0;do yt=U[i+X++],h.head&&yt&&h.length<65536&&(h.head.name+=String.fromCharCode(yt));while(yt&&X<T);if(h.flags&512&&(h.check=c(h.check,U,X,i)),T-=X,i+=X,yt)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=G;case G:if(h.flags&4096){if(T===0)break t;X=0;do yt=U[i+X++],h.head&&yt&&h.length<65536&&(h.head.comment+=String.fromCharCode(yt));while(yt&&X<T);if(h.flags&512&&(h.check=c(h.check,U,X,i)),T-=X,i+=X,yt)break t}else h.head&&(h.head.comment=null);h.mode=et;case et:if(h.flags&512){for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w!==(h.check&65535)){k.msg="header crc mismatch",h.mode=ut;break}w=0,O=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),k.adler=h.check=0,h.mode=Q;break;case W:for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}k.adler=h.check=jt(w),w=0,O=0,h.mode=Z;case Z:if(h.havedict===0)return k.next_out=A,k.avail_out=u,k.next_in=i,k.avail_in=T,h.hold=w,h.bits=O,b;k.adler=h.check=1,h.mode=Q;case Q:if(z===E||z===F)break t;case at:if(h.last){w>>>=O&7,O-=O&7,h.mode=At;break}for(;O<3;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}switch(h.last=w&1,w>>>=1,O-=1,w&3){case 0:h.mode=ht;break;case 1:if(Gt(h),h.mode=vt,z===F){w>>>=2,O-=2;break t}break;case 2:h.mode=nt;break;case 3:k.msg="invalid block type",h.mode=ut}w>>>=2,O-=2;break;case ht:for(w>>>=O&7,O-=O&7;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if((w&65535)!==(w>>>16^65535)){k.msg="invalid stored block lengths",h.mode=ut;break}if(h.length=w&65535,w=0,O=0,h.mode=K,z===F)break t;case K:h.mode=ot;case ot:if(X=h.length,X){if(X>T&&(X=T),X>u&&(X=u),X===0)break t;f.arraySet(q,U,i,X,A),T-=X,i+=X,u-=X,A+=X,h.length-=X;break}h.mode=Q;break;case nt:for(;O<14;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(h.nlen=(w&31)+257,w>>>=5,O-=5,h.ndist=(w&31)+1,w>>>=5,O-=5,h.ncode=(w&15)+4,w>>>=4,O-=4,h.nlen>286||h.ndist>30){k.msg="too many length or distance symbols",h.mode=ut;break}h.have=0,h.mode=kt;case kt:for(;h.have<h.ncode;){for(;O<3;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.lens[Ue[h.have++]]=w&7,w>>>=3,O-=3}for(;h.have<19;)h.lens[Ue[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,te={bits:h.lenbits},Yt=m(o,h.lens,0,19,h.lencode,0,h.work,te),h.lenbits=te.bits,Yt){k.msg="invalid code lengths set",h.mode=ut;break}h.have=0,h.mode=Ft;case Ft:for(;h.have<h.nlen+h.ndist;){for(;mt=h.lencode[w&(1<<h.lenbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(Tt<16)w>>>=lt,O-=lt,h.lens[h.have++]=Tt;else{if(Tt===16){for(Jt=lt+2;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w>>>=lt,O-=lt,h.have===0){k.msg="invalid bit length repeat",h.mode=ut;break}yt=h.lens[h.have-1],X=3+(w&3),w>>>=2,O-=2}else if(Tt===17){for(Jt=lt+3;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=lt,O-=lt,yt=0,X=3+(w&7),w>>>=3,O-=3}else{for(Jt=lt+7;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=lt,O-=lt,yt=0,X=11+(w&127),w>>>=7,O-=7}if(h.have+X>h.nlen+h.ndist){k.msg="invalid bit length repeat",h.mode=ut;break}for(;X--;)h.lens[h.have++]=yt}}if(h.mode===ut)break;if(h.lens[256]===0){k.msg="invalid code -- missing end-of-block",h.mode=ut;break}if(h.lenbits=9,te={bits:h.lenbits},Yt=m(_,h.lens,0,h.nlen,h.lencode,0,h.work,te),h.lenbits=te.bits,Yt){k.msg="invalid literal/lengths set",h.mode=ut;break}if(h.distbits=6,h.distcode=h.distdyn,te={bits:h.distbits},Yt=m(y,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,te),h.distbits=te.bits,Yt){k.msg="invalid distances set",h.mode=ut;break}if(h.mode=vt,z===F)break t;case vt:h.mode=st;case st:if(T>=6&&u>=258){k.next_out=A,k.avail_out=u,k.next_in=i,k.avail_in=T,h.hold=w,h.bits=O,n(k,Y),A=k.next_out,q=k.output,u=k.avail_out,i=k.next_in,U=k.input,T=k.avail_in,w=h.hold,O=h.bits,h.mode===Q&&(h.back=-1);break}for(h.back=0;mt=h.lencode[w&(1<<h.lenbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(xt&&!(xt&240)){for(Rt=lt,Se=xt,Ce=Tt;mt=h.lencode[Ce+((w&(1<<Rt+Se)-1)>>Rt)],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(Rt+lt<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=Rt,O-=Rt,h.back+=Rt}if(w>>>=lt,O-=lt,h.back+=lt,h.length=Tt,xt===0){h.mode=ct;break}if(xt&32){h.back=-1,h.mode=Q;break}if(xt&64){k.msg="invalid literal/length code",h.mode=ut;break}h.extra=xt&15,h.mode=Ct;case Ct:if(h.extra){for(Jt=h.extra;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.length+=w&(1<<h.extra)-1,w>>>=h.extra,O-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=gt;case gt:for(;mt=h.distcode[w&(1<<h.distbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(!(xt&240)){for(Rt=lt,Se=xt,Ce=Tt;mt=h.distcode[Ce+((w&(1<<Rt+Se)-1)>>Rt)],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(Rt+lt<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=Rt,O-=Rt,h.back+=Rt}if(w>>>=lt,O-=lt,h.back+=lt,xt&64){k.msg="invalid distance code",h.mode=ut;break}h.offset=Tt,h.extra=xt&15,h.mode=dt;case dt:if(h.extra){for(Jt=h.extra;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}h.offset+=w&(1<<h.extra)-1,w>>>=h.extra,O-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){k.msg="invalid distance too far back",h.mode=ut;break}h.mode=bt;case bt:if(u===0)break t;if(X=Y-u,h.offset>X){if(X=h.offset-X,X>h.whave&&h.sane){k.msg="invalid distance too far back",h.mode=ut;break}X>h.wnext?(X-=h.wnext,ft=h.wsize-X):ft=h.wnext-X,X>h.length&&(X=h.length),qt=h.window}else qt=q,ft=A-h.offset,X=h.length;X>u&&(X=u),u-=X,h.length-=X;do q[A++]=qt[ft++];while(--X);h.length===0&&(h.mode=st);break;case ct:if(u===0)break t;q[A++]=h.length,u--,h.mode=st;break;case At:if(h.wrap){for(;O<32;){if(T===0)break t;T--,w|=U[i++]<<O,O+=8}if(Y-=u,k.total_out+=Y,h.total+=Y,Y&&(k.adler=h.check=h.flags?c(h.check,q,Y,A-Y):a(h.check,q,Y,A-Y)),Y=u,(h.flags?w:jt(w))!==h.check){k.msg="incorrect data check",h.mode=ut;break}w=0,O=0}h.mode=Ut;case Ut:if(h.wrap&&h.flags){for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w!==(h.total&4294967295)){k.msg="incorrect length check",h.mode=ut;break}w=0,O=0}h.mode=Bt;case Bt:Yt=d;break t;case ut:Yt=P;break t;case Nt:return g;case he:default:return x}return k.next_out=A,k.avail_out=u,k.next_in=i,k.avail_in=T,h.hold=w,h.bits=O,(h.wsize||Y!==k.avail_out&&h.mode<ut&&(h.mode<At||z!==v))&&pe(k,k.output,k.next_out,Y-k.avail_out),J-=k.avail_in,Y-=k.avail_out,k.total_in+=J,k.total_out+=Y,h.total+=Y,h.wrap&&Y&&(k.adler=h.check=h.flags?c(h.check,q,Y,k.next_out-Y):a(h.check,q,Y,k.next_out-Y)),k.data_type=h.bits+(h.last?64:0)+(h.mode===Q?128:0)+(h.mode===vt||h.mode===K?256:0),(J===0&&Y===0||z===v)&&Yt===l&&(Yt=I),Yt}function M(k){if(!k||!k.state)return x;var z=k.state;return z.window&&(z.window=null),k.state=null,l}function B(k,z){var h;return!k||!k.state||(h=k.state,!(h.wrap&2))?x:(h.head=z,z.done=!1,l)}function H(k,z){var h=z.length,U,q,i;return!k||!k.state||(U=k.state,U.wrap!==0&&U.mode!==Z)?x:U.mode===Z&&(q=1,q=a(q,z,h,0),q!==U.check)?P:(i=pe(k,z,h,h),i?(U.mode=Nt,g):(U.havedict=1,l))}s.inflateReset=Zt,s.inflateReset2=ue,s.inflateResetKeep=ae,s.inflateInit=Wt,s.inflateInit2=ne,s.inflate=p,s.inflateEnd=M,s.inflateGetHeader=B,s.inflateSetDictionary=H,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,s){var f=e("../utils/common"),a=15,c=852,n=592,m=0,o=1,_=2,y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,b,x,P,g,I,C,S){var N=S.bits,D=0,V=0,R=0,j=0,$=0,G=0,et=0,W=0,Z=0,Q=0,at,ht,K,ot,nt,kt=null,Ft=0,vt,st=new f.Buf16(a+1),Ct=new f.Buf16(a+1),gt=null,dt=0,bt,ct,At;for(D=0;D<=a;D++)st[D]=0;for(V=0;V<P;V++)st[b[x+V]]++;for($=N,j=a;j>=1&&st[j]===0;j--);if($>j&&($=j),j===0)return g[I++]=20971520,g[I++]=20971520,S.bits=1,0;for(R=1;R<j&&st[R]===0;R++);for($<R&&($=R),W=1,D=1;D<=a;D++)if(W<<=1,W-=st[D],W<0)return-1;if(W>0&&(d===m||j!==1))return-1;for(Ct[1]=0,D=1;D<a;D++)Ct[D+1]=Ct[D]+st[D];for(V=0;V<P;V++)b[x+V]!==0&&(C[Ct[b[x+V]]++]=V);if(d===m?(kt=gt=C,vt=19):d===o?(kt=y,Ft-=257,gt=v,dt-=257,vt=256):(kt=E,gt=F,vt=-1),Q=0,V=0,D=R,nt=I,G=$,et=0,K=-1,Z=1<<$,ot=Z-1,d===o&&Z>c||d===_&&Z>n)return 1;for(;;){bt=D-et,C[V]<vt?(ct=0,At=C[V]):C[V]>vt?(ct=gt[dt+C[V]],At=kt[Ft+C[V]]):(ct=96,At=0),at=1<<D-et,ht=1<<G,R=ht;do ht-=at,g[nt+(Q>>et)+ht]=bt<<24|ct<<16|At|0;while(ht!==0);for(at=1<<D-1;Q&at;)at>>=1;if(at!==0?(Q&=at-1,Q+=at):Q=0,V++,--st[D]===0){if(D===j)break;D=b[x+C[V]]}if(D>$&&(Q&ot)!==K){for(et===0&&(et=$),nt+=R,G=D-et,W=1<<G;G+et<j&&(W-=st[G+et],!(W<=0));)G++,W<<=1;if(Z+=1<<G,d===o&&Z>c||d===_&&Z>n)return 1;K=Q&ot,g[K]=$<<24|G<<16|nt-I|0}}return Q!==0&&(g[nt+Q]=D-et<<24|4194304|0),S.bits=$,0}},{"../utils/common":41}],51:[function(e,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,s){var f=e("../utils/common"),a=4,c=0,n=1,m=2;function o(p){for(var M=p.length;--M>=0;)p[M]=0}var _=0,y=1,v=2,E=3,F=258,l=29,d=256,b=d+1+l,x=30,P=19,g=2*b+1,I=15,C=16,S=7,N=256,D=16,V=17,R=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=512,Z=new Array((b+2)*2);o(Z);var Q=new Array(x*2);o(Q);var at=new Array(W);o(at);var ht=new Array(F-E+1);o(ht);var K=new Array(l);o(K);var ot=new Array(x);o(ot);function nt(p,M,B,H,k){this.static_tree=p,this.extra_bits=M,this.extra_base=B,this.elems=H,this.max_length=k,this.has_stree=p&&p.length}var kt,Ft,vt;function st(p,M){this.dyn_tree=p,this.max_code=0,this.stat_desc=M}function Ct(p){return p<256?at[p]:at[256+(p>>>7)]}function gt(p,M){p.pending_buf[p.pending++]=M&255,p.pending_buf[p.pending++]=M>>>8&255}function dt(p,M,B){p.bi_valid>C-B?(p.bi_buf|=M<<p.bi_valid&65535,gt(p,p.bi_buf),p.bi_buf=M>>C-p.bi_valid,p.bi_valid+=B-C):(p.bi_buf|=M<<p.bi_valid&65535,p.bi_valid+=B)}function bt(p,M,B){dt(p,B[M*2],B[M*2+1])}function ct(p,M){var B=0;do B|=p&1,p>>>=1,B<<=1;while(--M>0);return B>>>1}function At(p){p.bi_valid===16?(gt(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Ut(p,M){var B=M.dyn_tree,H=M.max_code,k=M.stat_desc.static_tree,z=M.stat_desc.has_stree,h=M.stat_desc.extra_bits,U=M.stat_desc.extra_base,q=M.stat_desc.max_length,i,A,T,u,w,O,J=0;for(u=0;u<=I;u++)p.bl_count[u]=0;for(B[p.heap[p.heap_max]*2+1]=0,i=p.heap_max+1;i<g;i++)A=p.heap[i],u=B[B[A*2+1]*2+1]+1,u>q&&(u=q,J++),B[A*2+1]=u,!(A>H)&&(p.bl_count[u]++,w=0,A>=U&&(w=h[A-U]),O=B[A*2],p.opt_len+=O*(u+w),z&&(p.static_len+=O*(k[A*2+1]+w)));if(J!==0){do{for(u=q-1;p.bl_count[u]===0;)u--;p.bl_count[u]--,p.bl_count[u+1]+=2,p.bl_count[q]--,J-=2}while(J>0);for(u=q;u!==0;u--)for(A=p.bl_count[u];A!==0;)T=p.heap[--i],!(T>H)&&(B[T*2+1]!==u&&(p.opt_len+=(u-B[T*2+1])*B[T*2],B[T*2+1]=u),A--)}}function Bt(p,M,B){var H=new Array(I+1),k=0,z,h;for(z=1;z<=I;z++)H[z]=k=k+B[z-1]<<1;for(h=0;h<=M;h++){var U=p[h*2+1];U!==0&&(p[h*2]=ct(H[U]++,U))}}function ut(){var p,M,B,H,k,z=new Array(I+1);for(B=0,H=0;H<l-1;H++)for(K[H]=B,p=0;p<1<<j[H];p++)ht[B++]=H;for(ht[B-1]=H,k=0,H=0;H<16;H++)for(ot[H]=k,p=0;p<1<<$[H];p++)at[k++]=H;for(k>>=7;H<x;H++)for(ot[H]=k<<7,p=0;p<1<<$[H]-7;p++)at[256+k++]=H;for(M=0;M<=I;M++)z[M]=0;for(p=0;p<=143;)Z[p*2+1]=8,p++,z[8]++;for(;p<=255;)Z[p*2+1]=9,p++,z[9]++;for(;p<=279;)Z[p*2+1]=7,p++,z[7]++;for(;p<=287;)Z[p*2+1]=8,p++,z[8]++;for(Bt(Z,b+1,z),p=0;p<x;p++)Q[p*2+1]=5,Q[p*2]=ct(p,5);kt=new nt(Z,j,d+1,b,I),Ft=new nt(Q,$,0,x,I),vt=new nt(new Array(0),G,0,P,S)}function Nt(p){var M;for(M=0;M<b;M++)p.dyn_ltree[M*2]=0;for(M=0;M<x;M++)p.dyn_dtree[M*2]=0;for(M=0;M<P;M++)p.bl_tree[M*2]=0;p.dyn_ltree[N*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function he(p){p.bi_valid>8?gt(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Vt(p,M,B,H){he(p),gt(p,B),gt(p,~B),f.arraySet(p.pending_buf,p.window,M,B,p.pending),p.pending+=B}function Mt(p,M,B,H){var k=M*2,z=B*2;return p[k]<p[z]||p[k]===p[z]&&H[M]<=H[B]}function _t(p,M,B){for(var H=p.heap[B],k=B<<1;k<=p.heap_len&&(k<p.heap_len&&Mt(M,p.heap[k+1],p.heap[k],p.depth)&&k++,!Mt(M,H,p.heap[k],p.depth));)p.heap[B]=p.heap[k],B=k,k<<=1;p.heap[B]=H}function rt(p,M,B){var H,k,z=0,h,U;if(p.last_lit!==0)do H=p.pending_buf[p.d_buf+z*2]<<8|p.pending_buf[p.d_buf+z*2+1],k=p.pending_buf[p.l_buf+z],z++,H===0?bt(p,k,M):(h=ht[k],bt(p,h+d+1,M),U=j[h],U!==0&&(k-=K[h],dt(p,k,U)),H--,h=Ct(H),bt(p,h,B),U=$[h],U!==0&&(H-=ot[h],dt(p,H,U)));while(z<p.last_lit);bt(p,N,M)}function jt(p,M){var B=M.dyn_tree,H=M.stat_desc.static_tree,k=M.stat_desc.has_stree,z=M.stat_desc.elems,h,U,q=-1,i;for(p.heap_len=0,p.heap_max=g,h=0;h<z;h++)B[h*2]!==0?(p.heap[++p.heap_len]=q=h,p.depth[h]=0):B[h*2+1]=0;for(;p.heap_len<2;)i=p.heap[++p.heap_len]=q<2?++q:0,B[i*2]=1,p.depth[i]=0,p.opt_len--,k&&(p.static_len-=H[i*2+1]);for(M.max_code=q,h=p.heap_len>>1;h>=1;h--)_t(p,B,h);i=z;do h=p.heap[1],p.heap[1]=p.heap[p.heap_len--],_t(p,B,1),U=p.heap[1],p.heap[--p.heap_max]=h,p.heap[--p.heap_max]=U,B[i*2]=B[h*2]+B[U*2],p.depth[i]=(p.depth[h]>=p.depth[U]?p.depth[h]:p.depth[U])+1,B[h*2+1]=B[U*2+1]=i,p.heap[1]=i++,_t(p,B,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Ut(p,M),Bt(B,q,p.bl_count)}function de(p,M,B){var H,k=-1,z,h=M[0*2+1],U=0,q=7,i=4;for(h===0&&(q=138,i=3),M[(B+1)*2+1]=65535,H=0;H<=B;H++)z=h,h=M[(H+1)*2+1],!(++U<q&&z===h)&&(U<i?p.bl_tree[z*2]+=U:z!==0?(z!==k&&p.bl_tree[z*2]++,p.bl_tree[D*2]++):U<=10?p.bl_tree[V*2]++:p.bl_tree[R*2]++,U=0,k=z,h===0?(q=138,i=3):z===h?(q=6,i=3):(q=7,i=4))}function ae(p,M,B){var H,k=-1,z,h=M[0*2+1],U=0,q=7,i=4;for(h===0&&(q=138,i=3),H=0;H<=B;H++)if(z=h,h=M[(H+1)*2+1],!(++U<q&&z===h)){if(U<i)do bt(p,z,p.bl_tree);while(--U!==0);else z!==0?(z!==k&&(bt(p,z,p.bl_tree),U--),bt(p,D,p.bl_tree),dt(p,U-3,2)):U<=10?(bt(p,V,p.bl_tree),dt(p,U-3,3)):(bt(p,R,p.bl_tree),dt(p,U-11,7));U=0,k=z,h===0?(q=138,i=3):z===h?(q=6,i=3):(q=7,i=4)}}function Zt(p){var M;for(de(p,p.dyn_ltree,p.l_desc.max_code),de(p,p.dyn_dtree,p.d_desc.max_code),jt(p,p.bl_desc),M=P-1;M>=3&&p.bl_tree[et[M]*2+1]===0;M--);return p.opt_len+=3*(M+1)+5+5+4,M}function ue(p,M,B,H){var k;for(dt(p,M-257,5),dt(p,B-1,5),dt(p,H-4,4),k=0;k<H;k++)dt(p,p.bl_tree[et[k]*2+1],3);ae(p,p.dyn_ltree,M-1),ae(p,p.dyn_dtree,B-1)}function ne(p){var M=4093624447,B;for(B=0;B<=31;B++,M>>>=1)if(M&1&&p.dyn_ltree[B*2]!==0)return c;if(p.dyn_ltree[18]!==0||p.dyn_ltree[20]!==0||p.dyn_ltree[26]!==0)return n;for(B=32;B<d;B++)if(p.dyn_ltree[B*2]!==0)return n;return c}var Wt=!1;function _e(p){Wt||(ut(),Wt=!0),p.l_desc=new st(p.dyn_ltree,kt),p.d_desc=new st(p.dyn_dtree,Ft),p.bl_desc=new st(p.bl_tree,vt),p.bi_buf=0,p.bi_valid=0,Nt(p)}function se(p,M,B,H){dt(p,(_<<1)+(H?1:0),3),Vt(p,M,B)}function Pt(p){dt(p,y<<1,3),bt(p,N,Z),At(p)}function Gt(p,M,B,H){var k,z,h=0;p.level>0?(p.strm.data_type===m&&(p.strm.data_type=ne(p)),jt(p,p.l_desc),jt(p,p.d_desc),h=Zt(p),k=p.opt_len+3+7>>>3,z=p.static_len+3+7>>>3,z<=k&&(k=z)):k=z=B+5,B+4<=k&&M!==-1?se(p,M,B,H):p.strategy===a||z===k?(dt(p,(y<<1)+(H?1:0),3),rt(p,Z,Q)):(dt(p,(v<<1)+(H?1:0),3),ue(p,p.l_desc.max_code+1,p.d_desc.max_code+1,h+1),rt(p,p.dyn_ltree,p.dyn_dtree)),Nt(p),H&&he(p)}function pe(p,M,B){return p.pending_buf[p.d_buf+p.last_lit*2]=M>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=M&255,p.pending_buf[p.l_buf+p.last_lit]=B&255,p.last_lit++,M===0?p.dyn_ltree[B*2]++:(p.matches++,M--,p.dyn_ltree[(ht[B]+d+1)*2]++,p.dyn_dtree[Ct(M)*2]++),p.last_lit===p.lit_bufsize-1}s._tr_init=_e,s._tr_stored_block=se,s._tr_flush_block=Gt,s._tr_tally=pe,s._tr_align=Pt},{"../utils/common":41}],53:[function(e,r,s){function f(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=f},{}],54:[function(e,r,s){(function(f){(function(a,c){if(a.setImmediate)return;var n=1,m={},o=!1,_=a.document,y;function v(S){typeof S!="function"&&(S=new Function(""+S));for(var N=new Array(arguments.length-1),D=0;D<N.length;D++)N[D]=arguments[D+1];var V={callback:S,args:N};return m[n]=V,y(n),n++}function E(S){delete m[S]}function F(S){var N=S.callback,D=S.args;switch(D.length){case 0:N();break;case 1:N(D[0]);break;case 2:N(D[0],D[1]);break;case 3:N(D[0],D[1],D[2]);break;default:N.apply(c,D);break}}function l(S){if(o)setTimeout(l,0,S);else{var N=m[S];if(N){o=!0;try{F(N)}finally{E(S),o=!1}}}}function d(){y=function(S){process.nextTick(function(){l(S)})}}function b(){if(a.postMessage&&!a.importScripts){var S=!0,N=a.onmessage;return a.onmessage=function(){S=!1},a.postMessage("","*"),a.onmessage=N,S}}function x(){var S="setImmediate$"+Math.random()+"$",N=function(D){D.source===a&&typeof D.data=="string"&&D.data.indexOf(S)===0&&l(+D.data.slice(S.length))};a.addEventListener?a.addEventListener("message",N,!1):a.attachEvent("onmessage",N),y=function(D){a.postMessage(S+D,"*")}}function P(){var S=new MessageChannel;S.port1.onmessage=function(N){var D=N.data;l(D)},y=function(N){S.port2.postMessage(N)}}function g(){var S=_.documentElement;y=function(N){var D=_.createElement("script");D.onreadystatechange=function(){l(N),D.onreadystatechange=null,S.removeChild(D),D=null},S.appendChild(D)}}function I(){y=function(S){setTimeout(l,0,S)}}var C=Object.getPrototypeOf&&Object.getPrototypeOf(a);C=C&&C.setTimeout?C:a,{}.toString.call(a.process)==="[object process]"?d():b()?x():a.MessageChannel?P():_&&"onreadystatechange"in _.createElement("script")?g():I(),C.setImmediate=v,C.clearImmediate=E})(typeof self>"u"?typeof f>"u"?this:f:self)}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ae)),Ae.exports}var Je=Ge(),$e=Ke(Je);class Qe{load(t,e){fetch(t).then(function(r){return r.status===200||r.status===0?Promise.resolve(r.blob()):Promise.reject(new Error(r.statusText))}).then($e.loadAsync).then(async function(r){let s=null;const f={};for(let c in r.files){r.files[c];const n=c.split(".").pop();if(n==="ssfb"){if(s!==null){e(null,null,null,new Error("already exist ssfb file"));return}s=c}else if(n==="png"){const m=c.split(".").slice(0,-1).join(".");f[m]=await r.file(c).async("uint8array")}}let a=await r.file(s).async("uint8array");e(s,a,f,null)},function(s){e(null,null,null,s)})}}class qe{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),r={};for(let s=0;s<e;s++){const f=t.fbObj.animePacks(s),a=f.name(),c=[],n=f.animationsLength();for(let o=0;o<n;o++){const _=f.animations(o),y=_.name();y!=="Setup"&&(c[y]=_)}const m=f.partsLength();r[a]={animePack:f,animationMap:c,parts_count:m}}return r}}const Fe=30;class ti{constructor(){this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}async init(t,e){this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const r=new wt.Application,s=e??{preference:"webgpu",width:this.canvasWidth,height:this.canvasHeight,backgroundAlpha:0};await r.init(s);const f=r.canvas;t.appendChild(f);const a=new Be;r.stage.addChild(a),this.mainContainer=a,this.pixiApplication=r}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let r=new Re(t,()=>{e.setupForLoadComplete(r)})}loadSspkg(t){const e=this;new Qe().load(t,(s,f,a,c)=>{if(c!==null)return;let n=new Re(s,f,a,()=>{e.setupForLoadComplete(n)})})}setupForLoadComplete(t){this.projectData=t,this.animePackMap=qe.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let r=!1;this.textureContainer==null&&(r=!0,this.textureContainer=new He(this));const s=this.animePackMap[t],f=s.animePack,c=s.animationMap[e];this.currentAnimation=c,this.currentAnimePack=f,this.textureContainer.Setup(t,e);const n=c.labelDataLength();for(let m=0;m<n;m++)c.labelData(m);r&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,r=-1){this.textureContainer.SetAnimationSection(t,e,r)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),r=t.canvasPvotY();let s;switch(e){case .5:s=Fe;break;case 0:s=this.canvasWidth*.5;break;case-.5:s=this.canvasWidth-Fe;break}let f;switch(r){case .5:f=Fe;break;case 0:f=this.canvasHeight*.5;break;case-.5:f=this.canvasHeight-Fe}this.mainContainer.setPosition(s,f)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),r=t.canvasSizeW(),s=this.canvasWidth/r,f=this.canvasHeight/e;let a=null;s<f?a=s:f<s&&(a=f),this.mainContainer.setDefaultScaleRatio(a),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Pe.Player=ti,Pe}({},PIXI);

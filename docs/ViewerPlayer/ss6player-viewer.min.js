/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.3.2
 *
 * Copyright(C) Web Technology Corp.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

this.PIXI=this.PIXI||{};var ss6PlayerViewer=function(Ee,We,Oe,Te,Pe,Re,De,Ne,Wt){"use strict";const ve=[5,10,15,20,25,50,75,100,150,200,300,400,800];class He extends Oe.Container{constructor(){super();this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new Te.Graphics,e=new Te.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const a=this.position;a.x+=t,a.y+=e,this.position=a}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=ve.indexOf(this.zoomPercent)+1;if(e>=ve.length)return;const a=ve[e];this.zoom(a)}zoomOut(){const e=ve.indexOf(this.zoomPercent)-1;if(e<0)return;const a=ve[e];this.zoom(a)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){const a=-5e3,n=a*-1+1;t.lineStyle(1,0),t.alpha=.3,t.moveTo(a,0).lineTo(n,0),t.moveTo(0,a).lineTo(0,n),e.lineStyle(1,0),e.alpha=.1;let h=100;for(let s=a;s<n;s+=h)e.moveTo(s,a).lineTo(s,n);for(let s=a;s<n;s+=h)e.moveTo(a,-s).lineTo(n,-s)}}}const me=4,ge=4,ie=new Int32Array(2),ze=new Float32Array(ie.buffer),Le=new Float64Array(ie.buffer),ye=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;class re{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?re.ZERO:new re(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}}re.ZERO=new re(0,0);var Ae;(function(R){R[R.UTF8_BYTES=1]="UTF8_BYTES",R[R.UTF16_STRING=2]="UTF16_STRING"})(Ae||(Ae={}));class we{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new we(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new re(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new re(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return ie[0]=this.readInt32(t),ze[0]}readFloat64(t){return ie[ye?0:1]=this.readInt32(t),ie[ye?1:0]=this.readInt32(t+4),Le[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){ze[0]=e,this.writeInt32(t,ie[0])}writeFloat64(t,e){Le[0]=e,this.writeInt32(t,ie[ye?0:1]),this.writeInt32(t+4,ie[ye?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+me+ge)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ge;e++)t+=String.fromCharCode(this.readInt8(this.position_+me+e));return t}__offset(t,e){const a=t-this.readInt32(t);return e<this.readInt16(a)?this.readInt16(a+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const a=this.readInt32(t);let n="",h=0;if(t+=me,e===Ae.UTF8_BYTES)return this.bytes_.subarray(t,t+a);for(;h<a;){let s;const f=this.readUint8(t+h++);if(f<192)s=f;else{const r=this.readUint8(t+h++);if(f<224)s=(f&31)<<6|r&63;else{const c=this.readUint8(t+h++);if(f<240)s=(f&15)<<12|(r&63)<<6|c&63;else{const p=this.readUint8(t+h++);s=(f&7)<<18|(r&63)<<12|(c&63)<<6|p&63}}}s<65536?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode((s>>10)+55296,(s&(1<<10)-1)+56320))}return n}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+me}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ge)throw new Error("FlatBuffers: file identifier must be length "+ge);for(let e=0;e<ge;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+me+e))return!1;return!0}createLong(t,e){return re.create(t,e)}createScalarList(t,e){const a=[];for(let n=0;n<e;++n)t(n)!==null&&a.push(t(n));return a}createObjList(t,e){const a=[];for(let n=0;n<e;++n){const h=t(n);h!==null&&a.push(h.unpack())}return a}}const It=4,Me=new Int32Array(2);new Float32Array(Me.buffer),new Float64Array(Me.buffer),new Uint16Array(new Uint8Array([1,0]).buffer)[0];var Ue;(function(R){R[R.UTF8_BYTES=1]="UTF8_BYTES",R[R.UTF16_STRING=2]="UTF16_STRING"})(Ue||(Ue={}));class q{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new q).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+It),(e||new q).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,a,n,h,s,f,r,c,p,d,v,g,S,I,m,o,b,w,O,y,F,C,A,L,N,V,z,Y,Q,G,et,J,Z,tt,nt,ut,K,lt){return q.startAnimationInitialData(t),q.addIndex(t,e),q.addLowflag(t,a),q.addHighflag(t,n),q.addPriority(t,h),q.addCellIndex(t,s),q.addOpacity(t,f),q.addLocalopacity(t,r),q.addMasklimen(t,c),q.addPositionX(t,p),q.addPositionY(t,d),q.addPositionZ(t,v),q.addPivotX(t,g),q.addPivotY(t,S),q.addRotationX(t,I),q.addRotationY(t,m),q.addRotationZ(t,o),q.addScaleX(t,b),q.addScaleY(t,w),q.addLocalscaleX(t,O),q.addLocalscaleY(t,y),q.addSizeX(t,F),q.addSizeY(t,C),q.addUvMoveX(t,A),q.addUvMoveY(t,L),q.addUvRotation(t,N),q.addUvScaleX(t,V),q.addUvScaleY(t,z),q.addBoundingRadius(t,Y),q.addInstanceValueCurKeyframe(t,Q),q.addInstanceValueStartFrame(t,G),q.addInstanceValueEndFrame(t,et),q.addInstanceValueLoopNum(t,J),q.addInstanceValueSpeed(t,Z),q.addInstanceValueLoopflag(t,tt),q.addEffectValueCurKeyframe(t,nt),q.addEffectValueStartTime(t,ut),q.addEffectValueSpeed(t,K),q.addEffectValueLoopflag(t,lt),q.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+It),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addInt32(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,a,n,h){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,a),Ht.addFlag2(t,n),Ht.addData(t,h),Ht.endpartState(t)}}class he{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new he).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+It),(e||new he).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const a=this.bb.__offset(this.bb_pos,4);return a?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return he.startframeDataIndex(t),he.addStates(t,e),he.endframeDataIndex(t)}}class ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+It),(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,a){return ae.startlabelDataItem(t),ae.addLabel(t,e),ae.addFrameIndex(t,a),ae.endlabelDataItem(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+It),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addFloat32(e[a]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return le.startmeshDataIndices(t),le.addIndices(t,e),le.endmeshDataIndices(t)}}class ce{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new ce).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+It),(e||new ce).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addFloat32(e[a]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return ce.startmeshDataUV(t),ce.addUv(t,e),ce.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+It),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__union(e,this.bb.__vector(this.bb_pos+a)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let a=e.length-1;a>=0;a--)t.addInt8(e[a]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,a,n,h){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,a),Kt.addDataType(t,n),Kt.addData(t,h),Kt.enduserDataItem(t)}}class ne{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new ne).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+It),(e||new ne).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,a){return ne.startuserDataPerFrame(t),ne.addFrameIndex(t,e),ne.addData(t,a),ne.enduserDataPerFrame(t)}}class pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+It),(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new q).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new he).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const a=this.bb.__offset(this.bb_pos,10);return a?(e||new ne).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new ae).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUV(t,e){const a=this.bb.__offset(this.bb_pos,14);return a?(e||new ce).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}meshsDataUVLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const a=this.bb.__offset(this.bb_pos,16);return a?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUV(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUVVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startMeshsDataUVVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,a,n,h,s,f,r,c,p,d,v,g,S,I,m,o){return pt.startAnimationData(t),pt.addName(t,e),pt.addDefaultData(t,a),pt.addFrameData(t,n),pt.addUserData(t,h),pt.addLabelData(t,s),pt.addMeshsDataUV(t,f),pt.addMeshsDataIndices(t,r),pt.addStartFrames(t,c),pt.addEndFrames(t,p),pt.addTotalFrames(t,d),pt.addFps(t,v),pt.addLabelNum(t,g),pt.addCanvasSizeW(t,S),pt.addCanvasSizeH(t,I),pt.addCanvasPvotX(t,m),pt.addCanvasPvotY(t,o),pt.endAnimationData(t)}}var kt=(R=>(R[R.Invalid=-1]="Invalid",R[R.Nulltype=0]="Nulltype",R[R.Normal=1]="Normal",R[R.Text=2]="Text",R[R.Instance=3]="Instance",R[R.Armature=4]="Armature",R[R.Effect=5]="Effect",R[R.Mesh=6]="Mesh",R[R.Movenode=7]="Movenode",R[R.Constraint=8]="Constraint",R[R.Mask=9]="Mask",R[R.Joint=10]="Joint",R[R.Bonepoint=11]="Bonepoint",R))(kt||{});class Et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+It),(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):kt.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,kt.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,a,n,h,s,f,r,c,p,d){return Et.startPartData(t),Et.addName(t,e),Et.addIndex(t,a),Et.addParentIndex(t,n),Et.addType(t,h),Et.addBoundsType(t,s),Et.addAlphaBlendType(t,f),Et.addRefname(t,r),Et.addEffectfilename(t,c),Et.addColorLabel(t,p),Et.addMaskInfluence(t,d),Et.endPartData(t)}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+It),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new Et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,a,n){return Qt.startAnimePackData(t),Qt.addName(t,e),Qt.addParts(t,a),Qt.addAnimations(t,n),Qt.endAnimePackData(t)}}class Yt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Yt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+It),(e||new Yt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,a,n,h,s){return Yt.startCellMap(t),Yt.addName(t,e),Yt.addImagePath(t,a),Yt.addIndex(t,n),Yt.addWrapmode(t,h),Yt.addFiltermode(t,s),Yt.endCellMap(t)}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+It),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Yt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+It),(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}BehaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}BehaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}BehaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}Behavior(t,e){const a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__union(e,this.bb.__vector(this.bb_pos+a)+t*4):null}BehaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let a=e.length-1;a>=0;a--)t.addInt8(e[a]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,a,n,h,s,f,r,c){return Pt.startEffectNode(t),Pt.addArrayIndex(t,e),Pt.addParentIndex(t,a),Pt.addType(t,n),Pt.addCellIndex(t,h),Pt.addBlendType(t,s),Pt.addNumBehavior(t,f),Pt.addBehaviorType(t,r),Pt.addBehavior(t,c),Pt.endEffectNode(t)}}class Rt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+It),(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const a=this.bb.__offset(this.bb_pos,18);return a?(e||new Pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,a,n,h,s,f,r,c){return Rt.startEffectFile(t),Rt.addName(t,e),Rt.addFps(t,a),Rt.addIsLockRandSeed(t,n),Rt.addLockRandSeed(t,h),Rt.addLayoutScaleX(t,s),Rt.addLayoutScaleY(t,f),Rt.addNumNodeList(t,r),Rt.addEffectNode(t,c),Rt.endEffectFile(t)}}var it=(R=>(R[R.INVISIBLE=1]="INVISIBLE",R[R.FLIP_H=2]="FLIP_H",R[R.FLIP_V=4]="FLIP_V",R[R.CELL_INDEX=8]="CELL_INDEX",R[R.POSITION_X=16]="POSITION_X",R[R.POSITION_Y=32]="POSITION_Y",R[R.POSITION_Z=64]="POSITION_Z",R[R.PIVOT_X=128]="PIVOT_X",R[R.PIVOT_Y=256]="PIVOT_Y",R[R.ROTATIONX=512]="ROTATIONX",R[R.ROTATIONY=1024]="ROTATIONY",R[R.ROTATIONZ=2048]="ROTATIONZ",R[R.SCALE_X=4096]="SCALE_X",R[R.SCALE_Y=8192]="SCALE_Y",R[R.LOCALSCALE_X=16384]="LOCALSCALE_X",R[R.LOCALSCALE_Y=32768]="LOCALSCALE_Y",R[R.OPACITY=65536]="OPACITY",R[R.LOCALOPACITY=131072]="LOCALOPACITY",R[R.PARTS_COLOR=262144]="PARTS_COLOR",R[R.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",R[R.SIZE_X=1048576]="SIZE_X",R[R.SIZE_Y=2097152]="SIZE_Y",R[R.U_MOVE=4194304]="U_MOVE",R[R.V_MOVE=8388608]="V_MOVE",R[R.UV_ROTATION=16777216]="UV_ROTATION",R[R.U_SCALE=33554432]="U_SCALE",R[R.V_SCALE=67108864]="V_SCALE",R[R.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",R[R.MASK=268435456]="MASK",R[R.PRIORITY=536870912]="PRIORITY",R[R.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",R[R.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",R))(it||{}),Be=(R=>(R[R.MESHDATA=1]="MESHDATA",R))(Be||{});class Ft{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+It),(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new xe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const a=this.bb.__offset(this.bb_pos,14);return a?(e||new Qt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const a=this.bb.__offset(this.bb_pos,16);return a?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,a,n,h,s,f,r,c,p,d){return Ft.startProjectData(t),Ft.addDataId(t,e),Ft.addVersion(t,a),Ft.addFlags(t,n),Ft.addImageBaseDir(t,h),Ft.addCells(t,s),Ft.addAnimePacks(t,f),Ft.addEffectFileList(t,r),Ft.addNumCells(t,c),Ft.addNumAnimePacks(t,p),Ft.addNumEffectFileList(t,d),Ft.endProjectData(t)}}class Ke{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class Ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,a){return t.prep(4,8),t.writeInt32(a),t.writeInt32(e),t.offset()}}class Ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,a,n,h){return t.prep(4,16),t.writeInt32(h),t.writeInt32(n),t.writeInt32(a),t.writeInt32(e),t.offset()}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+It),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,a){return $t.startuserDataString(t),$t.addLength(t,e),$t.addData(t,a),$t.enduserDataString(t)}}class Ze{constructor(t,e,a,n,h,s,f){if(typeof t=="string"){let r=t,c=e,p=a!==void 0?a:0,d=n!==void 0?n:0,v=h!==void 0?h:null,g=s!==void 0?s:null,S=f!==void 0?f:null;this.ssfbPath=r;const I=r.lastIndexOf("/");this.rootPath=r.substring(0,I)+"/",this.status="not ready",this.onComplete=c,this.onError=v,this.onTimeout=g,this.onRetry=S,this.LoadFlatBuffersProject(r,p,d)}else if(typeof t=="object"&&t.constructor===Uint8Array){let r=t,c=e;this.onComplete=a!==void 0?a:null,this.load(r,c)}}LoadFlatBuffersProject(t,e=0,a=0){const n=this,h=new XMLHttpRequest,s="GET";h.open(s,t,!0),h.responseType="arraybuffer",h.timeout=e,h.onload=function(){if(!(h.status>=200&&h.status<400)){n.onError!==null&&n.onError(t,e,a,h);return}const f=this.response,r=new Uint8Array(f),c=new we(r);n.fbObj=Ft.getRootAsProjectData(c),n.LoadCellResources()},h.ontimeout=function(){a>0?(n.onRetry!==null&&n.onRetry(t,e,a-1,h),n.LoadFlatBuffersProject(t,e,a-1)):n.onTimeout!==null&&n.onTimeout(t,e,a,h)},h.onerror=function(){n.onError!==null&&n.onError(t,e,a,h)},h.send(null)}LoadCellResources(){const t=this;let e=new Pe.Loader,a=[];for(let n=0;n<t.fbObj.cellsLength();n++)a.some(function(h){return h===t.fbObj.cells(n).cellMap().index()})||(a.push(t.fbObj.cells(n).cellMap().index()),e.add(t.fbObj.cells(n).cellMap().name(),t.rootPath+this.fbObj.cells(n).cellMap().imagePath()));e.load(function(n,h){t.resources=h,t.status="ready",t.onComplete!==null&&t.onComplete()})}load(t,e){const a=new we(t);this.fbObj=Ft.getRootAsProjectData(a);const n=new Pe.Loader;for(let s in e){const f=e[s];let r="";const c=f.byteLength;for(let d=0;d<c;d++)r+=String.fromCharCode(f[d]);const p="data:image/png;base64,"+window.btoa(r);n.add(s,p)}const h=this;n.load((s,f)=>{h.resources=f,h.status="ready",h.onComplete!==null&&h.onComplete()})}}class Ge{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class qt extends Oe.Container{constructor(t,e=null,a=null){super();this.animation=[],this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this.parts=-1,this.parentIndex=[],this.prio2index=[],this.userData=[],this.frameDataCache={},this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[],this.parentAlpha=1,this.prevCellID=[],this.prevMesh=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),this.defaultColorFilter=new Ne.ColorMatrixFilter,this.ss6project=t,this.fbObj=this.ss6project.fbObj,this.resources=this.ss6project.resources,this.parentAlpha=1,e!==null&&a!==null&&this.Setup(e,a),this.on("added",(...n)=>{De.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...n)=>{De.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this.curAnimation.endFrames()}get totalFrame(){return this.curAnimation.totalFrames()}get fps(){return this.curAnimation.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}Setup(t,e){this.clearCaches();const a=this.fbObj.animePacksLength();for(let n=0;n<a;n++)if(this.fbObj.animePacks(n).name()===t){let h;const s=this.fbObj.animePacks(n).animationsLength();for(h=0;h<s;h++)if(this.fbObj.animePacks(n).animations(h).name()===e){this.animation=[n,h],this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this.fbObj.animePacks(this.animation[0]),this.curAnimation=this.curAnimePackData.animations(this.animation[1]);break}const f=this.curAnimation.defaultDataLength();for(let c=0;c<f;c++){const p=this.curAnimation.defaultData(c);this.defaultFrameMap[p.index()]=p}this.parts=n;const r=this.fbObj.animePacks(this.parts).partsLength();for(this.parentIndex=new Array(r),this.prevCellID=new Array(r),this.prevMesh=new Array(r),this.substituteOverWrite=new Array(r),this.substituteKeyParam=new Array(r),h=0;h<r;h++){const c=this.fbObj.animePacks(this.parts).parts(h).index();this.parentIndex[c]=this.fbObj.animePacks(n).parts(h).parentIndex(),this.prevCellID[c]=-1,this.prevMesh[c]=null,this.substituteOverWrite[c]=null,this.substituteKeyParam[c]=null}}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.curAnimation.startFrames(),this._endFrame=this.curAnimation.endFrames(),this._currentFrame=this.curAnimation.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.curAnimation.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.prio2index=[],this.userData=[],this.frameDataCache=[],this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[]}Update(t){this.UpdateInternal(t)}UpdateInternal(t,e=!0){const a=De.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=a,this.nextFrameTime>=this.updateInterval){let h=!1;const s=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*s;let f=this.skipEnabled?s*this.playDirection:this.playDirection,r=this._currentFrame+f,c=Math.floor(r),p=r-c,d=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let v=c-d;v;v--){let g=d+1;if(g>this._endFrame)if(this._loops===-1)g=this._startFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,g=e?this._startFrame:this._endFrame;break}else g=this._startFrame;d=g,this._isPlaying&&this.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(d))}if(this.playDirection<=-1)for(let v=d-c;v;v--){let g=d-1;if(g<this._startFrame)if(this._loops===-1)g=this._endFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,g=e?this._endFrame:this._startFrame;break}else g=this._endFrame;d=g,this._isPlaying&&this.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(d))}this._currentFrame=d+p,h&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),s)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.curAnimation.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,a=-1){t>=0&&t<this.curAnimation.totalFrames()&&(this._startFrame=t),e>=0&&e<this.curAnimation.totalFrames()&&(this._endFrame=e),a>0?this._loops=a:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const a=Math.floor(this._currentFrame);this.SetFrameAnimation(a),this.HaveUserData(a)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(a))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}HaveUserData(t){if(this.userData[t]===-1)return!1;if(this.userData[t])return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=-1,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],a=e.dataLength();let n=0,h=[];for(let s=0;s<a;s++){const f=e.data(s).flags(),r=e.data(s).arrayIndex();let c=null,p=null,d=null,v=null,g=null,S=null,I=null,m=null,o=null;f&1&&(c=e.data(s).data(n,new Ke).integer(),n++),f&2&&(p=e.data(s).data(n,new Ie).x(),d=e.data(s).data(n,new Ie).y(),v=e.data(s).data(n,new Ie).w(),g=e.data(s).data(n,new Ie).h(),n++),f&4&&(S=e.data(s).data(n,new Ve).x(),I=e.data(s).data(n,new Ve).y(),n++),f&8&&(m=e.data(s).data(n,new $t).length(),o=e.data(s).data(n,new $t).data(),n++),h.push([r,f,c,p,d,v,g,S,I,m,o])}return h}GetPartsBlendMode(){const t=this.fbObj.animePacks(this.parts).partsLength(),e=[],a=this.fbObj.animePacks(this.parts);for(let n=0;n<t;n++)e.push(a.parts(n).alphaBlendType());return e}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let a=new Array(e);this.prio2index=new Array(e);const n=this.curAnimation.frameData(t);for(let h=0;h<e;h++){const s=n.states(h),f=s.index();let r=s.flag1(),c=s.flag2(),p=-1,d=this.GetDefaultDataByIndex(f);d.flag1=r,d.flag2=c;let v=0;if(r&it.INVISIBLE&&(d.f_hide=!0),r&it.FLIP_H&&(d.f_flipH=!0),r&it.FLIP_V&&(d.f_flipV=!0),r&it.CELL_INDEX&&(d.cellIndex=s.data(v++)),r&it.POSITION_X&&(d.positionX=this.I2F(s.data(v++))),r&it.POSITION_Y&&(d.positionY=this.I2F(s.data(v++))),r&it.POSITION_Z&&v++,r&it.PIVOT_X&&(d.pivotX=this.I2F(s.data(v++))),r&it.PIVOT_Y&&(d.pivotY=this.I2F(s.data(v++))),r&it.ROTATIONX&&v++,r&it.ROTATIONY&&v++,r&it.ROTATIONZ&&(d.rotationZ=this.I2F(s.data(v++))),r&it.SCALE_X&&(d.scaleX=this.I2F(s.data(v++))),r&it.SCALE_Y&&(d.scaleY=this.I2F(s.data(v++))),r&it.LOCALSCALE_X&&(d.localscaleX=this.I2F(s.data(v++))),r&it.LOCALSCALE_Y&&(d.localscaleY=this.I2F(s.data(v++))),r&it.OPACITY&&(d.opacity=s.data(v++)),r&it.LOCALOPACITY&&(d.localopacity=s.data(v++)),r&it.SIZE_X&&(d.size_X=this.I2F(s.data(v++))),r&it.SIZE_Y&&(d.size_Y=this.I2F(s.data(v++))),r&it.U_MOVE&&(d.uv_move_X=this.I2F(s.data(v++))),r&it.V_MOVE&&(d.uv_move_Y=this.I2F(s.data(v++))),r&it.UV_ROTATION&&(d.uv_rotation=this.I2F(s.data(v++))),r&it.U_SCALE&&(d.uv_scale_X=this.I2F(s.data(v++))),r&it.V_SCALE&&(d.uv_scale_Y=this.I2F(s.data(v++))),r&it.BOUNDINGRADIUS&&v++,r&it.MASK&&(d.masklimen=s.data(v++)),r&it.PRIORITY&&(d.priority=s.data(v++)),r&it.INSTANCE_KEYFRAME&&(d.instanceValue_curKeyframe=s.data(v++),d.instanceValue_startFrame=s.data(v++),d.instanceValue_endFrame=s.data(v++),d.instanceValue_loopNum=s.data(v++),d.instanceValue_speed=this.I2F(s.data(v++)),d.instanceValue_loopflag=s.data(v++)),r&it.EFFECT_KEYFRAME&&(d.effectValue_curKeyframe=s.data(v++),d.effectValue_startTime=s.data(v++),d.effectValue_speed=this.I2F(s.data(v++)),d.effectValue_loopflag=s.data(v++)),r&it.VERTEX_TRANSFORM){d.f_mesh=!0;const g=d.i_transformVerts=s.data(v++);g&1&&(d.u00=this.I2F(s.data(v++)),d.v00=this.I2F(s.data(v++))),g&2&&(d.u01=this.I2F(s.data(v++)),d.v01=this.I2F(s.data(v++))),g&4&&(d.u10=this.I2F(s.data(v++)),d.v10=this.I2F(s.data(v++))),g&8&&(d.u11=this.I2F(s.data(v++)),d.v11=this.I2F(s.data(v++)))}if(r&it.PARTS_COLOR){const g=s.data(v++);if(p=g&255,d.useColorMatrix=p!==1,g&4096){const S=this.I2F(s.data(v++)),I=s.data(v++),m=s.data(v++),o=I<<16|m;d.partsColorARGB=o>>>0,p===1?d.tint=o&16777215:d.colorMatrix=this.GetColorMatrixFilter(p,S,o)}g&2048&&(v++,v++,v++,d.colorMatrix=this.defaultColorFilter),g&1024&&(v++,v++,v++,d.colorMatrix=this.defaultColorFilter),g&512&&(v++,v++,v++,d.colorMatrix=this.defaultColorFilter),g&256&&(v++,v++,v++,d.colorMatrix=this.defaultColorFilter)}if(c&Be.MESHDATA){d.meshIsBind=this.curAnimation.meshsDataUV(f).uv(0),d.meshNum=this.curAnimation.meshsDataUV(f).uv(1);let g=new Float32Array(d.meshNum*3);for(let S=0;S<d.meshNum;S++){const I=this.I2F(s.data(v++)),m=this.I2F(s.data(v++)),o=this.I2F(s.data(v++));g[S*3+0]=I,g[S*3+1]=m,g[S*3+2]=o}d.meshDataPoint=g}a[f]=d,this.prio2index[h]=f,this.fbObj.animePacks(this.parts).parts(f).type()===0&&(a[f].cellIndex=-2)}return this.frameDataCache=a,this.currentCachedFrameNumber=t,a}GetColorMatrixFilter(t,e,a){const n=t.toString()+"_"+e.toString()+"_"+a.toString();if(this.colorMatrixFilterCache[n])return this.colorMatrixFilterCache[n];const h=new Ne.ColorMatrixFilter,s=((a&4278190080)>>>24)/255,f=((a&16711680)>>>16)/255,r=((a&65280)>>>8)/255,c=(a&255)/255;if(t===0){const p=1-e;h.matrix=[p,0,0,0,f*e,0,p,0,0,r*e,0,0,p,0,c*e,0,0,0,1,0]}else t===1?h.matrix=[f,0,0,0,0,0,r,0,0,0,0,0,c,0,0,0,0,0,s,0]:t===2?h.matrix=[1,0,0,0,f,0,1,0,0,r,0,0,1,0,c,0,0,0,s,0]:t===3&&(h.matrix=[1,0,0,0,-f,0,1,0,0,-r,0,0,1,0,-c,0,0,0,s,0]);return this.colorMatrixFilterCache[n]=h,h}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];return{index:e.index(),lowflag:e.lowflag(),highflag:e.highflag(),priority:e.priority(),cellIndex:e.cellIndex(),opacity:e.opacity(),localopacity:e.localopacity(),masklimen:e.masklimen(),positionX:e.positionX(),positionY:e.positionY(),pivotX:e.pivotX(),pivotY:e.pivotY(),rotationX:e.rotationX(),rotationY:e.rotationY(),rotationZ:e.rotationZ(),scaleX:e.scaleX(),scaleY:e.scaleY(),localscaleX:e.localscaleX(),localscaleY:e.localscaleY(),size_X:e.sizeX(),size_Y:e.sizeY(),uv_move_X:e.uvMoveX(),uv_move_Y:e.uvMoveY(),uv_rotation:e.uvRotation(),uv_scale_X:e.uvScaleX(),uv_scale_Y:e.uvScaleY(),boundingRadius:e.boundingRadius(),instanceValue_curKeyframe:e.instanceValueCurKeyframe(),instanceValue_endFrame:e.instanceValueEndFrame(),instanceValue_startFrame:e.instanceValueStartFrame(),instanceValue_loopNum:e.instanceValueLoopNum(),instanceValue_speed:e.instanceValueSpeed(),instanceValue_loopflag:e.instanceValueLoopflag(),effectValue_curKeyframe:e.effectValueCurKeyframe(),effectValue_startTime:e.effectValueStartTime(),effectValue_speed:e.effectValueSpeed(),effectValue_loopflag:e.effectValueLoopflag(),f_hide:!1,f_flipH:!1,f_flipV:!1,f_mesh:!1,i_transformVerts:0,u00:0,v00:0,u01:0,v01:0,u10:0,v10:0,u11:0,v11:0,useColorMatrix:!1,colorMatrix:null,meshIsBind:0,meshNum:0,meshDataPoint:0,flag1:0,flag2:0,partsColorARGB:0}}SetFrameAnimation(t,e=0){const a=this.GetFrameData(t);this.removeChildren();const n=a.length;for(let h=0;h<n;h=h+1|0){const s=this.prio2index[h],f=a[s],r=f.cellIndex;let c=this.prevMesh[s];const p=this.fbObj.animePacks(this.parts).parts(s),d=p.type();let v=this.substituteOverWrite[s]!==null?this.substituteOverWrite[s]:!1,g=this.substituteKeyParam[s];switch(d){case kt.Instance:c==null&&(c=this.MakeCellPlayer(p.refname()),c.name=p.name());break;case kt.Normal:case kt.Mask:r>=0&&this.prevCellID[s]!==r&&(c!=null&&c.destroy(),c=this.MakeCellMesh(r),c.name=p.name());break;case kt.Mesh:r>=0&&this.prevCellID[s]!==r&&(c!=null&&c.destroy(),c=this.MakeMeshCellMesh(s,r),c.name=p.name());break;case kt.Nulltype:case kt.Joint:this.prevCellID[s]!==r&&(c!=null&&c.destroy(),c=new Oe.Container,c.name=p.name());break;default:r>=0&&this.prevCellID[s]!==r&&(c!=null&&c.destroy(),c=this.MakeCellMesh(r),c.name=p.name());break}if(c!=null)switch(this.prevCellID[s]=r,this.prevMesh[s]=c,d){case kt.Instance:{let S=new Float32Array(5);S[0]=0,S[1]=0,S[2]=1,S[3]=1,S[4]=0,S=this.TransformPositionLocal(S,f.index,t);const I=S[4]*Math.PI/180;c.rotation=I,c.position.set(S[0],S[1]),c.scale.set(S[2],S[3]);let m=f.opacity/255;f.localopacity<255&&(m=f.localopacity/255),c.SetAlpha(m*this.parentAlpha),c.visible=!f.f_hide;let o=f.instanceValue_curKeyframe,b=f.instanceValue_startFrame,w=f.instanceValue_endFrame,O=f.instanceValue_speed,y=f.instanceValue_loopNum,F=!1,C=!1,A=!1,L=!1;const N=1,V=2,z=4,Y=8,Q=f.instanceValue_loopflag;Q&N&&(F=!0),Q&V&&(C=!0),Q&z&&(A=!0),Q&Y&&(L=!0),v&&(b=g.refStartframe,w=g.refEndframe,O=g.refSpeed,y=g.refloopNum,F=g.infinity,C=g.reverse,A=g.pingpong,L=g.independent);let G=t;L===!0&&(this.liveFrame[h]+=e,G=Math.floor(this.liveFrame[h]));const et=o;let J=Math.floor((G-et)*O);if(J<0||et>G)continue;const Z=w-b+1;if(Z<=0)continue;let tt=Math.floor(J/Z),nt=y;A&&(nt=nt*2),F||tt>=nt&&(J=Z-1,tt=nt-1);const ut=Math.floor(J%Z);let K=0;A&&tt%2===1&&(C?C=!1:C=!0),this.playDirection<=-1&&(C=!C),C?K=w-ut:K=ut+b,c.SetFrame(Math.floor(K)),this.addChild(c);break}case kt.Normal:case kt.Mesh:case kt.Joint:case kt.Mask:{const S=this.fbObj.cells(r);let I;if(d===kt.Mesh?f.meshIsBind===0?I=this.TransformMeshVertsLocal(qt.GetMeshVerts(S,f),f.index,t):I=qt.GetMeshVerts(S,f):I=this.TransformVertsLocal(qt.GetVerts(S,f),f.index,t),f.flag1&it.VERTEX_TRANSFORM){const O=I[3*2+0],y=I[3*2+1],F=I[1*2+0],C=I[1*2+1],A=I[4*2+0],L=I[4*2+1],N=I[2*2+0],V=I[2*2+1],z=(O+A)*.5,Y=(y+L)*.5,Q=(O+F)*.5,G=(y+C)*.5,et=(F+N)*.5,J=(C+V)*.5,Z=(A+N)*.5,tt=(L+V)*.5,nt=qt.CoordinateGetDiagonalIntersection(I[0],I[1],z,Y,Z,tt,Q,G,et,J);I[0]=nt[0],I[1]=nt[1]}const m=I[0],o=I[1];for(let O=0;O<I.length/2;O++)I[O*2]-=m,I[O*2+1]-=o;if(c.vertices=I,f.flag1&it.U_MOVE||f.flag1&it.V_MOVE||f.flag1&it.U_SCALE||f.flag1&it.V_SCALE||f.flag1&it.UV_ROTATION){const O=S.u1()+f.uv_move_X,y=S.u2()+f.uv_move_X,F=S.v1()+f.uv_move_Y,C=S.v2()+f.uv_move_Y,A=(y+O)/2,L=(C+F)/2,N=(y-O)/2*f.uv_scale_X,V=(C-F)/2*f.uv_scale_Y;if(c.uvs[0]=A,c.uvs[1]=L,c.uvs[2]=A-N,c.uvs[3]=L-V,c.uvs[4]=A+N,c.uvs[5]=L-V,c.uvs[6]=A-N,c.uvs[7]=L+V,c.uvs[8]=A+N,c.uvs[9]=L+V,f.flag1&it.UV_ROTATION){const z=f.uv_rotation*Math.PI/180;for(let Y=0;Y<5;Y++){const Q=c.uvs[Y*2+0]-A,G=c.uvs[Y*2+1]-L,et=Math.cos(z),J=Math.sin(z),Z=et*Q-J*G,tt=J*Q+et*G;c.uvs[Y*2+0]=A+Z,c.uvs[Y*2+1]=L+tt}}c.dirty++}c.position.set(m,o);let b=f.opacity/255;if(f.localopacity<255&&(b=f.localopacity/255),c.alpha=b*this.parentAlpha,c.visible=!f.f_hide,f.useColorMatrix&&(c.filters=[f.colorMatrix]),f.tint){c.tint=f.tint;const O=((f.partsColorARGB&4278190080)>>>24)/255;c.alpha=c.alpha*O}f.tintRgb&&(c.tintRgb=f.tintRgb);const w=this.alphaBlendType[s];w===0&&(c.blendMode=Wt.BLEND_MODES.NORMAL),w===1&&(c.blendMode=Wt.BLEND_MODES.MULTIPLY,c.alpha=1),w===2&&(c.blendMode=Wt.BLEND_MODES.ADD),w===3&&(c.blendMode=Wt.BLEND_MODES.NORMAL),w===4&&(c.blendMode=Wt.BLEND_MODES.MULTIPLY),w===5&&(c.blendMode=Wt.BLEND_MODES.SCREEN,c.alpha=1),w===6&&(c.blendMode=Wt.BLEND_MODES.EXCLUSION),w===7&&(c.blendMode=Wt.BLEND_MODES.NORMAL),d!==kt.Mask&&this.addChild(c);break}case kt.Nulltype:{const S=this.InheritOpacity(1,f.index,t);c.alpha=S*f.localopacity/255;const I=this.TransformVerts(qt.GetDummyVerts(),f.index,t),m=I[0],o=I[1];c.position.set(m,o);const b=Math.atan2(I[5]-I[3],I[4]-I[2]),w=Math.atan2(I[7]-I[3],I[6]-I[2]);c.rotation=b,c.skew.x=w-b-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,a,n,h=null){let s=!1;if(this.curAnimePackName!==null&&this.curAnimation!==null){let f=this.curAnimePackData,r=f.partsLength();for(let c=0;c<r;c++){let p=f.parts(c);if(p.name()===t){let d=this.prevMesh[c];if(d===null||d instanceof qt){if(this.substituteOverWrite[c]=n,h===null){let v=new Ge;v.refStartframe=d.startFrame,v.refEndframe=d.endFrame,this.substituteKeyParam[c]=v}else this.substituteKeyParam[c]=h;d=this.MakeCellPlayer(e+"/"+a,this.substituteKeyParam[c].refStartframe),d.name=p.name(),this.prevMesh[c]=d,s=!0;break}}}}return s}InheritOpacity(t,e,a){return t=this.GetFrameData(a)[e].opacity/255,this.parentIndex[e]>=0&&(t=this.InheritOpacity(t,this.parentIndex[e],a)),t}TransformVertsLocal(t,e,a){const n=this.GetFrameData(a)[e],h=-n.rotationZ*Math.PI/180,s=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let c=t[r*2],p=t[r*2+1];n.i_transformVerts&1&&r===1&&(c+=n.u00,p-=n.v00),n.i_transformVerts&2&&r===2&&(c+=n.u01,p-=n.v01),n.i_transformVerts&4&&r===3&&(c+=n.u10,p-=n.v10),n.i_transformVerts&8&&r===4&&(c+=n.u11,p-=n.v11),c*=n.scaleX*n.localscaleX,p*=n.scaleY*n.localscaleY,t[r*2]=s*c-f*p+n.positionX,t[r*2+1]=f*c+s*p-n.positionY,n.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),n.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformMeshVertsLocal(t,e,a){const n=this.GetFrameData(a)[e],h=-n.rotationZ*Math.PI/180,s=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let c=t[r*2],p=t[r*2+1];c*=n.scaleX*n.localscaleX,p*=n.scaleY*n.localscaleY,t[r*2]=s*c-f*p+n.positionX,t[r*2+1]=f*c+s*p-n.positionY}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformPositionLocal(t,e,a){const n=this.GetFrameData(a)[e];t[4]+=-n.rotationZ;const h=-n.rotationZ*Math.PI/180,s=Math.cos(h),f=Math.sin(h),r=t[0],c=t[1];return t[2]*=n.scaleX*n.localscaleX,t[3]*=n.scaleY*n.localscaleY,t[0]=s*r-f*c+n.positionX,t[1]=f*r+s*c-n.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],a)),t}static CoordinateGetDiagonalIntersection(t,e,a,n,h,s,f,r,c,p){let d=new Float32Array([t,e]);const v=(r-s)*(f-a)-(f-h)*(r-n),g=(c-a)*(r-n)-(p-n)*(f-a),S=(c-a)*(r-s)-(p-n)*(f-h);if(S<=0&&S>=0)return d;const I=v/S,m=g/S;return 0<=I&&1>=I&&0<=m&&1>=m&&(t=a+I*(c-a),e=n+I*(p-n)),d[0]=t,d[1]=e,d}TransformVerts(t,e,a){const n=this.GetFrameData(a)[e],h=-n.rotationZ*Math.PI/180,s=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let c=t[r*2],p=t[r*2+1];c*=n.scaleX,p*=n.scaleY,t[r*2]=s*c-f*p+n.positionX,t[r*2+1]=f*c+s*p-n.positionY,n.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),n.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformPosition(t,e,a){const n=this.GetFrameData(a)[e];t[4]+=-n.rotationZ;const h=-n.rotationZ*Math.PI/180,s=Math.cos(h),f=Math.sin(h),r=t[0],c=t[1];return t[2]*=n.scaleX,t[3]*=n.scaleY,t[0]=s*r-f*c+n.positionX,t[1]=f*r+s*c-n.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],a)),t}MakeCellMesh(t){const e=this.fbObj.cells(t),a=e.u1(),n=e.u2(),h=e.v1(),s=e.v2(),f=e.width()/2,r=e.height()/2,c=new Float32Array([0,0,-f,-r,f,-r,-f,r,f,r]),p=new Float32Array([(a+n)/2,(h+s)/2,a,h,n,h,a,s,n,s]),d=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new Re.SimpleMesh(this.resources[e.cellMap().name()].texture,c,p,d,Wt.DRAW_MODES.TRIANGLES)}MakeMeshCellMesh(t,e){const a=this.curAnimation.meshsDataUV(t),n=a.uvLength();if(n>0){const h=new Float32Array(n-2),s=a.uv(1);for(let v=2;v<n;v++)h[v-2]=a.uv(v);const f=this.curAnimation.meshsDataIndices(t),r=f.indicesLength(),c=new Uint16Array(r-1);for(let v=1;v<r;v++)c[v-1]=f.indices(v);const p=new Float32Array(s*2);return new Re.SimpleMesh(this.resources[this.fbObj.cells(e).cellMap().name()].texture,p,h,c,Wt.DRAW_MODES.TRIANGLES)}return null}MakeCellPlayer(t,e=void 0){const a=t.split("/"),n=new qt(this.ss6project);return n.Setup(a[0],a[1]),n.Play(e),n}static GetVerts(t,e){const a=e.size_X/2,n=e.size_Y/2,h=e.size_X*-(e.pivotX+t.pivotX()),s=e.size_Y*(e.pivotY+t.pivotY());return new Float32Array([h,s,h-a,s-n,h+a,s-n,h-a,s+n,h+a,s+n])}static GetMeshVerts(t,e){let a=new Float32Array(e.meshNum*2);for(let n=0;n<e.meshNum;n++)a[n*2+0]=e.meshDataPoint[n*3+0],a[n*2+1]=-e.meshDataPoint[n*3+1];return a}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}resetLiveFrame(){const t=this.curAnimation.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class Je extends qt{constructor(t){super(t.projectData);this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let a=this;this.playEndCallback=n=>{a.ssWebPlayer&&a.ssWebPlayer.playEndCallback&&a.ssWebPlayer.playEndCallback(a)},this.onUserDataCallback=n=>{a.ssWebPlayer&&a.ssWebPlayer.onUpdateCallback&&a.ssWebPlayer.onUpdateCallback(a)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.curAnimation;let e={};const a=t.userDataLength();for(let n=0;n<a;n++){const s=t.userData(n).frameIndex();let f=e[s];f==null&&(f={});const r=this.GetUserData(s);let c={};const p=r.length;for(let d=0;d<p;d++){const v=r[d],g=v[0],I=this.curAnimePackData.parts(g).name();v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9];const m=v[10];c[I]={string:m}}f.userData=c,e[s]=f}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var je=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ke(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ye={exports:{}};/*!

  JSZip v3.7.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/master/LICENSE
  */(function(R,t){(function(e){R.exports=e()})(function(){return function e(a,n,h){function s(c,p){if(!n[c]){if(!a[c]){var d=typeof ke=="function"&&ke;if(!p&&d)return d(c,!0);if(f)return f(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var g=n[c]={exports:{}};a[c][0].call(g.exports,function(S){var I=a[c][1][S];return s(I||S)},g,g.exports,e,a,n,h)}return n[c].exports}for(var f=typeof ke=="function"&&ke,r=0;r<h.length;r++)s(h[r]);return s}({1:[function(e,a,n){var h=e("./utils"),s=e("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(r){for(var c=[],p,d,v,g,S,I,m,o=0,b=r.length,w=b,O=h.getTypeOf(r)!=="string";o<r.length;)w=b-o,O?(p=r[o++],d=o<b?r[o++]:0,v=o<b?r[o++]:0):(p=r.charCodeAt(o++),d=o<b?r.charCodeAt(o++):0,v=o<b?r.charCodeAt(o++):0),g=p>>2,S=(p&3)<<4|d>>4,I=w>1?(d&15)<<2|v>>6:64,m=w>2?v&63:64,c.push(f.charAt(g)+f.charAt(S)+f.charAt(I)+f.charAt(m));return c.join("")},n.decode=function(r){var c,p,d,v,g,S,I,m=0,o=0,b="data:";if(r.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");var w=r.length*3/4;if(r.charAt(r.length-1)===f.charAt(64)&&w--,r.charAt(r.length-2)===f.charAt(64)&&w--,w%1!==0)throw new Error("Invalid base64 input, bad content length.");var O;for(s.uint8array?O=new Uint8Array(w|0):O=new Array(w|0);m<r.length;)v=f.indexOf(r.charAt(m++)),g=f.indexOf(r.charAt(m++)),S=f.indexOf(r.charAt(m++)),I=f.indexOf(r.charAt(m++)),c=v<<2|g>>4,p=(g&15)<<4|S>>2,d=(S&3)<<6|I,O[o++]=c,S!==64&&(O[o++]=p),I!==64&&(O[o++]=d);return O}},{"./support":30,"./utils":32}],2:[function(e,a,n){var h=e("./external"),s=e("./stream/DataWorker"),f=e("./stream/Crc32Probe"),r=e("./stream/DataLengthProbe");function c(p,d,v,g,S){this.compressedSize=p,this.uncompressedSize=d,this.crc32=v,this.compression=g,this.compressedContent=S}c.prototype={getContentWorker:function(){var p=new s(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),d=this;return p.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new s(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(p,d,v){return p.pipe(new f).pipe(new r("uncompressedSize")).pipe(d.compressWorker(v)).pipe(new r("compressedSize")).withStreamInfo("compression",d)},a.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,a,n){var h=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(s){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,a,n){var h=e("./utils");function s(){for(var p,d=[],v=0;v<256;v++){p=v;for(var g=0;g<8;g++)p=p&1?3988292384^p>>>1:p>>>1;d[v]=p}return d}var f=s();function r(p,d,v,g){var S=f,I=g+v;p=p^-1;for(var m=g;m<I;m++)p=p>>>8^S[(p^d[m])&255];return p^-1}function c(p,d,v,g){var S=f,I=g+v;p=p^-1;for(var m=g;m<I;m++)p=p>>>8^S[(p^d.charCodeAt(m))&255];return p^-1}a.exports=function(d,v){if(typeof d=="undefined"||!d.length)return 0;var g=h.getTypeOf(d)!=="string";return g?r(v|0,d,d.length,0):c(v|0,d,d.length,0)}},{"./utils":32}],5:[function(e,a,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,a,n){var h=null;typeof Promise!="undefined"?h=Promise:h=e("lie"),a.exports={Promise:h}},{lie:37}],7:[function(e,a,n){var h=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=e("pako"),f=e("./utils"),r=e("./stream/GenericWorker"),c=h?"uint8array":"array";n.magic="\b\0";function p(d,v){r.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=v,this.meta={}}f.inherits(p,r),p.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(c,d.data),!1)},p.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(v){d.push({data:v,meta:d.meta})}},n.compressWorker=function(d){return new p("Deflate",d)},n.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,a,n){var h=e("../utils"),s=e("../stream/GenericWorker"),f=e("../utf8"),r=e("../crc32"),c=e("../signature"),p=function(o,b){var w="",O;for(O=0;O<b;O++)w+=String.fromCharCode(o&255),o=o>>>8;return w},d=function(o,b){var w=o;return o||(w=b?16893:33204),(w&65535)<<16},v=function(o,b){return(o||0)&63},g=function(o,b,w,O,y,F){var C=o.file,A=o.compression,L=F!==f.utf8encode,N=h.transformTo("string",F(C.name)),V=h.transformTo("string",f.utf8encode(C.name)),z=C.comment,Y=h.transformTo("string",F(z)),Q=h.transformTo("string",f.utf8encode(z)),G=V.length!==C.name.length,et=Q.length!==z.length,J,Z,tt="",nt="",ut="",K=C.dir,lt=C.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};(!b||w)&&(ft.crc32=o.crc32,ft.compressedSize=o.compressedSize,ft.uncompressedSize=o.uncompressedSize);var Ot=0;b&&(Ot|=8),!L&&(G||et)&&(Ot|=2048);var xt=0,mt=0;K&&(xt|=16),y==="UNIX"?(mt=798,xt|=d(C.unixPermissions,K)):(mt=20,xt|=v(C.dosPermissions)),J=lt.getUTCHours(),J=J<<6,J=J|lt.getUTCMinutes(),J=J<<5,J=J|lt.getUTCSeconds()/2,Z=lt.getUTCFullYear()-1980,Z=Z<<4,Z=Z|lt.getUTCMonth()+1,Z=Z<<5,Z=Z|lt.getUTCDate(),G&&(nt=p(1,1)+p(r(N),4)+V,tt+="up"+p(nt.length,2)+nt),et&&(ut=p(1,1)+p(r(Y),4)+Q,tt+="uc"+p(ut.length,2)+ut);var at="";at+=`
\0`,at+=p(Ot,2),at+=A.magic,at+=p(J,2),at+=p(Z,2),at+=p(ft.crc32,4),at+=p(ft.compressedSize,4),at+=p(ft.uncompressedSize,4),at+=p(N.length,2),at+=p(tt.length,2);var St=c.LOCAL_FILE_HEADER+at+N+tt,gt=c.CENTRAL_FILE_HEADER+p(mt,2)+at+p(Y.length,2)+"\0\0\0\0"+p(xt,4)+p(O,4)+N+tt+Y;return{fileRecord:St,dirRecord:gt}},S=function(o,b,w,O,y){var F="",C=h.transformTo("string",y(O));return F=c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(o,2)+p(o,2)+p(b,4)+p(w,4)+p(C.length,2)+C,F},I=function(o){var b="";return b=c.DATA_DESCRIPTOR+p(o.crc32,4)+p(o.compressedSize,4)+p(o.uncompressedSize,4),b};function m(o,b,w,O){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=w,this.encodeFileName=O,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(m,s),m.prototype.push=function(o){var b=o.meta.percent||0,w=this.entriesCount,O=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,s.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:w?(b+100*(w-O-1))/w:100}}))},m.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var b=this.streamFiles&&!o.file.dir;if(b){var w=g(o,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(o){this.accumulate=!1;var b=this.streamFiles&&!o.file.dir,w=g(o,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),b)this.push({data:I(o),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var o=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var w=this.bytesWritten-o,O=S(this.dirRecords.length,w,o,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(o){this._sources.push(o);var b=this;return o.on("data",function(w){b.processChunk(w)}),o.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),o.on("error",function(w){b.error(w)}),this},m.prototype.resume=function(){if(!s.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},m.prototype.error=function(o){var b=this._sources;if(!s.prototype.error.call(this,o))return!1;for(var w=0;w<b.length;w++)try{b[w].error(o)}catch{}return!0},m.prototype.lock=function(){s.prototype.lock.call(this);for(var o=this._sources,b=0;b<o.length;b++)o[b].lock()},a.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,a,n){var h=e("../compressions"),s=e("./ZipFileWorker"),f=function(r,c){var p=r||c,d=h[p];if(!d)throw new Error(p+" is not a valid compression method !");return d};n.generateWorker=function(r,c,p){var d=new s(c.streamFiles,p,c.platform,c.encodeFileName),v=0;try{r.forEach(function(g,S){v++;var I=f(S.options.compression,c.compression),m=S.options.compressionOptions||c.compressionOptions||{},o=S.dir,b=S.date;S._compressWorker(I,m).withStreamInfo("file",{name:g,dir:o,date:b,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(d)}),d.entriesCount=v}catch(g){d.error(g)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,a,n){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new h;for(var f in this)typeof this[f]!="function"&&(s[f]=this[f]);return s}}h.prototype=e("./object"),h.prototype.loadAsync=e("./load"),h.support=e("./support"),h.defaults=e("./defaults"),h.version="3.7.1",h.loadAsync=function(s,f){return new h().loadAsync(s,f)},h.external=e("./external"),a.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,a,n){var h=e("./utils"),s=e("./external"),f=e("./utf8"),r=e("./zipEntries"),c=e("./stream/Crc32Probe"),p=e("./nodejsUtils");function d(v){return new s.Promise(function(g,S){var I=v.decompressed.getContentWorker().pipe(new c);I.on("error",function(m){S(m)}).on("end",function(){I.streamInfo.crc32!==v.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}a.exports=function(v,g){var S=this;return g=h.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),p.isNode&&p.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",v,!0,g.optimizedBinaryString,g.base64).then(function(I){var m=new r(g);return m.load(I),m}).then(function(m){var o=[s.Promise.resolve(m)],b=m.files;if(g.checkCRC32)for(var w=0;w<b.length;w++)o.push(d(b[w]));return s.Promise.all(o)}).then(function(m){for(var o=m.shift(),b=o.files,w=0;w<b.length;w++){var O=b[w];S.file(O.fileNameStr,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:g.createFolders})}return o.zipComment.length&&(S.comment=o.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,a,n){var h=e("../utils"),s=e("../stream/GenericWorker");function f(r,c){s.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(c)}h.inherits(f,s),f.prototype._bindStream=function(r){var c=this;this._stream=r,r.pause(),r.on("data",function(p){c.push({data:p,meta:{percent:0}})}).on("error",function(p){c.isPaused?this.generatedError=p:c.error(p)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},f.prototype.pause=function(){return s.prototype.pause.call(this)?(this._stream.pause(),!0):!1},f.prototype.resume=function(){return s.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},a.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,a,n){var h=e("readable-stream").Readable,s=e("../utils");s.inherits(f,h);function f(r,c,p){h.call(this,c),this._helper=r;var d=this;r.on("data",function(v,g){d.push(v)||d._helper.pause(),p&&p(g)}).on("error",function(v){d.emit("error",v)}).on("end",function(){d.push(null)})}f.prototype._read=function(){this._helper.resume()},a.exports=f},{"../utils":32,"readable-stream":16}],14:[function(e,a,n){a.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(h,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,s);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,s)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var s=new Buffer(h);return s.fill(0),s},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(e,a,n){var h=e("./utf8"),s=e("./utils"),f=e("./stream/GenericWorker"),r=e("./stream/StreamHelper"),c=e("./defaults"),p=e("./compressedObject"),d=e("./zipObject"),v=e("./generate"),g=e("./nodejsUtils"),S=e("./nodejs/NodejsStreamInputAdapter"),I=function(y,F,C){var A=s.getTypeOf(F),L,N=s.extend(C||{},c);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&N.unixPermissions&16384&&(N.dir=!0),N.dosPermissions&&N.dosPermissions&16&&(N.dir=!0),N.dir&&(y=o(y)),N.createFolders&&(L=m(y))&&b.call(this,L,!0);var V=A==="string"&&N.binary===!1&&N.base64===!1;(!C||typeof C.binary=="undefined")&&(N.binary=!V);var z=F instanceof p&&F.uncompressedSize===0;(z||N.dir||!F||F.length===0)&&(N.base64=!1,N.binary=!0,F="",N.compression="STORE",A="string");var Y=null;F instanceof p||F instanceof f?Y=F:g.isNode&&g.isStream(F)?Y=new S(y,F):Y=s.prepareContent(y,F,N.binary,N.optimizedBinaryString,N.base64);var Q=new d(y,Y,N);this.files[y]=Q},m=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var F=y.lastIndexOf("/");return F>0?y.substring(0,F):""},o=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},b=function(y,F){return F=typeof F!="undefined"?F:c.createFolders,y=o(y),this.files[y]||I.call(this,y,null,{dir:!0,createFolders:F}),this.files[y]};function w(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var F,C,A;for(F in this.files)A=this.files[F],C=F.slice(this.root.length,F.length),C&&F.slice(0,this.root.length)===this.root&&y(C,A)},filter:function(y){var F=[];return this.forEach(function(C,A){y(C,A)&&F.push(A)}),F},file:function(y,F,C){if(arguments.length===1)if(w(y)){var A=y;return this.filter(function(N,V){return!V.dir&&A.test(N)})}else{var L=this.files[this.root+y];return L&&!L.dir?L:null}else y=this.root+y,I.call(this,y,F,C);return this},folder:function(y){if(!y)return this;if(w(y))return this.filter(function(L,N){return N.dir&&y.test(L)});var F=this.root+y,C=b.call(this,F),A=this.clone();return A.root=C.name,A},remove:function(y){y=this.root+y;var F=this.files[y];if(F||(y.slice(-1)!=="/"&&(y+="/"),F=this.files[y]),F&&!F.dir)delete this.files[y];else for(var C=this.filter(function(L,N){return N.name.slice(0,y.length)===y}),A=0;A<C.length;A++)delete this.files[C[A].name];return this},generate:function(y){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var F,C={};try{if(C=s.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),C.type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");s.checkSupport(C.type),(C.platform==="darwin"||C.platform==="freebsd"||C.platform==="linux"||C.platform==="sunos")&&(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var A=C.comment||this.comment||"";F=v.generateWorker(this,C,A)}catch(L){F=new f("error"),F.error(L)}return new r(F,C.type||"string",C.mimeType)},generateAsync:function(y,F){return this.generateInternalStream(y).accumulate(F)},generateNodeStream:function(y,F){return y=y||{},y.type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(F)}};a.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,a,n){a.exports=e("stream")},{stream:void 0}],17:[function(e,a,n){var h=e("./DataReader"),s=e("../utils");function f(r){h.call(this,r);for(var c=0;c<this.data.length;c++)r[c]=r[c]&255}s.inherits(f,h),f.prototype.byteAt=function(r){return this.data[this.zero+r]},f.prototype.lastIndexOfSignature=function(r){for(var c=r.charCodeAt(0),p=r.charCodeAt(1),d=r.charCodeAt(2),v=r.charCodeAt(3),g=this.length-4;g>=0;--g)if(this.data[g]===c&&this.data[g+1]===p&&this.data[g+2]===d&&this.data[g+3]===v)return g-this.zero;return-1},f.prototype.readAndCheckSignature=function(r){var c=r.charCodeAt(0),p=r.charCodeAt(1),d=r.charCodeAt(2),v=r.charCodeAt(3),g=this.readData(4);return c===g[0]&&p===g[1]&&d===g[2]&&v===g[3]},f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},a.exports=f},{"../utils":32,"./DataReader":18}],18:[function(e,a,n){var h=e("../utils");function s(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(f){},readInt:function(f){var r=0,c;for(this.checkOffset(f),c=this.index+f-1;c>=this.index;c--)r=(r<<8)+this.byteAt(c);return this.index+=f,r},readString:function(f){return h.transformTo("string",this.readData(f))},readData:function(f){},lastIndexOfSignature:function(f){},readAndCheckSignature:function(f){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC((f>>25&127)+1980,(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(f&31)<<1))}},a.exports=s},{"../utils":32}],19:[function(e,a,n){var h=e("./Uint8ArrayReader"),s=e("../utils");function f(r){h.call(this,r)}s.inherits(f,h),f.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},a.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,a,n){var h=e("./DataReader"),s=e("../utils");function f(r){h.call(this,r)}s.inherits(f,h),f.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},f.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},f.prototype.readAndCheckSignature=function(r){var c=this.readData(4);return r===c},f.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},a.exports=f},{"../utils":32,"./DataReader":18}],21:[function(e,a,n){var h=e("./ArrayReader"),s=e("../utils");function f(r){h.call(this,r)}s.inherits(f,h),f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},a.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(e,a,n){var h=e("../utils"),s=e("../support"),f=e("./ArrayReader"),r=e("./StringReader"),c=e("./NodeBufferReader"),p=e("./Uint8ArrayReader");a.exports=function(d){var v=h.getTypeOf(d);return h.checkSupport(v),v==="string"&&!s.uint8array?new r(d):v==="nodebuffer"?new c(d):s.uint8array?new p(h.transformTo("uint8array",d)):new f(h.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,a,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,a,n){var h=e("./GenericWorker"),s=e("../utils");function f(r){h.call(this,"ConvertWorker to "+r),this.destType=r}s.inherits(f,h),f.prototype.processChunk=function(r){this.push({data:s.transformTo(this.destType,r.data),meta:r.meta})},a.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(e,a,n){var h=e("./GenericWorker"),s=e("../crc32"),f=e("../utils");function r(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f.inherits(r,h),r.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},a.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,a,n){var h=e("../utils"),s=e("./GenericWorker");function f(r){s.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}h.inherits(f,s),f.prototype.processChunk=function(r){if(r){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+r.data.length}s.prototype.processChunk.call(this,r)},a.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(e,a,n){var h=e("../utils"),s=e("./GenericWorker"),f=16*1024;function r(c){s.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){p.dataIsReady=!0,p.data=d,p.max=d&&d.length||0,p.type=h.getTypeOf(d),p.isPaused||p._tickAndRepeat()},function(d){p.error(d)})}h.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return s.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=f,p=null,d=Math.min(this.max,this.index+c);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,d);break;case"uint8array":p=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":p=this.data.slice(this.index,d);break}return this.index=d,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(e,a,n){function h(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return this.isFinished?!1:(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,f){return this._listeners[s].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,f){if(this._listeners[s])for(var r=0;r<this._listeners[s].length;r++)this._listeners[s][r].call(this,f)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var f=this;return s.on("data",function(r){f.processChunk(r)}),s.on("end",function(){f.end()}),s.on("error",function(r){f.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var s=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,f){return this.extraStreamInfo[s]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(s)||(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},a.exports=h},{}],29:[function(e,a,n){var h=e("../utils"),s=e("./ConvertWorker"),f=e("./GenericWorker"),r=e("../base64"),c=e("../support"),p=e("../external"),d=null;if(c.nodestream)try{d=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(m,o,b){switch(m){case"blob":return h.newBlob(h.transformTo("arraybuffer",o),b);case"base64":return r.encode(o);default:return h.transformTo(m,o)}}function g(m,o){var b,w=0,O=null,y=0;for(b=0;b<o.length;b++)y+=o[b].length;switch(m){case"string":return o.join("");case"array":return Array.prototype.concat.apply([],o);case"uint8array":for(O=new Uint8Array(y),b=0;b<o.length;b++)O.set(o[b],w),w+=o[b].length;return O;case"nodebuffer":return Buffer.concat(o);default:throw new Error("concat : unsupported type '"+m+"'")}}function S(m,o){return new p.Promise(function(b,w){var O=[],y=m._internalType,F=m._outputType,C=m._mimeType;m.on("data",function(A,L){O.push(A),o&&o(L)}).on("error",function(A){O=[],w(A)}).on("end",function(){try{var A=v(F,g(y,O),C);b(A)}catch(L){w(L)}O=[]}).resume()})}function I(m,o,b){var w=o;switch(o){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string";break}try{this._internalType=w,this._outputType=o,this._mimeType=b,h.checkSupport(w),this._worker=m.pipe(new s(w)),m.lock()}catch(O){this._worker=new f("error"),this._worker.error(O)}}I.prototype={accumulate:function(m){return S(this,m)},on:function(m,o){var b=this;return m==="data"?this._worker.on(m,function(w){o.call(b,w.data,w.meta)}):this._worker.on(m,function(){h.delay(o,arguments,b)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},m)}},a.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,a,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",n.nodebuffer=typeof Buffer!="undefined",n.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")n.blob=!1;else{var h=new ArrayBuffer(0);try{n.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var s=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,f=new s;f.append(h),n.blob=f.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,a,n){for(var h=e("./utils"),s=e("./support"),f=e("./nodejsUtils"),r=e("./stream/GenericWorker"),c=new Array(256),p=0;p<256;p++)c[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;c[254]=c[254]=1;var d=function(m){var o,b,w,O,y,F=m.length,C=0;for(O=0;O<F;O++)b=m.charCodeAt(O),(b&64512)===55296&&O+1<F&&(w=m.charCodeAt(O+1),(w&64512)===56320&&(b=65536+(b-55296<<10)+(w-56320),O++)),C+=b<128?1:b<2048?2:b<65536?3:4;for(s.uint8array?o=new Uint8Array(C):o=new Array(C),y=0,O=0;y<C;O++)b=m.charCodeAt(O),(b&64512)===55296&&O+1<F&&(w=m.charCodeAt(O+1),(w&64512)===56320&&(b=65536+(b-55296<<10)+(w-56320),O++)),b<128?o[y++]=b:b<2048?(o[y++]=192|b>>>6,o[y++]=128|b&63):b<65536?(o[y++]=224|b>>>12,o[y++]=128|b>>>6&63,o[y++]=128|b&63):(o[y++]=240|b>>>18,o[y++]=128|b>>>12&63,o[y++]=128|b>>>6&63,o[y++]=128|b&63);return o},v=function(m,o){var b;for(o=o||m.length,o>m.length&&(o=m.length),b=o-1;b>=0&&(m[b]&192)===128;)b--;return b<0||b===0?o:b+c[m[b]]>o?b:o},g=function(m){var o,b,w,O,y=m.length,F=new Array(y*2);for(b=0,o=0;o<y;){if(w=m[o++],w<128){F[b++]=w;continue}if(O=c[w],O>4){F[b++]=65533,o+=O-1;continue}for(w&=O===2?31:O===3?15:7;O>1&&o<y;)w=w<<6|m[o++]&63,O--;if(O>1){F[b++]=65533;continue}w<65536?F[b++]=w:(w-=65536,F[b++]=55296|w>>10&1023,F[b++]=56320|w&1023)}return F.length!==b&&(F.subarray?F=F.subarray(0,b):F.length=b),h.applyFromCharCode(F)};n.utf8encode=function(o){return s.nodebuffer?f.newBufferFrom(o,"utf-8"):d(o)},n.utf8decode=function(o){return s.nodebuffer?h.transformTo("nodebuffer",o).toString("utf-8"):(o=h.transformTo(s.uint8array?"uint8array":"array",o),g(o))};function S(){r.call(this,"utf-8 decode"),this.leftOver=null}h.inherits(S,r),S.prototype.processChunk=function(m){var o=h.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var b=o;o=new Uint8Array(b.length+this.leftOver.length),o.set(this.leftOver,0),o.set(b,this.leftOver.length)}else o=this.leftOver.concat(o);this.leftOver=null}var w=v(o),O=o;w!==o.length&&(s.uint8array?(O=o.subarray(0,w),this.leftOver=o.subarray(w,o.length)):(O=o.slice(0,w),this.leftOver=o.slice(w,o.length))),this.push({data:n.utf8decode(O),meta:m.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=S;function I(){r.call(this,"utf-8 encode")}h.inherits(I,r),I.prototype.processChunk=function(m){this.push({data:n.utf8encode(m.data),meta:m.meta})},n.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,a,n){var h=e("./support"),s=e("./base64"),f=e("./nodejsUtils"),r=e("set-immediate-shim"),c=e("./external");function p(o){var b=null;return h.uint8array?b=new Uint8Array(o.length):b=new Array(o.length),v(o,b)}n.newBlob=function(o,b){n.checkSupport("blob");try{return new Blob([o],{type:b})}catch{try{var w=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,O=new w;return O.append(o),O.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};function d(o){return o}function v(o,b){for(var w=0;w<o.length;++w)b[w]=o.charCodeAt(w)&255;return b}var g={stringifyByChunk:function(o,b,w){var O=[],y=0,F=o.length;if(F<=w)return String.fromCharCode.apply(null,o);for(;y<F;)b==="array"||b==="nodebuffer"?O.push(String.fromCharCode.apply(null,o.slice(y,Math.min(y+w,F)))):O.push(String.fromCharCode.apply(null,o.subarray(y,Math.min(y+w,F)))),y+=w;return O.join("")},stringifyByChar:function(o){for(var b="",w=0;w<o.length;w++)b+=String.fromCharCode(o[w]);return b},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function S(o){var b=65536,w=n.getTypeOf(o),O=!0;if(w==="uint8array"?O=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(O=g.applyCanBeUsed.nodebuffer),O)for(;b>1;)try{return g.stringifyByChunk(o,w,b)}catch{b=Math.floor(b/2)}return g.stringifyByChar(o)}n.applyFromCharCode=S;function I(o,b){for(var w=0;w<o.length;w++)b[w]=o[w];return b}var m={};m.string={string:d,array:function(o){return v(o,new Array(o.length))},arraybuffer:function(o){return m.string.uint8array(o).buffer},uint8array:function(o){return v(o,new Uint8Array(o.length))},nodebuffer:function(o){return v(o,f.allocBuffer(o.length))}},m.array={string:S,array:d,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return f.newBufferFrom(o)}},m.arraybuffer={string:function(o){return S(new Uint8Array(o))},array:function(o){return I(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:d,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return f.newBufferFrom(new Uint8Array(o))}},m.uint8array={string:S,array:function(o){return I(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:d,nodebuffer:function(o){return f.newBufferFrom(o)}},m.nodebuffer={string:S,array:function(o){return I(o,new Array(o.length))},arraybuffer:function(o){return m.nodebuffer.uint8array(o).buffer},uint8array:function(o){return I(o,new Uint8Array(o.length))},nodebuffer:d},n.transformTo=function(o,b){if(b||(b=""),!o)return b;n.checkSupport(o);var w=n.getTypeOf(b),O=m[w][o](b);return O},n.getTypeOf=function(o){if(typeof o=="string")return"string";if(Object.prototype.toString.call(o)==="[object Array]")return"array";if(h.nodebuffer&&f.isBuffer(o))return"nodebuffer";if(h.uint8array&&o instanceof Uint8Array)return"uint8array";if(h.arraybuffer&&o instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(o){var b=h[o.toLowerCase()];if(!b)throw new Error(o+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(o){var b="",w,O;for(O=0;O<(o||"").length;O++)w=o.charCodeAt(O),b+="\\x"+(w<16?"0":"")+w.toString(16).toUpperCase();return b},n.delay=function(o,b,w){r(function(){o.apply(w||null,b||[])})},n.inherits=function(o,b){var w=function(){};w.prototype=b.prototype,o.prototype=new w},n.extend=function(){var o={},b,w;for(b=0;b<arguments.length;b++)for(w in arguments[b])arguments[b].hasOwnProperty(w)&&typeof o[w]=="undefined"&&(o[w]=arguments[b][w]);return o},n.prepareContent=function(o,b,w,O,y){var F=c.Promise.resolve(b).then(function(C){var A=h.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1);return A&&typeof FileReader!="undefined"?new c.Promise(function(L,N){var V=new FileReader;V.onload=function(z){L(z.target.result)},V.onerror=function(z){N(z.target.error)},V.readAsArrayBuffer(C)}):C});return F.then(function(C){var A=n.getTypeOf(C);return A?(A==="arraybuffer"?C=n.transformTo("uint8array",C):A==="string"&&(y?C=s.decode(C):w&&O!==!0&&(C=p(C))),C):c.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,a,n){var h=e("./reader/readerFor"),s=e("./utils"),f=e("./signature"),r=e("./zipEntry");e("./utf8");var c=e("./support");function p(d){this.files=[],this.loadOptions=d}p.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(d)+")")}},isSignature:function(d,v){var g=this.reader.index;this.reader.setIndex(d);var S=this.reader.readString(4),I=S===v;return this.reader.setIndex(g),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),v=c.uint8array?"uint8array":"array",g=s.transformTo(v,d);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,v=0,g,S,I;v<d;)g=this.reader.readInt(2),S=this.reader.readInt(4),I=this.reader.readData(S),this.zip64ExtensibleData[g]={id:g,length:S,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,v;for(d=0;d<this.files.length;d++)v=this.files[d],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)d=new r({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(d<0){var v=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw v?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var g=d;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var I=g-S;if(I>0)this.isSignature(g,f.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(d){this.reader=h(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,a,n){var h=e("./reader/readerFor"),s=e("./utils"),f=e("./compressedObject"),r=e("./crc32"),c=e("./utf8"),p=e("./compressions"),d=e("./support"),v=0,g=3,S=function(m){for(var o in p)if(!!p.hasOwnProperty(o)&&p[o].magic===m)return p[o];return null};function I(m,o){this.options=m,this.loadOptions=o}I.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(m){var o,b;if(m.skip(22),this.fileNameLength=m.readInt(2),b=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(o=S(this.compressionMethod),o===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,o,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var o=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(o),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),m===v&&(this.dosPermissions=this.externalFileAttributes&63),m===g&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(m){if(!!this.extraFields[1]){var o=h(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(m){var o=m.index+this.extraFieldsLength,b,w,O;for(this.extraFields||(this.extraFields={});m.index+4<o;)b=m.readInt(2),w=m.readInt(2),O=m.readData(w),this.extraFields[b]={id:b,length:w,value:O};m.setIndex(o)},handleUTF8:function(){var m=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var o=this.findExtraFieldUnicodePath();if(o!==null)this.fileNameStr=o;else{var b=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var O=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(O)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var o=h(m.value);return o.readInt(1)!==1||r(this.fileName)!==o.readInt(4)?null:c.utf8decode(o.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var o=h(m.value);return o.readInt(1)!==1||r(this.fileComment)!==o.readInt(4)?null:c.utf8decode(o.readData(m.length-5))}return null}},a.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,a,n){var h=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),f=e("./utf8"),r=e("./compressedObject"),c=e("./stream/GenericWorker"),p=function(S,I,m){this.name=S,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=I,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}};p.prototype={internalStream:function(S){var I=null,m="string";try{if(!S)throw new Error("No output type specified.");m=S.toLowerCase();var o=m==="string"||m==="text";(m==="binarystring"||m==="text")&&(m="string"),I=this._decompressWorker();var b=!this._dataBinary;b&&!o&&(I=I.pipe(new f.Utf8EncodeWorker)),!b&&o&&(I=I.pipe(new f.Utf8DecodeWorker))}catch(w){I=new c("error"),I.error(w)}return new h(I,m,"")},async:function(S,I){return this.internalStream(S).accumulate(I)},nodeStream:function(S,I){return this.internalStream(S||"nodebuffer").toNodejsStream(I)},_compressWorker:function(S,I){if(this._data instanceof r&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new f.Utf8EncodeWorker)),r.createWorkerFrom(m,S,I)},_decompressWorker:function(){return this._data instanceof r?this._data.getContentWorker():this._data instanceof c?this._data:new s(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<d.length;g++)p.prototype[d[g]]=v;a.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,a,n){(function(h){var s=h.MutationObserver||h.WebKitMutationObserver,f;if(s){var r=0,c=new s(S),p=h.document.createTextNode("");c.observe(p,{characterData:!0}),f=function(){p.data=r=++r%2}}else if(!h.setImmediate&&typeof h.MessageChannel!="undefined"){var d=new h.MessageChannel;d.port1.onmessage=S,f=function(){d.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?f=function(){var m=h.document.createElement("script");m.onreadystatechange=function(){S(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},h.document.documentElement.appendChild(m)}:f=function(){setTimeout(S,0)};var v,g=[];function S(){v=!0;for(var m,o,b=g.length;b;){for(o=g,g=[],m=-1;++m<b;)o[m]();b=g.length}v=!1}a.exports=I;function I(m){g.push(m)===1&&!v&&f()}}).call(this,typeof je!="undefined"?je:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(e,a,n){var h=e("immediate");function s(){}var f={},r=["REJECTED"],c=["FULFILLED"],p=["PENDING"];a.exports=d;function d(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,y!==s&&I(this,y)}d.prototype.finally=function(y){if(typeof y!="function")return this;var F=this.constructor;return this.then(C,A);function C(L){function N(){return L}return F.resolve(y()).then(N)}function A(L){function N(){throw L}return F.resolve(y()).then(N)}},d.prototype.catch=function(y){return this.then(null,y)},d.prototype.then=function(y,F){if(typeof y!="function"&&this.state===c||typeof F!="function"&&this.state===r)return this;var C=new this.constructor(s);if(this.state!==p){var A=this.state===c?y:F;g(C,A,this.outcome)}else this.queue.push(new v(C,y,F));return C};function v(y,F,C){this.promise=y,typeof F=="function"&&(this.onFulfilled=F,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(y){f.resolve(this.promise,y)},v.prototype.otherCallFulfilled=function(y){g(this.promise,this.onFulfilled,y)},v.prototype.callRejected=function(y){f.reject(this.promise,y)},v.prototype.otherCallRejected=function(y){g(this.promise,this.onRejected,y)};function g(y,F,C){h(function(){var A;try{A=F(C)}catch(L){return f.reject(y,L)}A===y?f.reject(y,new TypeError("Cannot resolve promise with itself")):f.resolve(y,A)})}f.resolve=function(y,F){var C=m(S,F);if(C.status==="error")return f.reject(y,C.value);var A=C.value;if(A)I(y,A);else{y.state=c,y.outcome=F;for(var L=-1,N=y.queue.length;++L<N;)y.queue[L].callFulfilled(F)}return y},f.reject=function(y,F){y.state=r,y.outcome=F;for(var C=-1,A=y.queue.length;++C<A;)y.queue[C].callRejected(F);return y};function S(y){var F=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof F=="function")return function(){F.apply(y,arguments)}}function I(y,F){var C=!1;function A(z){C||(C=!0,f.reject(y,z))}function L(z){C||(C=!0,f.resolve(y,z))}function N(){F(L,A)}var V=m(N);V.status==="error"&&A(V.value)}function m(y,F){var C={};try{C.value=y(F),C.status="success"}catch(A){C.status="error",C.value=A}return C}d.resolve=o;function o(y){return y instanceof this?y:f.resolve(new this(s),y)}d.reject=b;function b(y){var F=new this(s);return f.reject(F,y)}d.all=w;function w(y){var F=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,A=!1;if(!C)return this.resolve([]);for(var L=new Array(C),N=0,V=-1,z=new this(s);++V<C;)Y(y[V],V);return z;function Y(Q,G){F.resolve(Q).then(et,function(J){A||(A=!0,f.reject(z,J))});function et(J){L[G]=J,++N===C&&!A&&(A=!0,f.resolve(z,L))}}}d.race=O;function O(y){var F=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=y.length,A=!1;if(!C)return this.resolve([]);for(var L=-1,N=new this(s);++L<C;)V(y[L]);return N;function V(z){F.resolve(z).then(function(Y){A||(A=!0,f.resolve(N,Y))},function(Y){A||(A=!0,f.reject(N,Y))})}}},{immediate:36}],38:[function(e,a,n){var h=e("./lib/utils/common").assign,s=e("./lib/deflate"),f=e("./lib/inflate"),r=e("./lib/zlib/constants"),c={};h(c,s,f,r),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,a,n){var h=e("./zlib/deflate"),s=e("./utils/common"),f=e("./utils/strings"),r=e("./zlib/messages"),c=e("./zlib/zstream"),p=Object.prototype.toString,d=0,v=4,g=0,S=1,I=2,m=-1,o=0,b=8;function w(C){if(!(this instanceof w))return new w(C);this.options=s.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},C||{});var A=this.options;A.raw&&A.windowBits>0?A.windowBits=-A.windowBits:A.gzip&&A.windowBits>0&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var L=h.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(L!==g)throw new Error(r[L]);if(A.header&&h.deflateSetHeader(this.strm,A.header),A.dictionary){var N;if(typeof A.dictionary=="string"?N=f.string2buf(A.dictionary):p.call(A.dictionary)==="[object ArrayBuffer]"?N=new Uint8Array(A.dictionary):N=A.dictionary,L=h.deflateSetDictionary(this.strm,N),L!==g)throw new Error(r[L]);this._dict_set=!0}}w.prototype.push=function(C,A){var L=this.strm,N=this.options.chunkSize,V,z;if(this.ended)return!1;z=A===~~A?A:A===!0?v:d,typeof C=="string"?L.input=f.string2buf(C):p.call(C)==="[object ArrayBuffer]"?L.input=new Uint8Array(C):L.input=C,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(N),L.next_out=0,L.avail_out=N),V=h.deflate(L,z),V!==S&&V!==g)return this.onEnd(V),this.ended=!0,!1;(L.avail_out===0||L.avail_in===0&&(z===v||z===I))&&(this.options.to==="string"?this.onData(f.buf2binstring(s.shrinkBuf(L.output,L.next_out))):this.onData(s.shrinkBuf(L.output,L.next_out)))}while((L.avail_in>0||L.avail_out===0)&&V!==S);return z===v?(V=h.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===g):(z===I&&(this.onEnd(g),L.avail_out=0),!0)},w.prototype.onData=function(C){this.chunks.push(C)},w.prototype.onEnd=function(C){C===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function O(C,A){var L=new w(A);if(L.push(C,!0),L.err)throw L.msg||r[L.err];return L.result}function y(C,A){return A=A||{},A.raw=!0,O(C,A)}function F(C,A){return A=A||{},A.gzip=!0,O(C,A)}n.Deflate=w,n.deflate=O,n.deflateRaw=y,n.gzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,a,n){var h=e("./zlib/inflate"),s=e("./utils/common"),f=e("./utils/strings"),r=e("./zlib/constants"),c=e("./zlib/messages"),p=e("./zlib/zstream"),d=e("./zlib/gzheader"),v=Object.prototype.toString;function g(m){if(!(this instanceof g))return new g(m);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},m||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(m&&m.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var b=h.inflateInit2(this.strm,o.windowBits);if(b!==r.Z_OK)throw new Error(c[b]);this.header=new d,h.inflateGetHeader(this.strm,this.header)}g.prototype.push=function(m,o){var b=this.strm,w=this.options.chunkSize,O=this.options.dictionary,y,F,C,A,L,N,V=!1;if(this.ended)return!1;F=o===~~o?o:o===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof m=="string"?b.input=f.binstring2buf(m):v.call(m)==="[object ArrayBuffer]"?b.input=new Uint8Array(m):b.input=m,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new s.Buf8(w),b.next_out=0,b.avail_out=w),y=h.inflate(b,r.Z_NO_FLUSH),y===r.Z_NEED_DICT&&O&&(typeof O=="string"?N=f.string2buf(O):v.call(O)==="[object ArrayBuffer]"?N=new Uint8Array(O):N=O,y=h.inflateSetDictionary(this.strm,N)),y===r.Z_BUF_ERROR&&V===!0&&(y=r.Z_OK,V=!1),y!==r.Z_STREAM_END&&y!==r.Z_OK)return this.onEnd(y),this.ended=!0,!1;b.next_out&&(b.avail_out===0||y===r.Z_STREAM_END||b.avail_in===0&&(F===r.Z_FINISH||F===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(C=f.utf8border(b.output,b.next_out),A=b.next_out-C,L=f.buf2string(b.output,C),b.next_out=A,b.avail_out=w-A,A&&s.arraySet(b.output,b.output,C,A,0),this.onData(L)):this.onData(s.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(V=!0)}while((b.avail_in>0||b.avail_out===0)&&y!==r.Z_STREAM_END);return y===r.Z_STREAM_END&&(F=r.Z_FINISH),F===r.Z_FINISH?(y=h.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===r.Z_OK):(F===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),b.avail_out=0),!0)},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg};function S(m,o){var b=new g(o);if(b.push(m,!0),b.err)throw b.msg||c[b.err];return b.result}function I(m,o){return o=o||{},o.raw=!0,S(m,o)}n.Inflate=g,n.inflate=S,n.inflateRaw=I,n.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,a,n){var h=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";n.assign=function(r){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var p=c.shift();if(!!p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var d in p)p.hasOwnProperty(d)&&(r[d]=p[d])}}return r},n.shrinkBuf=function(r,c){return r.length===c?r:r.subarray?r.subarray(0,c):(r.length=c,r)};var s={arraySet:function(r,c,p,d,v){if(c.subarray&&r.subarray){r.set(c.subarray(p,p+d),v);return}for(var g=0;g<d;g++)r[v+g]=c[p+g]},flattenChunks:function(r){var c,p,d,v,g,S;for(d=0,c=0,p=r.length;c<p;c++)d+=r[c].length;for(S=new Uint8Array(d),v=0,c=0,p=r.length;c<p;c++)g=r[c],S.set(g,v),v+=g.length;return S}},f={arraySet:function(r,c,p,d,v){for(var g=0;g<d;g++)r[v+g]=c[p+g]},flattenChunks:function(r){return[].concat.apply([],r)}};n.setTyped=function(r){r?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,f))},n.setTyped(h)},{}],42:[function(e,a,n){var h=e("./common"),s=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var r=new h.Buf8(256),c=0;c<256;c++)r[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;r[254]=r[254]=1,n.string2buf=function(d){var v,g,S,I,m,o=d.length,b=0;for(I=0;I<o;I++)g=d.charCodeAt(I),(g&64512)===55296&&I+1<o&&(S=d.charCodeAt(I+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),I++)),b+=g<128?1:g<2048?2:g<65536?3:4;for(v=new h.Buf8(b),m=0,I=0;m<b;I++)g=d.charCodeAt(I),(g&64512)===55296&&I+1<o&&(S=d.charCodeAt(I+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),I++)),g<128?v[m++]=g:g<2048?(v[m++]=192|g>>>6,v[m++]=128|g&63):g<65536?(v[m++]=224|g>>>12,v[m++]=128|g>>>6&63,v[m++]=128|g&63):(v[m++]=240|g>>>18,v[m++]=128|g>>>12&63,v[m++]=128|g>>>6&63,v[m++]=128|g&63);return v};function p(d,v){if(v<65537&&(d.subarray&&f||!d.subarray&&s))return String.fromCharCode.apply(null,h.shrinkBuf(d,v));for(var g="",S=0;S<v;S++)g+=String.fromCharCode(d[S]);return g}n.buf2binstring=function(d){return p(d,d.length)},n.binstring2buf=function(d){for(var v=new h.Buf8(d.length),g=0,S=v.length;g<S;g++)v[g]=d.charCodeAt(g);return v},n.buf2string=function(d,v){var g,S,I,m,o=v||d.length,b=new Array(o*2);for(S=0,g=0;g<o;){if(I=d[g++],I<128){b[S++]=I;continue}if(m=r[I],m>4){b[S++]=65533,g+=m-1;continue}for(I&=m===2?31:m===3?15:7;m>1&&g<o;)I=I<<6|d[g++]&63,m--;if(m>1){b[S++]=65533;continue}I<65536?b[S++]=I:(I-=65536,b[S++]=55296|I>>10&1023,b[S++]=56320|I&1023)}return p(b,S)},n.utf8border=function(d,v){var g;for(v=v||d.length,v>d.length&&(v=d.length),g=v-1;g>=0&&(d[g]&192)===128;)g--;return g<0||g===0?v:g+r[d[g]]>v?g:v}},{"./common":41}],43:[function(e,a,n){function h(s,f,r,c){for(var p=s&65535|0,d=s>>>16&65535|0,v=0;r!==0;){v=r>2e3?2e3:r,r-=v;do p=p+f[c++]|0,d=d+p|0;while(--v);p%=65521,d%=65521}return p|d<<16|0}a.exports=h},{}],44:[function(e,a,n){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,a,n){function h(){for(var r,c=[],p=0;p<256;p++){r=p;for(var d=0;d<8;d++)r=r&1?3988292384^r>>>1:r>>>1;c[p]=r}return c}var s=h();function f(r,c,p,d){var v=s,g=d+p;r^=-1;for(var S=d;S<g;S++)r=r>>>8^v[(r^c[S])&255];return r^-1}a.exports=f},{}],46:[function(e,a,n){var h=e("../utils/common"),s=e("./trees"),f=e("./adler32"),r=e("./crc32"),c=e("./messages"),p=0,d=1,v=3,g=4,S=5,I=0,m=1,o=-2,b=-3,w=-5,O=-1,y=1,F=2,C=3,A=4,L=0,N=2,V=8,z=9,Y=15,Q=8,G=29,et=256,J=et+1+G,Z=30,tt=19,nt=2*J+1,ut=15,K=3,lt=258,ft=lt+K+1,Ot=32,xt=42,mt=69,at=73,St=91,gt=103,ct=113,bt=666,ht=1,Dt=2,Mt=3,Ut=4,dt=3;function Nt(i,D){return i.msg=c[D],D}function de(i){return(i<<1)-(i>4?9:0)}function Bt(i){for(var D=i.length;--D>=0;)i[D]=0}function Lt(i){var D=i.state,T=D.pending;T>i.avail_out&&(T=i.avail_out),T!==0&&(h.arraySet(i.output,D.pending_buf,D.pending_out,T,i.next_out),i.next_out+=T,D.pending_out+=T,i.total_out+=T,i.avail_out-=T,D.pending-=T,D.pending===0&&(D.pending_out=0))}function _t(i,D){s._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,D),i.block_start=i.strstart,Lt(i.strm)}function rt(i,D){i.pending_buf[i.pending++]=D}function Vt(i,D){i.pending_buf[i.pending++]=D>>>8&255,i.pending_buf[i.pending++]=D&255}function ue(i,D,T,u){var x=i.avail_in;return x>u&&(x=u),x===0?0:(i.avail_in-=x,h.arraySet(D,i.input,i.next_in,x,T),i.state.wrap===1?i.adler=f(i.adler,D,x,T):i.state.wrap===2&&(i.adler=r(i.adler,D,x,T)),i.next_in+=x,i.total_in+=x,x)}function se(i,D){var T=i.max_chain_length,u=i.strstart,x,E,H=i.prev_length,j=i.nice_match,W=i.strstart>i.w_size-ft?i.strstart-(i.w_size-ft):0,st=i.window,te=i.w_mask,vt=i.prev,ot=i.strstart+lt,wt=st[u+H-1],Tt=st[u+H];i.prev_length>=i.good_match&&(T>>=2),j>i.lookahead&&(j=i.lookahead);do if(x=D,!(st[x+H]!==Tt||st[x+H-1]!==wt||st[x]!==st[u]||st[++x]!==st[u+1])){u+=2,x++;do;while(st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&st[++u]===st[++x]&&u<ot);if(E=lt-(ot-u),u=ot-lt,E>H){if(i.match_start=D,H=E,E>=j)break;wt=st[u+H-1],Tt=st[u+H]}}while((D=vt[D&te])>W&&--T!==0);return H<=i.lookahead?H:i.lookahead}function Zt(i){var D=i.w_size,T,u,x,E,H;do{if(E=i.window_size-i.lookahead-i.strstart,i.strstart>=D+(D-ft)){h.arraySet(i.window,i.window,D,D,0),i.match_start-=D,i.strstart-=D,i.block_start-=D,u=i.hash_size,T=u;do x=i.head[--T],i.head[T]=x>=D?x-D:0;while(--u);u=D,T=u;do x=i.prev[--T],i.prev[T]=x>=D?x-D:0;while(--u);E+=D}if(i.strm.avail_in===0)break;if(u=ue(i.strm,i.window,i.strstart+i.lookahead,E),i.lookahead+=u,i.lookahead+i.insert>=K)for(H=i.strstart-i.insert,i.ins_h=i.window[H],i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+K-1])&i.hash_mask,i.prev[H&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=H,H++,i.insert--,!(i.lookahead+i.insert<K)););}while(i.lookahead<ft&&i.strm.avail_in!==0)}function _e(i,D){var T=65535;for(T>i.pending_buf_size-5&&(T=i.pending_buf_size-5);;){if(i.lookahead<=1){if(Zt(i),i.lookahead===0&&D===p)return ht;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var u=i.block_start+T;if((i.strstart===0||i.strstart>=u)&&(i.lookahead=i.strstart-u,i.strstart=u,_t(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-ft&&(_t(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===g?(_t(i,!0),i.strm.avail_out===0?Mt:Ut):(i.strstart>i.block_start&&(_t(i,!1),i.strm.avail_out===0),ht)}function oe(i,D){for(var T,u;;){if(i.lookahead<ft){if(Zt(i),i.lookahead<ft&&D===p)return ht;if(i.lookahead===0)break}if(T=0,i.lookahead>=K&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),T!==0&&i.strstart-T<=i.w_size-ft&&(i.match_length=se(i,T)),i.match_length>=K)if(u=s._tr_tally(i,i.strstart-i.match_start,i.match_length-K),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=K){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else u=s._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(u&&(_t(i,!1),i.strm.avail_out===0))return ht}return i.insert=i.strstart<K-1?i.strstart:K-1,D===g?(_t(i,!0),i.strm.avail_out===0?Mt:Ut):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ht:Dt}function Xt(i,D){for(var T,u,x;;){if(i.lookahead<ft){if(Zt(i),i.lookahead<ft&&D===p)return ht;if(i.lookahead===0)break}if(T=0,i.lookahead>=K&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=K-1,T!==0&&i.prev_length<i.max_lazy_match&&i.strstart-T<=i.w_size-ft&&(i.match_length=se(i,T),i.match_length<=5&&(i.strategy===y||i.match_length===K&&i.strstart-i.match_start>4096)&&(i.match_length=K-1)),i.prev_length>=K&&i.match_length<=i.prev_length){x=i.strstart+i.lookahead-K,u=s._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-K),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=x&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+K-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=K-1,i.strstart++,u&&(_t(i,!1),i.strm.avail_out===0))return ht}else if(i.match_available){if(u=s._tr_tally(i,0,i.window[i.strstart-1]),u&&_t(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ht}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(u=s._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<K-1?i.strstart:K-1,D===g?(_t(i,!0),i.strm.avail_out===0?Mt:Ut):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ht:Dt}function pe(i,D){for(var T,u,x,E,H=i.window;;){if(i.lookahead<=lt){if(Zt(i),i.lookahead<=lt&&D===p)return ht;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=K&&i.strstart>0&&(x=i.strstart-1,u=H[x],u===H[++x]&&u===H[++x]&&u===H[++x])){E=i.strstart+lt;do;while(u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&u===H[++x]&&x<E);i.match_length=lt-(E-x),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=K?(T=s._tr_tally(i,1,i.match_length-K),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(T=s._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),T&&(_t(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===g?(_t(i,!0),i.strm.avail_out===0?Mt:Ut):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ht:Dt}function fe(i,D){for(var T;;){if(i.lookahead===0&&(Zt(i),i.lookahead===0)){if(D===p)return ht;break}if(i.match_length=0,T=s._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,T&&(_t(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===g?(_t(i,!0),i.strm.avail_out===0?Mt:Ut):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ht:Dt}function At(i,D,T,u,x){this.good_length=i,this.max_lazy=D,this.nice_length=T,this.max_chain=u,this.func=x}var Gt;Gt=[new At(0,0,0,0,_e),new At(4,4,8,4,oe),new At(4,5,16,8,oe),new At(4,6,32,32,oe),new At(4,4,16,16,Xt),new At(8,16,32,32,Xt),new At(8,16,128,128,Xt),new At(8,32,128,256,Xt),new At(32,128,258,1024,Xt),new At(32,258,258,4096,Xt)];function be(i){i.window_size=2*i.w_size,Bt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=K-1,i.match_available=0,i.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(nt*2),this.dyn_dtree=new h.Buf16((2*Z+1)*2),this.bl_tree=new h.Buf16((2*tt+1)*2),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(ut+1),this.heap=new h.Buf16(2*J+1),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*J+1),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(i){var D;return!i||!i.state?Nt(i,o):(i.total_in=i.total_out=0,i.data_type=N,D=i.state,D.pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?xt:ct,i.adler=D.wrap===2?0:1,D.last_flush=p,s._tr_init(D),I)}function B(i){var D=M(i);return D===I&&be(i.state),D}function X(i,D){return!i||!i.state||i.state.wrap!==2?o:(i.state.gzhead=D,I)}function k(i,D,T,u,x,E){if(!i)return o;var H=1;if(D===O&&(D=6),u<0?(H=0,u=-u):u>15&&(H=2,u-=16),x<1||x>z||T!==V||u<8||u>15||D<0||D>9||E<0||E>A)return Nt(i,o);u===8&&(u=9);var j=new _;return i.state=j,j.strm=i,j.wrap=H,j.gzhead=null,j.w_bits=u,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=x+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+K-1)/K),j.window=new h.Buf8(j.w_size*2),j.head=new h.Buf16(j.hash_size),j.prev=new h.Buf16(j.w_size),j.lit_bufsize=1<<x+6,j.pending_buf_size=j.lit_bufsize*4,j.pending_buf=new h.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=(1+2)*j.lit_bufsize,j.level=D,j.strategy=E,j.method=T,B(i)}function P(i,D){return k(i,D,V,Y,Q,L)}function l(i,D){var T,u,x,E;if(!i||!i.state||D>S||D<0)return i?Nt(i,o):o;if(u=i.state,!i.output||!i.input&&i.avail_in!==0||u.status===bt&&D!==g)return Nt(i,i.avail_out===0?w:o);if(u.strm=i,T=u.last_flush,u.last_flush=D,u.status===xt)if(u.wrap===2)i.adler=0,rt(u,31),rt(u,139),rt(u,8),u.gzhead?(rt(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),rt(u,u.gzhead.time&255),rt(u,u.gzhead.time>>8&255),rt(u,u.gzhead.time>>16&255),rt(u,u.gzhead.time>>24&255),rt(u,u.level===9?2:u.strategy>=F||u.level<2?4:0),rt(u,u.gzhead.os&255),u.gzhead.extra&&u.gzhead.extra.length&&(rt(u,u.gzhead.extra.length&255),rt(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(i.adler=r(i.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=mt):(rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,0),rt(u,u.level===9?2:u.strategy>=F||u.level<2?4:0),rt(u,dt),u.status=ct);else{var H=V+(u.w_bits-8<<4)<<8,j=-1;u.strategy>=F||u.level<2?j=0:u.level<6?j=1:u.level===6?j=2:j=3,H|=j<<6,u.strstart!==0&&(H|=Ot),H+=31-H%31,u.status=ct,Vt(u,H),u.strstart!==0&&(Vt(u,i.adler>>>16),Vt(u,i.adler&65535)),i.adler=1}if(u.status===mt)if(u.gzhead.extra){for(x=u.pending;u.gzindex<(u.gzhead.extra.length&65535)&&!(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),Lt(i),x=u.pending,u.pending===u.pending_buf_size));)rt(u,u.gzhead.extra[u.gzindex]&255),u.gzindex++;u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=at)}else u.status=at;if(u.status===at)if(u.gzhead.name){x=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),Lt(i),x=u.pending,u.pending===u.pending_buf_size)){E=1;break}u.gzindex<u.gzhead.name.length?E=u.gzhead.name.charCodeAt(u.gzindex++)&255:E=0,rt(u,E)}while(E!==0);u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),E===0&&(u.gzindex=0,u.status=St)}else u.status=St;if(u.status===St)if(u.gzhead.comment){x=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),Lt(i),x=u.pending,u.pending===u.pending_buf_size)){E=1;break}u.gzindex<u.gzhead.comment.length?E=u.gzhead.comment.charCodeAt(u.gzindex++)&255:E=0,rt(u,E)}while(E!==0);u.gzhead.hcrc&&u.pending>x&&(i.adler=r(i.adler,u.pending_buf,u.pending-x,x)),E===0&&(u.status=gt)}else u.status=gt;if(u.status===gt&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&Lt(i),u.pending+2<=u.pending_buf_size&&(rt(u,i.adler&255),rt(u,i.adler>>8&255),i.adler=0,u.status=ct)):u.status=ct),u.pending!==0){if(Lt(i),i.avail_out===0)return u.last_flush=-1,I}else if(i.avail_in===0&&de(D)<=de(T)&&D!==g)return Nt(i,w);if(u.status===bt&&i.avail_in!==0)return Nt(i,w);if(i.avail_in!==0||u.lookahead!==0||D!==p&&u.status!==bt){var W=u.strategy===F?fe(u,D):u.strategy===C?pe(u,D):Gt[u.level].func(u,D);if((W===Mt||W===Ut)&&(u.status=bt),W===ht||W===Mt)return i.avail_out===0&&(u.last_flush=-1),I;if(W===Dt&&(D===d?s._tr_align(u):D!==S&&(s._tr_stored_block(u,0,0,!1),D===v&&(Bt(u.head),u.lookahead===0&&(u.strstart=0,u.block_start=0,u.insert=0))),Lt(i),i.avail_out===0))return u.last_flush=-1,I}return D!==g?I:u.wrap<=0?m:(u.wrap===2?(rt(u,i.adler&255),rt(u,i.adler>>8&255),rt(u,i.adler>>16&255),rt(u,i.adler>>24&255),rt(u,i.total_in&255),rt(u,i.total_in>>8&255),rt(u,i.total_in>>16&255),rt(u,i.total_in>>24&255)):(Vt(u,i.adler>>>16),Vt(u,i.adler&65535)),Lt(i),u.wrap>0&&(u.wrap=-u.wrap),u.pending!==0?I:m)}function U(i){var D;return!i||!i.state?o:(D=i.state.status,D!==xt&&D!==mt&&D!==at&&D!==St&&D!==gt&&D!==ct&&D!==bt?Nt(i,o):(i.state=null,D===ct?Nt(i,b):I))}function $(i,D){var T=D.length,u,x,E,H,j,W,st,te;if(!i||!i.state||(u=i.state,H=u.wrap,H===2||H===1&&u.status!==xt||u.lookahead))return o;for(H===1&&(i.adler=f(i.adler,D,T,0)),u.wrap=0,T>=u.w_size&&(H===0&&(Bt(u.head),u.strstart=0,u.block_start=0,u.insert=0),te=new h.Buf8(u.w_size),h.arraySet(te,D,T-u.w_size,u.w_size,0),D=te,T=u.w_size),j=i.avail_in,W=i.next_in,st=i.input,i.avail_in=T,i.next_in=0,i.input=D,Zt(u);u.lookahead>=K;){x=u.strstart,E=u.lookahead-(K-1);do u.ins_h=(u.ins_h<<u.hash_shift^u.window[x+K-1])&u.hash_mask,u.prev[x&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=x,x++;while(--E);u.strstart=x,u.lookahead=K-1,Zt(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=K-1,u.match_available=0,i.next_in=W,i.input=st,i.avail_in=j,u.wrap=H,I}n.deflateInit=P,n.deflateInit2=k,n.deflateReset=B,n.deflateResetKeep=M,n.deflateSetHeader=X,n.deflate=l,n.deflateEnd=U,n.deflateSetDictionary=$,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,a,n){function h(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=h},{}],48:[function(e,a,n){var h=30,s=12;a.exports=function(r,c){var p,d,v,g,S,I,m,o,b,w,O,y,F,C,A,L,N,V,z,Y,Q,G,et,J,Z;p=r.state,d=r.next_in,J=r.input,v=d+(r.avail_in-5),g=r.next_out,Z=r.output,S=g-(c-r.avail_out),I=g+(r.avail_out-257),m=p.dmax,o=p.wsize,b=p.whave,w=p.wnext,O=p.window,y=p.hold,F=p.bits,C=p.lencode,A=p.distcode,L=(1<<p.lenbits)-1,N=(1<<p.distbits)-1;t:do{F<15&&(y+=J[d++]<<F,F+=8,y+=J[d++]<<F,F+=8),V=C[y&L];e:for(;;){if(z=V>>>24,y>>>=z,F-=z,z=V>>>16&255,z===0)Z[g++]=V&65535;else if(z&16){Y=V&65535,z&=15,z&&(F<z&&(y+=J[d++]<<F,F+=8),Y+=y&(1<<z)-1,y>>>=z,F-=z),F<15&&(y+=J[d++]<<F,F+=8,y+=J[d++]<<F,F+=8),V=A[y&N];i:for(;;){if(z=V>>>24,y>>>=z,F-=z,z=V>>>16&255,z&16){if(Q=V&65535,z&=15,F<z&&(y+=J[d++]<<F,F+=8,F<z&&(y+=J[d++]<<F,F+=8)),Q+=y&(1<<z)-1,Q>m){r.msg="invalid distance too far back",p.mode=h;break t}if(y>>>=z,F-=z,z=g-S,Q>z){if(z=Q-z,z>b&&p.sane){r.msg="invalid distance too far back",p.mode=h;break t}if(G=0,et=O,w===0){if(G+=o-z,z<Y){Y-=z;do Z[g++]=O[G++];while(--z);G=g-Q,et=Z}}else if(w<z){if(G+=o+w-z,z-=w,z<Y){Y-=z;do Z[g++]=O[G++];while(--z);if(G=0,w<Y){z=w,Y-=z;do Z[g++]=O[G++];while(--z);G=g-Q,et=Z}}}else if(G+=w-z,z<Y){Y-=z;do Z[g++]=O[G++];while(--z);G=g-Q,et=Z}for(;Y>2;)Z[g++]=et[G++],Z[g++]=et[G++],Z[g++]=et[G++],Y-=3;Y&&(Z[g++]=et[G++],Y>1&&(Z[g++]=et[G++]))}else{G=g-Q;do Z[g++]=Z[G++],Z[g++]=Z[G++],Z[g++]=Z[G++],Y-=3;while(Y>2);Y&&(Z[g++]=Z[G++],Y>1&&(Z[g++]=Z[G++]))}}else if((z&64)===0){V=A[(V&65535)+(y&(1<<z)-1)];continue i}else{r.msg="invalid distance code",p.mode=h;break t}break}}else if((z&64)===0){V=C[(V&65535)+(y&(1<<z)-1)];continue e}else if(z&32){p.mode=s;break t}else{r.msg="invalid literal/length code",p.mode=h;break t}break}}while(d<v&&g<I);Y=F>>3,d-=Y,F-=Y<<3,y&=(1<<F)-1,r.next_in=d,r.next_out=g,r.avail_in=d<v?5+(v-d):5-(d-v),r.avail_out=g<I?257+(I-g):257-(g-I),p.hold=y,p.bits=F}},{}],49:[function(e,a,n){var h=e("../utils/common"),s=e("./adler32"),f=e("./crc32"),r=e("./inffast"),c=e("./inftrees"),p=0,d=1,v=2,g=4,S=5,I=6,m=0,o=1,b=2,w=-2,O=-3,y=-4,F=-5,C=8,A=1,L=2,N=3,V=4,z=5,Y=6,Q=7,G=8,et=9,J=10,Z=11,tt=12,nt=13,ut=14,K=15,lt=16,ft=17,Ot=18,xt=19,mt=20,at=21,St=22,gt=23,ct=24,bt=25,ht=26,Dt=27,Mt=28,Ut=29,dt=30,Nt=31,de=32,Bt=852,Lt=592,_t=15,rt=_t;function Vt(k){return(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24)}function ue(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(k){var P;return!k||!k.state?w:(P=k.state,k.total_in=k.total_out=P.total=0,k.msg="",P.wrap&&(k.adler=P.wrap&1),P.mode=A,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new h.Buf32(Bt),P.distcode=P.distdyn=new h.Buf32(Lt),P.sane=1,P.back=-1,m)}function Zt(k){var P;return!k||!k.state?w:(P=k.state,P.wsize=0,P.whave=0,P.wnext=0,se(k))}function _e(k,P){var l,U;return!k||!k.state||(U=k.state,P<0?(l=0,P=-P):(l=(P>>4)+1,P<48&&(P&=15)),P&&(P<8||P>15))?w:(U.window!==null&&U.wbits!==P&&(U.window=null),U.wrap=l,U.wbits=P,Zt(k))}function oe(k,P){var l,U;return k?(U=new ue,k.state=U,U.window=null,l=_e(k,P),l!==m&&(k.state=null),l):w}function Xt(k){return oe(k,rt)}var pe=!0,fe,At;function Gt(k){if(pe){var P;for(fe=new h.Buf32(512),At=new h.Buf32(32),P=0;P<144;)k.lens[P++]=8;for(;P<256;)k.lens[P++]=9;for(;P<280;)k.lens[P++]=7;for(;P<288;)k.lens[P++]=8;for(c(d,k.lens,0,288,fe,0,k.work,{bits:9}),P=0;P<32;)k.lens[P++]=5;c(v,k.lens,0,32,At,0,k.work,{bits:5}),pe=!1}k.lencode=fe,k.lenbits=9,k.distcode=At,k.distbits=5}function be(k,P,l,U){var $,i=k.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new h.Buf8(i.wsize)),U>=i.wsize?(h.arraySet(i.window,P,l-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):($=i.wsize-i.wnext,$>U&&($=U),h.arraySet(i.window,P,l-U,$,i.wnext),U-=$,U?(h.arraySet(i.window,P,l-U,U,0),i.wnext=U,i.whave=i.wsize):(i.wnext+=$,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=$))),0}function _(k,P){var l,U,$,i,D,T,u,x,E,H,j,W,st,te,vt=0,ot,wt,Tt,zt,Se,Ce,yt,jt,Ct=new h.Buf8(4),ee,Jt,Xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return w;l=k.state,l.mode===tt&&(l.mode=nt),D=k.next_out,$=k.output,u=k.avail_out,i=k.next_in,U=k.input,T=k.avail_in,x=l.hold,E=l.bits,H=T,j=u,jt=m;t:for(;;)switch(l.mode){case A:if(l.wrap===0){l.mode=nt;break}for(;E<16;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(l.wrap&2&&x===35615){l.check=0,Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=f(l.check,Ct,2,0),x=0,E=0,l.mode=L;break}if(l.flags=0,l.head&&(l.head.done=!1),!(l.wrap&1)||(((x&255)<<8)+(x>>8))%31){k.msg="incorrect header check",l.mode=dt;break}if((x&15)!==C){k.msg="unknown compression method",l.mode=dt;break}if(x>>>=4,E-=4,yt=(x&15)+8,l.wbits===0)l.wbits=yt;else if(yt>l.wbits){k.msg="invalid window size",l.mode=dt;break}l.dmax=1<<yt,k.adler=l.check=1,l.mode=x&512?J:tt,x=0,E=0;break;case L:for(;E<16;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(l.flags=x,(l.flags&255)!==C){k.msg="unknown compression method",l.mode=dt;break}if(l.flags&57344){k.msg="unknown header flags set",l.mode=dt;break}l.head&&(l.head.text=x>>8&1),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=f(l.check,Ct,2,0)),x=0,E=0,l.mode=N;case N:for(;E<32;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.head&&(l.head.time=x),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,Ct[2]=x>>>16&255,Ct[3]=x>>>24&255,l.check=f(l.check,Ct,4,0)),x=0,E=0,l.mode=V;case V:for(;E<16;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.head&&(l.head.xflags=x&255,l.head.os=x>>8),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=f(l.check,Ct,2,0)),x=0,E=0,l.mode=z;case z:if(l.flags&1024){for(;E<16;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.length=x,l.head&&(l.head.extra_len=x),l.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,l.check=f(l.check,Ct,2,0)),x=0,E=0}else l.head&&(l.head.extra=null);l.mode=Y;case Y:if(l.flags&1024&&(W=l.length,W>T&&(W=T),W&&(l.head&&(yt=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),h.arraySet(l.head.extra,U,i,W,yt)),l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,l.length-=W),l.length))break t;l.length=0,l.mode=Q;case Q:if(l.flags&2048){if(T===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.name+=String.fromCharCode(yt));while(yt&&W<T);if(l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,yt)break t}else l.head&&(l.head.name=null);l.length=0,l.mode=G;case G:if(l.flags&4096){if(T===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.comment+=String.fromCharCode(yt));while(yt&&W<T);if(l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,yt)break t}else l.head&&(l.head.comment=null);l.mode=et;case et:if(l.flags&512){for(;E<16;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(x!==(l.check&65535)){k.msg="header crc mismatch",l.mode=dt;break}x=0,E=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),k.adler=l.check=0,l.mode=tt;break;case J:for(;E<32;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}k.adler=l.check=Vt(x),x=0,E=0,l.mode=Z;case Z:if(l.havedict===0)return k.next_out=D,k.avail_out=u,k.next_in=i,k.avail_in=T,l.hold=x,l.bits=E,b;k.adler=l.check=1,l.mode=tt;case tt:if(P===S||P===I)break t;case nt:if(l.last){x>>>=E&7,E-=E&7,l.mode=Dt;break}for(;E<3;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}switch(l.last=x&1,x>>>=1,E-=1,x&3){case 0:l.mode=ut;break;case 1:if(Gt(l),l.mode=mt,P===I){x>>>=2,E-=2;break t}break;case 2:l.mode=ft;break;case 3:k.msg="invalid block type",l.mode=dt}x>>>=2,E-=2;break;case ut:for(x>>>=E&7,E-=E&7;E<32;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if((x&65535)!==(x>>>16^65535)){k.msg="invalid stored block lengths",l.mode=dt;break}if(l.length=x&65535,x=0,E=0,l.mode=K,P===I)break t;case K:l.mode=lt;case lt:if(W=l.length,W){if(W>T&&(W=T),W>u&&(W=u),W===0)break t;h.arraySet($,U,i,W,D),T-=W,i+=W,u-=W,D+=W,l.length-=W;break}l.mode=tt;break;case ft:for(;E<14;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(l.nlen=(x&31)+257,x>>>=5,E-=5,l.ndist=(x&31)+1,x>>>=5,E-=5,l.ncode=(x&15)+4,x>>>=4,E-=4,l.nlen>286||l.ndist>30){k.msg="too many length or distance symbols",l.mode=dt;break}l.have=0,l.mode=Ot;case Ot:for(;l.have<l.ncode;){for(;E<3;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.lens[Xe[l.have++]]=x&7,x>>>=3,E-=3}for(;l.have<19;)l.lens[Xe[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,ee={bits:l.lenbits},jt=c(p,l.lens,0,19,l.lencode,0,l.work,ee),l.lenbits=ee.bits,jt){k.msg="invalid code lengths set",l.mode=dt;break}l.have=0,l.mode=xt;case xt:for(;l.have<l.nlen+l.ndist;){for(;vt=l.lencode[x&(1<<l.lenbits)-1],ot=vt>>>24,wt=vt>>>16&255,Tt=vt&65535,!(ot<=E);){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(Tt<16)x>>>=ot,E-=ot,l.lens[l.have++]=Tt;else{if(Tt===16){for(Jt=ot+2;E<Jt;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(x>>>=ot,E-=ot,l.have===0){k.msg="invalid bit length repeat",l.mode=dt;break}yt=l.lens[l.have-1],W=3+(x&3),x>>>=2,E-=2}else if(Tt===17){for(Jt=ot+3;E<Jt;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}x>>>=ot,E-=ot,yt=0,W=3+(x&7),x>>>=3,E-=3}else{for(Jt=ot+7;E<Jt;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}x>>>=ot,E-=ot,yt=0,W=11+(x&127),x>>>=7,E-=7}if(l.have+W>l.nlen+l.ndist){k.msg="invalid bit length repeat",l.mode=dt;break}for(;W--;)l.lens[l.have++]=yt}}if(l.mode===dt)break;if(l.lens[256]===0){k.msg="invalid code -- missing end-of-block",l.mode=dt;break}if(l.lenbits=9,ee={bits:l.lenbits},jt=c(d,l.lens,0,l.nlen,l.lencode,0,l.work,ee),l.lenbits=ee.bits,jt){k.msg="invalid literal/lengths set",l.mode=dt;break}if(l.distbits=6,l.distcode=l.distdyn,ee={bits:l.distbits},jt=c(v,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,ee),l.distbits=ee.bits,jt){k.msg="invalid distances set",l.mode=dt;break}if(l.mode=mt,P===I)break t;case mt:l.mode=at;case at:if(T>=6&&u>=258){k.next_out=D,k.avail_out=u,k.next_in=i,k.avail_in=T,l.hold=x,l.bits=E,r(k,j),D=k.next_out,$=k.output,u=k.avail_out,i=k.next_in,U=k.input,T=k.avail_in,x=l.hold,E=l.bits,l.mode===tt&&(l.back=-1);break}for(l.back=0;vt=l.lencode[x&(1<<l.lenbits)-1],ot=vt>>>24,wt=vt>>>16&255,Tt=vt&65535,!(ot<=E);){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(wt&&(wt&240)===0){for(zt=ot,Se=wt,Ce=Tt;vt=l.lencode[Ce+((x&(1<<zt+Se)-1)>>zt)],ot=vt>>>24,wt=vt>>>16&255,Tt=vt&65535,!(zt+ot<=E);){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}x>>>=zt,E-=zt,l.back+=zt}if(x>>>=ot,E-=ot,l.back+=ot,l.length=Tt,wt===0){l.mode=ht;break}if(wt&32){l.back=-1,l.mode=tt;break}if(wt&64){k.msg="invalid literal/length code",l.mode=dt;break}l.extra=wt&15,l.mode=St;case St:if(l.extra){for(Jt=l.extra;E<Jt;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.length+=x&(1<<l.extra)-1,x>>>=l.extra,E-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=gt;case gt:for(;vt=l.distcode[x&(1<<l.distbits)-1],ot=vt>>>24,wt=vt>>>16&255,Tt=vt&65535,!(ot<=E);){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if((wt&240)===0){for(zt=ot,Se=wt,Ce=Tt;vt=l.distcode[Ce+((x&(1<<zt+Se)-1)>>zt)],ot=vt>>>24,wt=vt>>>16&255,Tt=vt&65535,!(zt+ot<=E);){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}x>>>=zt,E-=zt,l.back+=zt}if(x>>>=ot,E-=ot,l.back+=ot,wt&64){k.msg="invalid distance code",l.mode=dt;break}l.offset=Tt,l.extra=wt&15,l.mode=ct;case ct:if(l.extra){for(Jt=l.extra;E<Jt;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}l.offset+=x&(1<<l.extra)-1,x>>>=l.extra,E-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){k.msg="invalid distance too far back",l.mode=dt;break}l.mode=bt;case bt:if(u===0)break t;if(W=j-u,l.offset>W){if(W=l.offset-W,W>l.whave&&l.sane){k.msg="invalid distance too far back",l.mode=dt;break}W>l.wnext?(W-=l.wnext,st=l.wsize-W):st=l.wnext-W,W>l.length&&(W=l.length),te=l.window}else te=$,st=D-l.offset,W=l.length;W>u&&(W=u),u-=W,l.length-=W;do $[D++]=te[st++];while(--W);l.length===0&&(l.mode=at);break;case ht:if(u===0)break t;$[D++]=l.length,u--,l.mode=at;break;case Dt:if(l.wrap){for(;E<32;){if(T===0)break t;T--,x|=U[i++]<<E,E+=8}if(j-=u,k.total_out+=j,l.total+=j,j&&(k.adler=l.check=l.flags?f(l.check,$,j,D-j):s(l.check,$,j,D-j)),j=u,(l.flags?x:Vt(x))!==l.check){k.msg="incorrect data check",l.mode=dt;break}x=0,E=0}l.mode=Mt;case Mt:if(l.wrap&&l.flags){for(;E<32;){if(T===0)break t;T--,x+=U[i++]<<E,E+=8}if(x!==(l.total&4294967295)){k.msg="incorrect length check",l.mode=dt;break}x=0,E=0}l.mode=Ut;case Ut:jt=o;break t;case dt:jt=O;break t;case Nt:return y;case de:default:return w}return k.next_out=D,k.avail_out=u,k.next_in=i,k.avail_in=T,l.hold=x,l.bits=E,(l.wsize||j!==k.avail_out&&l.mode<dt&&(l.mode<Dt||P!==g))&&be(k,k.output,k.next_out,j-k.avail_out),H-=k.avail_in,j-=k.avail_out,k.total_in+=H,k.total_out+=j,l.total+=j,l.wrap&&j&&(k.adler=l.check=l.flags?f(l.check,$,j,k.next_out-j):s(l.check,$,j,k.next_out-j)),k.data_type=l.bits+(l.last?64:0)+(l.mode===tt?128:0)+(l.mode===mt||l.mode===K?256:0),(H===0&&j===0||P===g)&&jt===m&&(jt=F),jt}function M(k){if(!k||!k.state)return w;var P=k.state;return P.window&&(P.window=null),k.state=null,m}function B(k,P){var l;return!k||!k.state||(l=k.state,(l.wrap&2)===0)?w:(l.head=P,P.done=!1,m)}function X(k,P){var l=P.length,U,$,i;return!k||!k.state||(U=k.state,U.wrap!==0&&U.mode!==Z)?w:U.mode===Z&&($=1,$=s($,P,l,0),$!==U.check)?O:(i=be(k,P,l,l),i?(U.mode=Nt,y):(U.havedict=1,m))}n.inflateReset=Zt,n.inflateReset2=_e,n.inflateResetKeep=se,n.inflateInit=Xt,n.inflateInit2=oe,n.inflate=_,n.inflateEnd=M,n.inflateGetHeader=B,n.inflateSetDictionary=X,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,a,n){var h=e("../utils/common"),s=15,f=852,r=592,c=0,p=1,d=2,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],g=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(o,b,w,O,y,F,C,A){var L=A.bits,N=0,V=0,z=0,Y=0,Q=0,G=0,et=0,J=0,Z=0,tt=0,nt,ut,K,lt,ft,Ot=null,xt=0,mt,at=new h.Buf16(s+1),St=new h.Buf16(s+1),gt=null,ct=0,bt,ht,Dt;for(N=0;N<=s;N++)at[N]=0;for(V=0;V<O;V++)at[b[w+V]]++;for(Q=L,Y=s;Y>=1&&at[Y]===0;Y--);if(Q>Y&&(Q=Y),Y===0)return y[F++]=1<<24|64<<16|0,y[F++]=1<<24|64<<16|0,A.bits=1,0;for(z=1;z<Y&&at[z]===0;z++);for(Q<z&&(Q=z),J=1,N=1;N<=s;N++)if(J<<=1,J-=at[N],J<0)return-1;if(J>0&&(o===c||Y!==1))return-1;for(St[1]=0,N=1;N<s;N++)St[N+1]=St[N]+at[N];for(V=0;V<O;V++)b[w+V]!==0&&(C[St[b[w+V]]++]=V);if(o===c?(Ot=gt=C,mt=19):o===p?(Ot=v,xt-=257,gt=g,ct-=257,mt=256):(Ot=S,gt=I,mt=-1),tt=0,V=0,N=z,ft=F,G=Q,et=0,K=-1,Z=1<<Q,lt=Z-1,o===p&&Z>f||o===d&&Z>r)return 1;for(;;){bt=N-et,C[V]<mt?(ht=0,Dt=C[V]):C[V]>mt?(ht=gt[ct+C[V]],Dt=Ot[xt+C[V]]):(ht=32+64,Dt=0),nt=1<<N-et,ut=1<<G,z=ut;do ut-=nt,y[ft+(tt>>et)+ut]=bt<<24|ht<<16|Dt|0;while(ut!==0);for(nt=1<<N-1;tt&nt;)nt>>=1;if(nt!==0?(tt&=nt-1,tt+=nt):tt=0,V++,--at[N]===0){if(N===Y)break;N=b[w+C[V]]}if(N>Q&&(tt&lt)!==K){for(et===0&&(et=Q),ft+=z,G=N-et,J=1<<G;G+et<Y&&(J-=at[G+et],!(J<=0));)G++,J<<=1;if(Z+=1<<G,o===p&&Z>f||o===d&&Z>r)return 1;K=tt&lt,y[K]=Q<<24|G<<16|ft-F|0}}return tt!==0&&(y[ft+tt]=N-et<<24|64<<16|0),A.bits=Q,0}},{"../utils/common":41}],51:[function(e,a,n){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,a,n){var h=e("../utils/common"),s=4,f=0,r=1,c=2;function p(_){for(var M=_.length;--M>=0;)_[M]=0}var d=0,v=1,g=2,S=3,I=258,m=29,o=256,b=o+1+m,w=30,O=19,y=2*b+1,F=15,C=16,A=7,L=256,N=16,V=17,z=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=512,Z=new Array((b+2)*2);p(Z);var tt=new Array(w*2);p(tt);var nt=new Array(J);p(nt);var ut=new Array(I-S+1);p(ut);var K=new Array(m);p(K);var lt=new Array(w);p(lt);function ft(_,M,B,X,k){this.static_tree=_,this.extra_bits=M,this.extra_base=B,this.elems=X,this.max_length=k,this.has_stree=_&&_.length}var Ot,xt,mt;function at(_,M){this.dyn_tree=_,this.max_code=0,this.stat_desc=M}function St(_){return _<256?nt[_]:nt[256+(_>>>7)]}function gt(_,M){_.pending_buf[_.pending++]=M&255,_.pending_buf[_.pending++]=M>>>8&255}function ct(_,M,B){_.bi_valid>C-B?(_.bi_buf|=M<<_.bi_valid&65535,gt(_,_.bi_buf),_.bi_buf=M>>C-_.bi_valid,_.bi_valid+=B-C):(_.bi_buf|=M<<_.bi_valid&65535,_.bi_valid+=B)}function bt(_,M,B){ct(_,B[M*2],B[M*2+1])}function ht(_,M){var B=0;do B|=_&1,_>>>=1,B<<=1;while(--M>0);return B>>>1}function Dt(_){_.bi_valid===16?(gt(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)}function Mt(_,M){var B=M.dyn_tree,X=M.max_code,k=M.stat_desc.static_tree,P=M.stat_desc.has_stree,l=M.stat_desc.extra_bits,U=M.stat_desc.extra_base,$=M.stat_desc.max_length,i,D,T,u,x,E,H=0;for(u=0;u<=F;u++)_.bl_count[u]=0;for(B[_.heap[_.heap_max]*2+1]=0,i=_.heap_max+1;i<y;i++)D=_.heap[i],u=B[B[D*2+1]*2+1]+1,u>$&&(u=$,H++),B[D*2+1]=u,!(D>X)&&(_.bl_count[u]++,x=0,D>=U&&(x=l[D-U]),E=B[D*2],_.opt_len+=E*(u+x),P&&(_.static_len+=E*(k[D*2+1]+x)));if(H!==0){do{for(u=$-1;_.bl_count[u]===0;)u--;_.bl_count[u]--,_.bl_count[u+1]+=2,_.bl_count[$]--,H-=2}while(H>0);for(u=$;u!==0;u--)for(D=_.bl_count[u];D!==0;)T=_.heap[--i],!(T>X)&&(B[T*2+1]!==u&&(_.opt_len+=(u-B[T*2+1])*B[T*2],B[T*2+1]=u),D--)}}function Ut(_,M,B){var X=new Array(F+1),k=0,P,l;for(P=1;P<=F;P++)X[P]=k=k+B[P-1]<<1;for(l=0;l<=M;l++){var U=_[l*2+1];U!==0&&(_[l*2]=ht(X[U]++,U))}}function dt(){var _,M,B,X,k,P=new Array(F+1);for(B=0,X=0;X<m-1;X++)for(K[X]=B,_=0;_<1<<Y[X];_++)ut[B++]=X;for(ut[B-1]=X,k=0,X=0;X<16;X++)for(lt[X]=k,_=0;_<1<<Q[X];_++)nt[k++]=X;for(k>>=7;X<w;X++)for(lt[X]=k<<7,_=0;_<1<<Q[X]-7;_++)nt[256+k++]=X;for(M=0;M<=F;M++)P[M]=0;for(_=0;_<=143;)Z[_*2+1]=8,_++,P[8]++;for(;_<=255;)Z[_*2+1]=9,_++,P[9]++;for(;_<=279;)Z[_*2+1]=7,_++,P[7]++;for(;_<=287;)Z[_*2+1]=8,_++,P[8]++;for(Ut(Z,b+1,P),_=0;_<w;_++)tt[_*2+1]=5,tt[_*2]=ht(_,5);Ot=new ft(Z,Y,o+1,b,F),xt=new ft(tt,Q,0,w,F),mt=new ft(new Array(0),G,0,O,A)}function Nt(_){var M;for(M=0;M<b;M++)_.dyn_ltree[M*2]=0;for(M=0;M<w;M++)_.dyn_dtree[M*2]=0;for(M=0;M<O;M++)_.bl_tree[M*2]=0;_.dyn_ltree[L*2]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function de(_){_.bi_valid>8?gt(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Bt(_,M,B,X){de(_),X&&(gt(_,B),gt(_,~B)),h.arraySet(_.pending_buf,_.window,M,B,_.pending),_.pending+=B}function Lt(_,M,B,X){var k=M*2,P=B*2;return _[k]<_[P]||_[k]===_[P]&&X[M]<=X[B]}function _t(_,M,B){for(var X=_.heap[B],k=B<<1;k<=_.heap_len&&(k<_.heap_len&&Lt(M,_.heap[k+1],_.heap[k],_.depth)&&k++,!Lt(M,X,_.heap[k],_.depth));)_.heap[B]=_.heap[k],B=k,k<<=1;_.heap[B]=X}function rt(_,M,B){var X,k,P=0,l,U;if(_.last_lit!==0)do X=_.pending_buf[_.d_buf+P*2]<<8|_.pending_buf[_.d_buf+P*2+1],k=_.pending_buf[_.l_buf+P],P++,X===0?bt(_,k,M):(l=ut[k],bt(_,l+o+1,M),U=Y[l],U!==0&&(k-=K[l],ct(_,k,U)),X--,l=St(X),bt(_,l,B),U=Q[l],U!==0&&(X-=lt[l],ct(_,X,U)));while(P<_.last_lit);bt(_,L,M)}function Vt(_,M){var B=M.dyn_tree,X=M.stat_desc.static_tree,k=M.stat_desc.has_stree,P=M.stat_desc.elems,l,U,$=-1,i;for(_.heap_len=0,_.heap_max=y,l=0;l<P;l++)B[l*2]!==0?(_.heap[++_.heap_len]=$=l,_.depth[l]=0):B[l*2+1]=0;for(;_.heap_len<2;)i=_.heap[++_.heap_len]=$<2?++$:0,B[i*2]=1,_.depth[i]=0,_.opt_len--,k&&(_.static_len-=X[i*2+1]);for(M.max_code=$,l=_.heap_len>>1;l>=1;l--)_t(_,B,l);i=P;do l=_.heap[1],_.heap[1]=_.heap[_.heap_len--],_t(_,B,1),U=_.heap[1],_.heap[--_.heap_max]=l,_.heap[--_.heap_max]=U,B[i*2]=B[l*2]+B[U*2],_.depth[i]=(_.depth[l]>=_.depth[U]?_.depth[l]:_.depth[U])+1,B[l*2+1]=B[U*2+1]=i,_.heap[1]=i++,_t(_,B,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],Mt(_,M),Ut(B,$,_.bl_count)}function ue(_,M,B){var X,k=-1,P,l=M[0*2+1],U=0,$=7,i=4;for(l===0&&($=138,i=3),M[(B+1)*2+1]=65535,X=0;X<=B;X++)P=l,l=M[(X+1)*2+1],!(++U<$&&P===l)&&(U<i?_.bl_tree[P*2]+=U:P!==0?(P!==k&&_.bl_tree[P*2]++,_.bl_tree[N*2]++):U<=10?_.bl_tree[V*2]++:_.bl_tree[z*2]++,U=0,k=P,l===0?($=138,i=3):P===l?($=6,i=3):($=7,i=4))}function se(_,M,B){var X,k=-1,P,l=M[0*2+1],U=0,$=7,i=4;for(l===0&&($=138,i=3),X=0;X<=B;X++)if(P=l,l=M[(X+1)*2+1],!(++U<$&&P===l)){if(U<i)do bt(_,P,_.bl_tree);while(--U!==0);else P!==0?(P!==k&&(bt(_,P,_.bl_tree),U--),bt(_,N,_.bl_tree),ct(_,U-3,2)):U<=10?(bt(_,V,_.bl_tree),ct(_,U-3,3)):(bt(_,z,_.bl_tree),ct(_,U-11,7));U=0,k=P,l===0?($=138,i=3):P===l?($=6,i=3):($=7,i=4)}}function Zt(_){var M;for(ue(_,_.dyn_ltree,_.l_desc.max_code),ue(_,_.dyn_dtree,_.d_desc.max_code),Vt(_,_.bl_desc),M=O-1;M>=3&&_.bl_tree[et[M]*2+1]===0;M--);return _.opt_len+=3*(M+1)+5+5+4,M}function _e(_,M,B,X){var k;for(ct(_,M-257,5),ct(_,B-1,5),ct(_,X-4,4),k=0;k<X;k++)ct(_,_.bl_tree[et[k]*2+1],3);se(_,_.dyn_ltree,M-1),se(_,_.dyn_dtree,B-1)}function oe(_){var M=4093624447,B;for(B=0;B<=31;B++,M>>>=1)if(M&1&&_.dyn_ltree[B*2]!==0)return f;if(_.dyn_ltree[9*2]!==0||_.dyn_ltree[10*2]!==0||_.dyn_ltree[13*2]!==0)return r;for(B=32;B<o;B++)if(_.dyn_ltree[B*2]!==0)return r;return f}var Xt=!1;function pe(_){Xt||(dt(),Xt=!0),_.l_desc=new at(_.dyn_ltree,Ot),_.d_desc=new at(_.dyn_dtree,xt),_.bl_desc=new at(_.bl_tree,mt),_.bi_buf=0,_.bi_valid=0,Nt(_)}function fe(_,M,B,X){ct(_,(d<<1)+(X?1:0),3),Bt(_,M,B,!0)}function At(_){ct(_,v<<1,3),bt(_,L,Z),Dt(_)}function Gt(_,M,B,X){var k,P,l=0;_.level>0?(_.strm.data_type===c&&(_.strm.data_type=oe(_)),Vt(_,_.l_desc),Vt(_,_.d_desc),l=Zt(_),k=_.opt_len+3+7>>>3,P=_.static_len+3+7>>>3,P<=k&&(k=P)):k=P=B+5,B+4<=k&&M!==-1?fe(_,M,B,X):_.strategy===s||P===k?(ct(_,(v<<1)+(X?1:0),3),rt(_,Z,tt)):(ct(_,(g<<1)+(X?1:0),3),_e(_,_.l_desc.max_code+1,_.d_desc.max_code+1,l+1),rt(_,_.dyn_ltree,_.dyn_dtree)),Nt(_),X&&de(_)}function be(_,M,B){return _.pending_buf[_.d_buf+_.last_lit*2]=M>>>8&255,_.pending_buf[_.d_buf+_.last_lit*2+1]=M&255,_.pending_buf[_.l_buf+_.last_lit]=B&255,_.last_lit++,M===0?_.dyn_ltree[B*2]++:(_.matches++,M--,_.dyn_ltree[(ut[B]+o+1)*2]++,_.dyn_dtree[St(M)*2]++),_.last_lit===_.lit_bufsize-1}n._tr_init=pe,n._tr_stored_block=fe,n._tr_flush_block=Gt,n._tr_tally=be,n._tr_align=At},{"../utils/common":41}],53:[function(e,a,n){function h(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=h},{}],54:[function(e,a,n){a.exports=typeof setImmediate=="function"?setImmediate:function(){var s=[].slice.apply(arguments);s.splice(1,0,0),setTimeout.apply(null,s)}},{}]},{},[10])(10)})})(Ye);var Qe=Ye.exports;class $e{load(t,e){fetch(t).then(function(a){return a.status===200||a.status===0?Promise.resolve(a.blob()):Promise.reject(new Error(a.statusText))}).then(Qe.loadAsync).then(async function(a){console.log(a);let n=null;const h={};for(let f in a.files){const r=a.files[f],c=f.split(".").pop();if(console.log(f,r,c),c==="ssfb"){if(n!==null){e(null,null,new Error("already exist ssfb file"));return}n=f}else if(c==="png"){const p=f.split(".").slice(0,-1).join(".");h[p]=await a.file(f).async("uint8array")}}let s=await a.file(n).async("uint8array");e(s,h,null)},function(n){console.log(n),e(null,null,n)})}}class qe{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),a={};for(let n=0;n<e;n++){const h=t.fbObj.animePacks(n),s=h.name(),f=[],r=h.animationsLength();for(let p=0;p<r;p++){const d=h.animations(p),v=d.name();v!=="Setup"&&(f[v]=d)}const c=h.partsLength();a[s]={animePack:h,animationMap:f,parts_count:c}}return a}}const Fe=30;class ti{constructor(t){this.textureMap=null,this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null,this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const e=new We.Application({width:this.canvasWidth,height:this.canvasHeight,transparent:!0}),a=e.view;t.appendChild(a);const n=new He;e.stage.addChild(n),this.mainContainer=n,this.pixiApplication=e}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let a=new Ze(t,()=>{e.setupForLoadComplete(a)})}loadSspkg(t){const e=this;new $e().load(t,(n,h,s)=>{if(s!==null)return;let f=new Ze(n,h,()=>{e.setupForLoadComplete(f)})})}setupForLoadComplete(t){this.projectData=t,this.textureMap={};for(let e in t.resources){const a=t.resources[e];this.textureMap[e]=a.texture}this.animePackMap=qe.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let a=!1;this.textureContainer==null&&(a=!0,this.textureContainer=new Je(this));const n=this.animePackMap[t],h=n.animePack,f=n.animationMap[e];this.currentAnimation=f,this.currentAnimePack=h,this.textureContainer.Setup(t,e);const r=f.labelDataLength();for(let c=0;c<r;c++)f.labelData(c);a&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,a=-1){this.textureContainer.SetAnimationSection(t,e,a)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),a=t.canvasPvotY();let n;switch(e){case .5:n=Fe;break;case 0:n=this.canvasWidth*.5;break;case-.5:n=this.canvasWidth-Fe;break}let h;switch(a){case .5:h=Fe;break;case 0:h=this.canvasHeight*.5;break;case-.5:h=this.canvasHeight-Fe}this.mainContainer.setPosition(n,h)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),a=t.canvasSizeW(),n=this.canvasWidth/a,h=this.canvasHeight/e;let s=null;n<h?s=n:h<n&&(s=h),this.mainContainer.setDefaultScaleRatio(s),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Ee.Player=ti,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee}({},PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI.filters,PIXI);

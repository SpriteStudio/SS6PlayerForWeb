/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.5.0
 *
 * Copyright(C) CRI Middleware Co., Ltd.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

var ss6PlayerViewer=function(Ae,wt){"use strict";const be=[5,10,15,20,25,50,75,100,150,200,300,400,800];class Me extends wt.Container{constructor(){super(),this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new wt.Graphics,e=new wt.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const r=this.position;r.x+=t,r.y+=e,this.position=r}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=be.indexOf(this.zoomPercent)+1;if(e>=be.length)return;const r=be[e];this.zoom(r)}zoomOut(){const e=be.indexOf(this.zoomPercent)-1;if(e<0)return;const r=be[e];this.zoom(r)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){t.lineStyle(1,0),t.alpha=.3,t.moveTo(-5e3,0).lineTo(5001,0),t.moveTo(0,-5e3).lineTo(0,5001),e.lineStyle(1,0),e.alpha=.1;let l=100;for(let a=-5e3;a<5001;a+=l)e.moveTo(a,-5e3).lineTo(a,5001);for(let a=-5e3;a<5001;a+=l)e.moveTo(-5e3,-a).lineTo(5001,-a)}}}class Be{}const me=4,ve=4,Ft=4,ee=new Int32Array(2),Pe=new Float32Array(ee.buffer),Te=new Float64Array(ee.buffer),ge=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Ee;(function(L){L[L.UTF8_BYTES=1]="UTF8_BYTES",L[L.UTF16_STRING=2]="UTF16_STRING"})(Ee||(Ee={}));class Oe{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new Oe(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ee[0]=this.readInt32(t),Pe[0]}readFloat64(t){return ee[ge?0:1]=this.readInt32(t),ee[ge?1:0]=this.readInt32(t+4),Te[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Pe[0]=e,this.writeInt32(t,ee[0])}writeFloat64(t,e){Te[0]=e,this.writeInt32(t,ee[ge?0:1]),this.writeInt32(t+4,ee[ge?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+me+ve)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ve;e++)t+=String.fromCharCode(this.readInt8(this.position_+me+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);t+=me;const s=this.bytes_.subarray(t,t+r);return e===Ee.UTF8_BYTES?s:this.text_decoder_.decode(s)}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+me}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ve)throw new Error("FlatBuffers: file identifier must be length "+ve);for(let e=0;e<ve;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+me+e))return!1;return!0}createScalarList(t,e){const r=[];for(let s=0;s<e;++s){const l=t(s);l!==null&&r.push(l)}return r}createObjList(t,e){const r=[];for(let s=0;s<e;++s){const l=t(s);l!==null&&r.push(l.unpack())}return r}}class et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+Ft),(e||new et).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,r,s,l,a,h,n,m,c,_,g,v,F,C,o,u,p,I,P,y,w,S,E,N,D,B,R,j,Q,J,G,$,Z,tt,nt,ht,H,st){return et.startAnimationInitialData(t),et.addIndex(t,e),et.addLowflag(t,r),et.addHighflag(t,s),et.addPriority(t,l),et.addCellIndex(t,a),et.addOpacity(t,h),et.addLocalopacity(t,n),et.addMasklimen(t,m),et.addPositionX(t,c),et.addPositionY(t,_),et.addPositionZ(t,g),et.addPivotX(t,v),et.addPivotY(t,F),et.addRotationX(t,C),et.addRotationY(t,o),et.addRotationZ(t,u),et.addScaleX(t,p),et.addScaleY(t,I),et.addLocalscaleX(t,P),et.addLocalscaleY(t,y),et.addSizeX(t,w),et.addSizeY(t,S),et.addUvMoveX(t,E),et.addUvMoveY(t,N),et.addUvRotation(t,D),et.addUvScaleX(t,B),et.addUvScaleY(t,R),et.addBoundingRadius(t,j),et.addInstanceValueCurKeyframe(t,Q),et.addInstanceValueStartFrame(t,J),et.addInstanceValueEndFrame(t,G),et.addInstanceValueLoopNum(t,$),et.addInstanceValueSpeed(t,Z),et.addInstanceValueLoopflag(t,tt),et.addEffectValueCurKeyframe(t,nt),et.addEffectValueStartTime(t,ht),et.addEffectValueSpeed(t,H),et.addEffectValueLoopflag(t,st),et.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+Ft),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,r,s,l){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,r),Ht.addFlag2(t,s),Ht.addData(t,l),Ht.endpartState(t)}}class oe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+Ft),(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const r=this.bb.__offset(this.bb_pos,4);return r?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return oe.startframeDataIndex(t),oe.addStates(t,e),oe.endframeDataIndex(t)}}class ie{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+Ft),(e||new ie).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,r){return ie.startlabelDataItem(t),ie.addLabel(t,e),ie.addFrameIndex(t,r),ie.endlabelDataItem(t)}}class fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+Ft),(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return fe.startmeshDataIndices(t),fe.addIndices(t,e),fe.endmeshDataIndices(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+Ft),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return le.startmeshDataUV(t),le.addUv(t,e),le.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+Ft),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,r,s,l){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,r),Kt.addDataType(t,s),Kt.addData(t,l),Kt.enduserDataItem(t)}}class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+Ft),(e||new re).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,r){return re.startuserDataPerFrame(t),re.addFrameIndex(t,e),re.addData(t,r),re.enduserDataPerFrame(t)}}class pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+Ft),(e||new pt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new oe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const r=this.bb.__offset(this.bb_pos,10);return r?(e||new re).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ie).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUv(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataUvLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new fe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUv(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUvVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataUvVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,r,s,l,a,h,n,m,c,_,g,v,F,C,o,u){return pt.startAnimationData(t),pt.addName(t,e),pt.addDefaultData(t,r),pt.addFrameData(t,s),pt.addUserData(t,l),pt.addLabelData(t,a),pt.addMeshsDataUv(t,h),pt.addMeshsDataIndices(t,n),pt.addStartFrames(t,m),pt.addEndFrames(t,c),pt.addTotalFrames(t,_),pt.addFps(t,g),pt.addLabelNum(t,v),pt.addCanvasSizeW(t,F),pt.addCanvasSizeH(t,C),pt.addCanvasPvotX(t,o),pt.addCanvasPvotY(t,u),pt.endAnimationData(t)}}var It=(L=>(L[L.Invalid=-1]="Invalid",L[L.Nulltype=0]="Nulltype",L[L.Normal=1]="Normal",L[L.Text=2]="Text",L[L.Instance=3]="Instance",L[L.Armature=4]="Armature",L[L.Effect=5]="Effect",L[L.Mesh=6]="Mesh",L[L.Movenode=7]="Movenode",L[L.Constraint=8]="Constraint",L[L.Mask=9]="Mask",L[L.Joint=10]="Joint",L[L.Bonepoint=11]="Bonepoint",L))(It||{});class Et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+Ft),(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):It.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,It.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,r,s,l,a,h,n,m,c,_){return Et.startPartData(t),Et.addName(t,e),Et.addIndex(t,r),Et.addParentIndex(t,s),Et.addType(t,l),Et.addBoundsType(t,a),Et.addAlphaBlendType(t,h),Et.addRefname(t,n),Et.addEffectfilename(t,m),Et.addColorLabel(t,c),Et.addMaskInfluence(t,_),Et.endPartData(t)}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+Ft),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const r=this.bb.__offset(this.bb_pos,6);return r?(e||new Et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const r=this.bb.__offset(this.bb_pos,8);return r?(e||new pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,r,s){return $t.startAnimePackData(t),$t.addName(t,e),$t.addParts(t,r),$t.addAnimations(t,s),$t.endAnimePackData(t)}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+Ft),(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,r,s,l,a){return Xt.startCellMap(t),Xt.addName(t,e),Xt.addImagePath(t,r),Xt.addIndex(t,s),Xt.addWrapmode(t,l),Xt.addFiltermode(t,a),Xt.endCellMap(t)}}class ye{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+Ft),(e||new ye).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Xt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Lt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+Ft),(e||new Lt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}behaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}behaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}behaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}behavior(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?this.bb.__union(e,this.bb.__vector(this.bb_pos+r)+t*4):null}behaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,r,s,l,a,h,n,m){return Lt.startEffectNode(t),Lt.addArrayIndex(t,e),Lt.addParentIndex(t,r),Lt.addType(t,s),Lt.addCellIndex(t,l),Lt.addBlendType(t,a),Lt.addNumBehavior(t,h),Lt.addBehaviorType(t,n),Lt.addBehavior(t,m),Lt.endEffectNode(t)}}class zt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new zt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+Ft),(e||new zt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const r=this.bb.__offset(this.bb_pos,18);return r?(e||new Lt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,r,s,l,a,h,n,m){return zt.startEffectFile(t),zt.addName(t,e),zt.addFps(t,r),zt.addIsLockRandSeed(t,s),zt.addLockRandSeed(t,l),zt.addLayoutScaleX(t,a),zt.addLayoutScaleY(t,h),zt.addNumNodeList(t,n),zt.addEffectNode(t,m),zt.endEffectFile(t)}}var it=(L=>(L[L.INVISIBLE=1]="INVISIBLE",L[L.FLIP_H=2]="FLIP_H",L[L.FLIP_V=4]="FLIP_V",L[L.CELL_INDEX=8]="CELL_INDEX",L[L.POSITION_X=16]="POSITION_X",L[L.POSITION_Y=32]="POSITION_Y",L[L.POSITION_Z=64]="POSITION_Z",L[L.PIVOT_X=128]="PIVOT_X",L[L.PIVOT_Y=256]="PIVOT_Y",L[L.ROTATIONX=512]="ROTATIONX",L[L.ROTATIONY=1024]="ROTATIONY",L[L.ROTATIONZ=2048]="ROTATIONZ",L[L.SCALE_X=4096]="SCALE_X",L[L.SCALE_Y=8192]="SCALE_Y",L[L.LOCALSCALE_X=16384]="LOCALSCALE_X",L[L.LOCALSCALE_Y=32768]="LOCALSCALE_Y",L[L.OPACITY=65536]="OPACITY",L[L.LOCALOPACITY=131072]="LOCALOPACITY",L[L.PARTS_COLOR=262144]="PARTS_COLOR",L[L.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",L[L.SIZE_X=1048576]="SIZE_X",L[L.SIZE_Y=2097152]="SIZE_Y",L[L.U_MOVE=4194304]="U_MOVE",L[L.V_MOVE=8388608]="V_MOVE",L[L.UV_ROTATION=16777216]="UV_ROTATION",L[L.U_SCALE=33554432]="U_SCALE",L[L.V_SCALE=67108864]="V_SCALE",L[L.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",L[L.MASK=268435456]="MASK",L[L.PRIORITY=536870912]="PRIORITY",L[L.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",L[L.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",L))(it||{}),Le=(L=>(L[L.MESHDATA=1]="MESHDATA",L))(Le||{});class Ot{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Ot).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+Ft),(e||new Ot).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const r=this.bb.__offset(this.bb_pos,12);return r?(e||new ye).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const r=this.bb.__offset(this.bb_pos,14);return r?(e||new $t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const r=this.bb.__offset(this.bb_pos,16);return r?(e||new zt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,r,s,l,a,h,n,m,c,_){return Ot.startProjectData(t),Ot.addDataId(t,e),Ot.addVersion(t,r),Ot.addFlags(t,s),Ot.addImageBaseDir(t,l),Ot.addCells(t,a),Ot.addAnimePacks(t,h),Ot.addEffectFileList(t,n),Ot.addNumCells(t,m),Ot.addNumAnimePacks(t,c),Ot.addNumEffectFileList(t,_),Ot.endProjectData(t)}}class Ve{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class ze{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,r){return t.prep(4,8),t.writeInt32(r),t.writeInt32(e),t.offset()}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,r,s,l){return t.prep(4,16),t.writeInt32(l),t.writeInt32(s),t.writeInt32(r),t.writeInt32(e),t.offset()}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+Ft),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,r){return Qt.startuserDataString(t),Qt.addLength(t,e),Qt.addData(t,r),Qt.enduserDataString(t)}}let Ze=class{static getProjectData(t){const e=new Oe(t);return Ot.getRootAsProjectData(e)}};class De{static getProjectData(t){return Ze.getProjectData(t)}}let ce=class{constructor(t,e=null,r=null){this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this._animePackIdx=-1,this._parentIndex=[],this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),t.hasOwnProperty("bb")?this._fbObj=t:this._fbObj=De.getProjectData(t),e!==null&&r!==null&&this.Setup(e,r)}get fbObj(){return this._fbObj}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}get animePackIdx(){return this._animePackIdx}get animePackData(){return this.curAnimePackData}get animationData(){return this.curAnimation}get parentIndex(){return this._parentIndex}get prio2index(){return this._prio2index}Setup(t,e){this.clearCaches();const r=this._fbObj.animePacksLength();let s=!1;for(let l=0;l<r;l++)if(this._fbObj.animePacks(l).name()===t){let a;const h=this._fbObj.animePacks(l).animationsLength();for(a=0;a<h;a++)if(this._fbObj.animePacks(l).animations(a).name()===e){this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this._fbObj.animePacks(l),this.curAnimation=this.curAnimePackData.animations(a),s=!0;break}if(!s)continue;const n=this.curAnimation.defaultDataLength();for(let c=0;c<n;c++){const _=this.curAnimation.defaultData(c);this.defaultFrameMap[_.index()]=_}this._animePackIdx=l;const m=this.curAnimePackData.partsLength();for(this._parentIndex=new Array(m),a=0;a<m;a++){const c=this.curAnimePackData.parts(a).index();this._parentIndex[c]=this._fbObj.animePacks(l).parts(a).parentIndex()}}if(!s)throw Error("not found animePackName: "+t+" animeName: "+e)}clearCaches(){this._prio2index=[],this.userData=[],this.frameDataCache=null,this.currentCachedFrameNumber=-1,this.defaultFrameMap=[]}HaveUserData(t){if(this.userData[t]===null)return!1;if(this.userData[t]!==void 0)return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=null,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],r=e.dataLength();let s=0,l=[];for(let a=0;a<r;a++){const h=e.data(a).flags(),n=e.data(a).arrayIndex();let m=null,c=null,_=null,g=null,v=null,F=null,C=null,o=null,u=null;h&1&&(m=e.data(a).data(s,new Ve).integer(),s++),h&2&&(c=e.data(a).data(s,new xe).x(),_=e.data(a).data(s,new xe).y(),g=e.data(a).data(s,new xe).w(),v=e.data(a).data(s,new xe).h(),s++),h&4&&(F=e.data(a).data(s,new ze).x(),C=e.data(a).data(s,new ze).y(),s++),h&8&&(o=e.data(a).data(s,new Qt).length(),u=e.data(a).data(s,new Qt).data(),s++),l.push([n,h,m,c,_,g,v,F,C,o,u])}return l}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let r=new Array(e);this._prio2index=new Array(e);const s=this.curAnimation.frameData(t);for(let l=0;l<e;l++){const a=s.states(l),h=a.index();let n=a.flag1(),m=a.flag2(),c=this.GetDefaultDataByIndex(h);c.flag1=n,c.flag2=m;let _=0;if(n&it.INVISIBLE&&(c.f_hide=!0),n&it.FLIP_H&&(c.f_flipH=!0),n&it.FLIP_V&&(c.f_flipV=!0),n&it.CELL_INDEX&&(c.cellIndex=a.data(_++)),n&it.POSITION_X&&(c.positionX=this.I2F(a.data(_++))),n&it.POSITION_Y&&(c.positionY=this.I2F(a.data(_++))),n&it.POSITION_Z&&_++,n&it.PIVOT_X&&(c.pivotX=this.I2F(a.data(_++))),n&it.PIVOT_Y&&(c.pivotY=this.I2F(a.data(_++))),n&it.ROTATIONX&&_++,n&it.ROTATIONY&&_++,n&it.ROTATIONZ&&(c.rotationZ=this.I2F(a.data(_++))),n&it.SCALE_X&&(c.scaleX=this.I2F(a.data(_++))),n&it.SCALE_Y&&(c.scaleY=this.I2F(a.data(_++))),n&it.LOCALSCALE_X&&(c.localscaleX=this.I2F(a.data(_++))),n&it.LOCALSCALE_Y&&(c.localscaleY=this.I2F(a.data(_++))),n&it.OPACITY&&(c.opacity=a.data(_++)),n&it.LOCALOPACITY&&(c.localopacity=a.data(_++)),n&it.SIZE_X&&(c.size_X=this.I2F(a.data(_++))),n&it.SIZE_Y&&(c.size_Y=this.I2F(a.data(_++))),n&it.U_MOVE&&(c.uv_move_X=this.I2F(a.data(_++))),n&it.V_MOVE&&(c.uv_move_Y=this.I2F(a.data(_++))),n&it.UV_ROTATION&&(c.uv_rotation=this.I2F(a.data(_++))),n&it.U_SCALE&&(c.uv_scale_X=this.I2F(a.data(_++))),n&it.V_SCALE&&(c.uv_scale_Y=this.I2F(a.data(_++))),n&it.BOUNDINGRADIUS&&_++,n&it.MASK&&(c.masklimen=a.data(_++)),n&it.PRIORITY&&(c.priority=a.data(_++)),n&it.INSTANCE_KEYFRAME&&(c.instanceValue_curKeyframe=a.data(_++),c.instanceValue_startFrame=a.data(_++),c.instanceValue_endFrame=a.data(_++),c.instanceValue_loopNum=a.data(_++),c.instanceValue_speed=this.I2F(a.data(_++)),c.instanceValue_loopflag=a.data(_++)),n&it.EFFECT_KEYFRAME&&(c.effectValue_curKeyframe=a.data(_++),c.effectValue_startTime=a.data(_++),c.effectValue_speed=this.I2F(a.data(_++)),c.effectValue_loopflag=a.data(_++)),n&it.VERTEX_TRANSFORM){c.f_mesh=!0;const g=c.i_transformVerts=a.data(_++);g&1&&(c.u00=this.I2F(a.data(_++)),c.v00=this.I2F(a.data(_++))),g&2&&(c.u01=this.I2F(a.data(_++)),c.v01=this.I2F(a.data(_++))),g&4&&(c.u10=this.I2F(a.data(_++)),c.v10=this.I2F(a.data(_++))),g&8&&(c.u11=this.I2F(a.data(_++)),c.v11=this.I2F(a.data(_++)))}if(n&it.PARTS_COLOR){const g=a.data(_++);if(c.colorBlendType=g&255,c.useColorMatrix=c.colorBlendType!==1,g&4096){c.colorRate=this.I2F(a.data(_++));const v=a.data(_++),F=a.data(_++);c.colorArgb32=v<<16|F,c.partsColorARGB=c.colorArgb32>>>0,c.colorBlendType===1&&(c.tint=c.colorArgb32&16777215)}}if(m&Le.MESHDATA){const g=this.curAnimation.meshsDataUv(h);c.meshIsBind=g.uv(0),c.meshNum=g.uv(1);let v=new Float32Array(c.meshNum*3);for(let F=0;F<c.meshNum;F++){const C=this.I2F(a.data(_++)),o=this.I2F(a.data(_++)),u=this.I2F(a.data(_++));v[F*3+0]=C,v[F*3+1]=o,v[F*3+2]=u}c.meshDataPoint=v}r[h]=c,this._prio2index[l]=h,this.curAnimePackData.parts(h).type()===0&&(r[h].cellIndex=-2)}return this.frameDataCache=r,this.currentCachedFrameNumber=t,r}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];let r=new Be;return r.index=e.index(),r.lowflag=e.lowflag(),r.highflag=e.highflag(),r.priority=e.priority(),r.cellIndex=e.cellIndex(),r.opacity=e.opacity(),r.localopacity=e.localopacity(),r.masklimen=e.masklimen(),r.positionX=e.positionX(),r.positionY=e.positionY(),r.pivotX=e.pivotX(),r.pivotY=e.pivotY(),r.rotationX=e.rotationX(),r.rotationY=e.rotationY(),r.rotationZ=e.rotationZ(),r.scaleX=e.scaleX(),r.scaleY=e.scaleY(),r.localscaleX=e.localscaleX(),r.localscaleY=e.localscaleY(),r.size_X=e.sizeX(),r.size_Y=e.sizeY(),r.uv_move_X=e.uvMoveX(),r.uv_move_Y=e.uvMoveY(),r.uv_rotation=e.uvRotation(),r.uv_scale_X=e.uvScaleX(),r.uv_scale_Y=e.uvScaleY(),r.boundingRadius=e.boundingRadius(),r.instanceValue_curKeyframe=e.instanceValueCurKeyframe(),r.instanceValue_endFrame=e.instanceValueEndFrame(),r.instanceValue_startFrame=e.instanceValueStartFrame(),r.instanceValue_loopNum=e.instanceValueLoopNum(),r.instanceValue_speed=e.instanceValueSpeed(),r.instanceValue_loopflag=e.instanceValueLoopflag(),r.effectValue_curKeyframe=e.effectValueCurKeyframe(),r.effectValue_startTime=e.effectValueStartTime(),r.effectValue_speed=e.effectValueSpeed(),r.effectValue_loopflag=e.effectValueLoopflag(),r.f_hide=!1,r.f_flipH=!1,r.f_flipV=!1,r.f_mesh=!1,r.i_transformVerts=0,r.u00=0,r.v00=0,r.u01=0,r.v01=0,r.u10=0,r.v10=0,r.u11=0,r.v11=0,r.useColorMatrix=!1,r.colorBlendType=0,r.colorRate=0,r.colorArgb32=0,r.meshIsBind=0,r.meshNum=0,r.meshDataPoint=null,r.flag1=0,r.flag2=0,r.partsColorARGB=0,r}InheritOpacity(t,e,r){return t=this.GetFrameData(r)[e].opacity/255,this._parentIndex[e]>=0&&(t=this.InheritOpacity(t,this._parentIndex[e],r)),t}TransformVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let m=t[n*2],c=t[n*2+1];s.i_transformVerts&1&&n===1&&(m+=s.u00,c-=s.v00),s.i_transformVerts&2&&n===2&&(m+=s.u01,c-=s.v01),s.i_transformVerts&4&&n===3&&(m+=s.u10,c-=s.v10),s.i_transformVerts&8&&n===4&&(m+=s.u11,c-=s.v11),m*=s.scaleX*s.localscaleX,c*=s.scaleY*s.localscaleY,t[n*2]=a*m-h*c+s.positionX,t[n*2+1]=h*m+a*c-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformMeshVertsLocal(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let m=t[n*2],c=t[n*2+1];m*=s.scaleX*s.localscaleX,c*=s.scaleY*s.localscaleY,t[n*2]=a*m-h*c+s.positionX,t[n*2+1]=h*m+a*c-s.positionY}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPositionLocal(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l),n=t[0]*s.scaleX*s.localscaleX,m=t[1]*s.scaleY*s.localscaleY;return t[2]*=s.scaleX*s.localscaleX,t[3]*=s.scaleY*s.localscaleY,t[0]=a*n-h*m+s.positionX,t[1]=h*n+a*m-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static CoordinateGetDiagonalIntersection(t,e,r,s,l,a,h,n,m,c,_){const g=(n-a)*(h-r)-(h-l)*(n-s),v=(m-r)*(n-s)-(c-s)*(h-r),F=(m-r)*(n-a)-(c-s)*(h-l);if(F<=0&&F>=0)return _;const C=g/F,o=v/F;return 0<=C&&1>=C&&0<=o&&1>=o&&(t=r+C*(m-r),e=s+C*(c-s)),_[0]=t,_[1]=e,_}TransformVerts(t,e,r){const s=this.GetFrameData(r)[e],l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l);for(let n=0;n<t.length/2;n++){let m=t[n*2],c=t[n*2+1];m*=s.scaleX,c*=s.scaleY,t[n*2]=a*m-h*c+s.positionX,t[n*2+1]=h*m+a*c-s.positionY,s.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),s.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this._parentIndex[e]>=0&&(t=this.TransformVerts(t,this._parentIndex[e],r)),t}TransformPosition(t,e,r){const s=this.GetFrameData(r)[e];t[4]+=-s.rotationZ;const l=-s.rotationZ*Math.PI/180,a=Math.cos(l),h=Math.sin(l),n=t[0]*s.scaleX,m=t[1]*s.scaleY;return t[2]*=s.scaleX,t[3]*=s.scaleY,t[0]=a*n-h*m+s.positionX,t[1]=h*n+a*m-s.positionY,this._parentIndex[e]>=0&&(t=this.TransformPosition(t,this._parentIndex[e],r)),t}static GetVerts(t,e,r){const s=e.size_X/2,l=e.size_Y/2,a=e.size_X*-(e.pivotX+t.pivotX()),h=e.size_Y*(e.pivotY+t.pivotY());return r.set([a,h,a-s,h-l,a+s,h-l,a-s,h+l,a+s,h+l]),r}static GetMeshVerts(t,e,r){for(let s=0;s<e.meshNum;s++)r[s*2]=e.meshDataPoint[s*3],r[s*2+1]=-e.meshDataPoint[s*3+1];return r}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}};class je{constructor(){}load(t,e,r){wt.Assets.addBundle(t,e),wt.Assets.loadBundle(t).then(()=>{r!==null&&r(null)}).catch(s=>{r!==null&&r(s)})}unload(t,e,r){wt.Assets.unloadBundle(t).then(()=>{r!==null&&r(null)}).catch(s=>{r!==null&&r(s)})}texture(t){return wt.Assets.get(t)}}class Ye{constructor(){this.loader=new je}load(t,e,r){return this.loader.load(t,e,r)}unload(t,e,r=null){return this.loader.unload(t,e,r)}texture(t){return this.loader.texture(t)}}class Ne{constructor(t,e,r,s){if(this.sspjMap={},this.resourceLoader=new Ye,typeof t=="string"&&r===void 0){let l=t;this.ssfbPath=l;const a=l.lastIndexOf("/");this.rootPath=l.substring(0,a)+"/",this.ssfbFile=l.substring(a+1),this.onComplete=e===void 0?null:e,this.status=0,this.LoadFlatBuffersProject()}else if(typeof e=="object"&&e.constructor===Uint8Array){this.ssfbPath=null,this.rootPath=null,this.ssfbFile=t;let l=e,a=r;this.onComplete=s===void 0?null:s,this.load(l,a)}}getBundle(){return this.ssfbFile}getTexture(t){return this.resourceLoader.texture(t)}dispose(t=null){this.resourceLoader.unload(this.getBundle(),this.sspjMap,e=>{t!==null&&t()})}LoadFlatBuffersProject(){const t=this;fetch(this.ssfbPath,{method:"get"}).then(e=>e.ok?Promise.resolve(e.arrayBuffer()):Promise.reject(new Error(e.statusText))).then(e=>{t.fbObj=De.getProjectData(new Uint8Array(e)),t.LoadCellResources()}).catch(e=>{this.onComplete!==null&&this.onComplete(null,e)})}LoadCellResources(){let t=[];this.sspjMap={};for(let r=0;r<this.fbObj.cellsLength();r++){const s=this.fbObj.cells(r).cellMap(),l=s.index();if(!t.some(function(a){return a===l})){t.push(l);const a=s.name();this.sspjMap[a]=this.rootPath+s.imagePath()}}const e=this;this.resourceLoader.load(this.getBundle(),this.sspjMap,r=>{r===null?(e.status=1,e.onComplete!==null&&e.onComplete(this,null)):this.onComplete!==null&&this.onComplete(null,r)})}load(t,e){this.fbObj=De.getProjectData(t);let r={};for(let l in e){const a=e[l];let h="";const n=a.byteLength;for(let m=0;m<n;m++)h+=String.fromCharCode(a[m]);r[l]="data:image/png;base64,"+btoa(h)}const s=this;this.resourceLoader.load(this.getBundle(),r,l=>{l===null?(s.status=1,s.onComplete!==null&&s.onComplete(this,null)):this.onComplete!==null&&this.onComplete(null,l)})}}class Xe{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class we extends wt.Container{constructor(t,e=null,r=null){super(),this.liveFrame=[],this.colorMatrixFilterCache=[],this.parentAlpha=1,this.prevCellID=[],this.prevPartObject=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this.defaultColorFilter=new wt.ColorMatrixFilter,this._instancePos=new Float32Array(5),this._CoordinateGetDiagonalIntersectionVec2=new Float32Array(2),this.isRenderGroup=!0,this.ss6project=t,this.playerLib=new ce(t.fbObj,e,r),this.parentAlpha=1,e!==null&&r!==null&&this.Setup(e,r),this.on("added",(...s)=>{wt.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...s)=>{wt.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this._endFrame}get totalFrame(){return this.playerLib.animationData.totalFrames()}get fps(){return this.playerLib.animationData.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.playerLib.animePackName}get animeName(){return this.playerLib.animeName}Setup(t,e){this.playerLib.Setup(t,e),this.clearCaches();const r=this.playerLib.animePackData,s=r.partsLength();this.prevCellID=new Array(s),this.prevPartObject=new Array(s),this.substituteOverWrite=new Array(s),this.substituteKeyParam=new Array(s);for(let l=0;l<s;l++){const a=r.parts(l).index();this.prevCellID[a]=-1,this.prevPartObject[a]=null,this.substituteOverWrite[a]=null,this.substituteKeyParam[a]=null}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.playerLib.animationData.startFrames(),this._endFrame=this.playerLib.animationData.endFrames(),this._currentFrame=this.playerLib.animationData.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.playerLib.animationData.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.liveFrame=[],this.colorMatrixFilterCache=[]}Update(t){this.UpdateInternal(t.deltaMS)}UpdateInternal(t,e=!0){const r=t;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=r,this.nextFrameTime>=this.updateInterval){let l=!1;const a=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*a;let h=this.skipEnabled?a*this.playDirection:this.playDirection,n=this._currentFrame+h,m=Math.floor(n),c=n-m,_=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let g=m-_;g;g--){let v=_+1;if(v>this._endFrame)if(this._loops===-1)v=this._startFrame;else if(this._loops--,l=!0,this._loops===0){this._isPlaying=!1,v=e?this._startFrame:this._endFrame;break}else v=this._startFrame;_=v,this._isPlaying&&this.playerLib.HaveUserData(_)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(_))}if(this.playDirection<=-1)for(let g=_-m;g;g--){let v=_-1;if(v<this._startFrame)if(this._loops===-1)v=this._endFrame;else if(this._loops--,l=!0,this._loops===0){this._isPlaying=!1,v=e?this._endFrame:this._startFrame;break}else v=this._endFrame;_=v,this._isPlaying&&this.playerLib.HaveUserData(_)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(_))}this._currentFrame=_+c,l&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),a)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.playerLib.animationData.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,r=-1){t>=0&&t<this.playerLib.animationData.totalFrames()&&(this._startFrame=t),e>=0&&e<this.playerLib.animationData.totalFrames()&&(this._endFrame=e),r>0?this._loops=r:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const r=Math.floor(this._currentFrame);this.SetFrameAnimation(r),this.playerLib.HaveUserData(r)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.playerLib.GetUserData(r))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}GetPartsBlendMode(){const t=this.playerLib.animePackData,e=t.partsLength();let r=[];for(let s=0;s<e;s++){const l=t.parts(s).alphaBlendType();let a;switch(l){case 0:a="normal";break;case 1:a="multiply";break;case 2:a="add";break;case 3:a="subtract";break;case 4:a="multiply";break;case 5:a="screen";break;case 6:a="exclusion";break;case 7:a="normal";break;default:a="subtract";break}r.push(a)}return r}GetColorMatrixFilter(t,e,r){const s=t.toString()+"_"+e.toString()+"_"+r.toString();if(this.colorMatrixFilterCache[s])return this.colorMatrixFilterCache[s];const l=new wt.ColorMatrixFilter,a=((r&4278190080)>>>24)/255,h=((r&16711680)>>>16)/255,n=((r&65280)>>>8)/255,m=(r&255)/255;if(t===0){const c=1-e;l.matrix=[c,0,0,0,h*e,0,c,0,0,n*e,0,0,c,0,m*e,0,0,0,1,0]}else t===1?l.matrix=[h,0,0,0,0,0,n,0,0,0,0,0,m,0,0,0,0,0,a,0]:t===2?l.matrix=[1,0,0,0,h,0,1,0,0,n,0,0,1,0,m,0,0,0,a,0]:t===3&&(l.matrix=[1,0,0,0,-h,0,1,0,0,-n,0,0,1,0,-m,0,0,0,a,0]);return this.colorMatrixFilterCache[s]=l,l}SetFrameAnimation(t,e=0){const r=this.playerLib.GetFrameData(t);this.removeChildren();const s=r.length;for(let l=0;l<s;l=l+1|0){const a=this.playerLib.prio2index[l],h=r[a],n=h.cellIndex;let m=this.prevPartObject[a];const c=this.playerLib.animePackData.parts(a),_=c.type();let g=this.substituteOverWrite[a]!==null?this.substituteOverWrite[a]:!1,v=this.substituteKeyParam[a];switch(_){case It.Instance:m==null&&(m=this.MakeCellPlayer(c.refname()),m.label=c.name());break;case It.Normal:case It.Mask:n>=0&&this.prevCellID[a]!==n&&(m?.destroy(),m=this.MakeCellMesh(n),m.label=c.name());break;case It.Mesh:n>=0&&this.prevCellID[a]!==n&&(m?.destroy(),m=this.MakeMeshCellMesh(a,n),m.label=c.name());break;case It.Nulltype:case It.Joint:this.prevCellID[a]!==n&&(m?.destroy(),m=new wt.Container,m.label=c.name());break;default:n>=0&&this.prevCellID[a]!==n&&(m?.destroy(),m=this.MakeCellMesh(n),m.label=c.name());break}if(m!=null)switch(this.prevCellID[a]=n,this.prevPartObject[a]=m,_){case It.Instance:{const F=m;this._instancePos[0]=0,this._instancePos[1]=0,this._instancePos[2]=1,this._instancePos[3]=1,this._instancePos[4]=0,this._instancePos=this.playerLib.TransformPositionLocal(this._instancePos,h.index,t),F.rotation=this._instancePos[4]*Math.PI/180,F.position.set(this._instancePos[0],this._instancePos[1]),F.scale.set(this._instancePos[2],this._instancePos[3]);let C=h.opacity/255;h.localopacity<255&&(C=h.localopacity/255),F.SetAlpha(C*this.parentAlpha),F.visible=!h.f_hide;let o=h.instanceValue_curKeyframe,u=h.instanceValue_startFrame,p=h.instanceValue_endFrame,I=h.instanceValue_speed,P=h.instanceValue_loopNum,y=!1,w=!1,S=!1,E=!1;const N=1,D=2,B=4,R=8,j=h.instanceValue_loopflag;j&N&&(y=!0),j&D&&(w=!0),j&B&&(S=!0),j&R&&(E=!0),g&&(u=v.refStartframe,p=v.refEndframe,I=v.refSpeed,P=v.refloopNum,y=v.infinity,w=v.reverse,S=v.pingpong,E=v.independent),(F._startFrame!==u||F._endFrame!==p)&&F.SetAnimationSection(u,p);let Q=t;E===!0&&(this.liveFrame[l]+=e,Q=Math.floor(this.liveFrame[l]));const J=o;let G=Math.floor((Q-J)*I);if(G<0||J>Q)continue;const $=p-u+1;if($<=0)continue;let Z=Math.floor(G/$),tt=P;S&&(tt=tt*2),y||Z>=tt&&(G=$-1,Z=tt-1);const nt=Math.floor(G%$);let ht=0;S&&Z%2===1&&(w?w=!1:w=!0),this.playDirection<=-1&&(w=!w),w?ht=p-nt:ht=nt+u,F.SetFrame(Math.floor(ht)),this.addChild(F);break}case It.Normal:case It.Mesh:case It.Joint:case It.Mask:{const F=m,C=F.geometry.attributes.aPosition.buffer;let o=C.data;const u=this.playerLib.fbObj.cells(n);let p;if(_===It.Mesh?h.meshIsBind===0?p=this.playerLib.TransformMeshVertsLocal(ce.GetMeshVerts(u,h,o),h.index,t):p=ce.GetMeshVerts(u,h,o):(p=_===It.Joint?new Float32Array(10):o,p=this.playerLib.TransformVertsLocal(ce.GetVerts(u,h,p),h.index,t)),h.flag1&it.VERTEX_TRANSFORM){const S=p[6],E=p[3*2+1],N=p[1*2+0],D=p[1*2+1],B=p[4*2+0],R=p[4*2+1],j=p[2*2+0],Q=p[2*2+1],J=(S+B)*.5,G=(E+R)*.5,$=(S+N)*.5,Z=(E+D)*.5,tt=(N+j)*.5,nt=(D+Q)*.5,ht=(B+j)*.5,H=(R+Q)*.5,st=ce.CoordinateGetDiagonalIntersection(p[0],p[1],J,G,ht,H,$,Z,tt,nt,this._CoordinateGetDiagonalIntersectionVec2);p[0]=st[0],p[1]=st[1]}const I=p[0],P=p[1];for(let S=0;S<p.length/2;S++)p[S*2]-=I,p[S*2+1]-=P;if(o=p,C.update(),h.flag1&it.U_MOVE||h.flag1&it.V_MOVE||h.flag1&it.U_SCALE||h.flag1&it.V_SCALE||h.flag1&it.UV_ROTATION){const S=u.u1()+h.uv_move_X,E=u.u2()+h.uv_move_X,N=u.v1()+h.uv_move_Y,D=u.v2()+h.uv_move_Y,B=(E+S)/2,R=(D+N)/2,j=(E-S)/2*h.uv_scale_X,Q=(D-N)/2*h.uv_scale_Y,J=F.geometry.attributes.aUV.buffer;let G=F.geometry.uvs;if(G[0]=B,G[1]=R,G[2]=B-j,G[3]=R-Q,G[4]=B+j,G[5]=R-Q,G[6]=B-j,G[7]=R+Q,G[8]=B+j,G[9]=R+Q,h.flag1&it.UV_ROTATION){const $=h.uv_rotation*Math.PI/180;for(let Z=0;Z<5;Z++){const tt=G[Z*2+0]-B,nt=G[Z*2+1]-R,ht=Math.cos($),H=Math.sin($),st=ht*tt-H*nt,ft=H*tt+ht*nt;G[Z*2+0]=B+st,G[Z*2+1]=R+ft}}J.update()}F.position.set(I,P);let y=h.opacity/255;if(h.localopacity<255&&(y=h.localopacity/255),F.alpha=y*this.parentAlpha,F.visible=!h.f_hide,h.useColorMatrix){const S=this.GetColorMatrixFilter(h.colorBlendType,h.colorRate,h.colorArgb32);F.filters=[S]}if(h.tint){F.tint=h.tint;const S=((h.partsColorARGB&4278190080)>>>24)/255;F.alpha=F.alpha*S}const w=this.alphaBlendType[a];(w==="multiply"||w==="screen")&&(F.alpha=1),_!==It.Mask&&this.addChild(F);break}case It.Nulltype:{const F=m,C=this.playerLib.InheritOpacity(1,h.index,t);F.alpha=C*h.localopacity/255;const o=this.playerLib.TransformVerts(ce.GetDummyVerts(),h.index,t),u=o[0],p=o[1];F.position.set(u,p);const I=Math.atan2(o[5]-o[3],o[4]-o[2]),P=Math.atan2(o[7]-o[3],o[6]-o[2]);F.rotation=I,F.skew.x=P-I-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,r,s,l=null){let a=!1;if(this.animePackName!==null&&this.animeName!==null){let h=this.playerLib.animePackData,n=h.partsLength();for(let m=0;m<n;m++){let c=h.parts(m);if(c.name()===t){let _=this.prevPartObject[m];if(_===null||_ instanceof we){this.substituteOverWrite[m]=s;let g;l!==null?(g=l,_=this.MakeCellPlayer(e+"/"+r,l.refStartframe)):(_=this.MakeCellPlayer(e+"/"+r),g=new Xe,g.refStartframe=_.startFrame,g.refEndframe=_.endFrame),_.label=c.name(),this.prevPartObject[m]=_,this.substituteKeyParam[m]=g,a=!0;break}}}}return a}MakeCellMesh(t){const e=this.playerLib.fbObj.cells(t),r=e.u1(),s=e.u2(),l=e.v1(),a=e.v2(),h=e.width()/2,n=e.height()/2,m=new Float32Array([0,0,-h,-n,h,-n,-h,n,h,n]),c=new Float32Array([(r+s)/2,(l+a)/2,r,l,s,l,r,a,s,a]),_=new Uint32Array([0,1,2,0,2,4,0,4,3,0,1,3]),g=new wt.MeshGeometry({positions:m,uvs:c,indices:_,topology:"triangle-list"});return new wt.Mesh({geometry:g,texture:this.ss6project.getTexture(e.cellMap().name())})}MakeMeshCellMesh(t,e){const r=this.playerLib.animationData.meshsDataUv(t),s=r.uvLength();if(s>0){const l=new Float32Array(s-2),a=r.uv(1);for(let g=2;g<s;g++)l[g-2]=r.uv(g);const h=this.playerLib.animationData.meshsDataIndices(t),n=h.indicesLength(),m=new Uint32Array(n-1);for(let g=1;g<n;g++)m[g-1]=h.indices(g);const c=new Float32Array(a*2),_=new wt.MeshGeometry({positions:c,uvs:l,indices:m,topology:"triangle-list"});return new wt.Mesh({geometry:_,texture:this.ss6project.getTexture(this.playerLib.fbObj.cells(e).cellMap().name())})}return null}MakeCellPlayer(t,e=void 0){const r=t.split("/"),s=new we(this.ss6project);return s.Setup(r[0],r[1]),s.Play(e),s}resetLiveFrame(){const t=this.playerLib.animationData.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class We extends we{constructor(t){super(t.projectData),this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let r=this;this.playEndCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.playEndCallback&&r.ssWebPlayer.playEndCallback(r)},this.onUserDataCallback=s=>{r.ssWebPlayer&&r.ssWebPlayer.onUpdateCallback&&r.ssWebPlayer.onUpdateCallback(r)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.playerLib.animationData;let e={};const r=t.userDataLength();for(let s=0;s<r;s++){const a=t.userData(s).frameIndex();let h=e[a];h==null&&(h={});const n=this.playerLib.GetUserData(a);let m={};const c=n.length;for(let _=0;_<c;_++){const g=n[_],v=g[0],C=this.playerLib.animePackData.parts(v).name();g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9];const o=g[10];m[C]={string:o}}h.userData=m,e[a]=h}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t.deltaMS,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(L){return L&&L.__esModule&&Object.prototype.hasOwnProperty.call(L,"default")?L.default:L}function ke(L){throw new Error('Could not dynamically require "'+L+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Re={exports:{}};/*!

  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  */(function(L,t){(function(e){L.exports=e()})(function(){return function e(r,s,l){function a(m,c){if(!s[m]){if(!r[m]){var _=typeof ke=="function"&&ke;if(!c&&_)return _(m,!0);if(h)return h(m,!0);var g=new Error("Cannot find module '"+m+"'");throw g.code="MODULE_NOT_FOUND",g}var v=s[m]={exports:{}};r[m][0].call(v.exports,function(F){var C=r[m][1][F];return a(C||F)},v,v.exports,e,r,s,l)}return s[m].exports}for(var h=typeof ke=="function"&&ke,n=0;n<l.length;n++)a(l[n]);return a}({1:[function(e,r,s){var l=e("./utils"),a=e("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(n){for(var m=[],c,_,g,v,F,C,o,u=0,p=n.length,I=p,P=l.getTypeOf(n)!=="string";u<n.length;)I=p-u,P?(c=n[u++],_=u<p?n[u++]:0,g=u<p?n[u++]:0):(c=n.charCodeAt(u++),_=u<p?n.charCodeAt(u++):0,g=u<p?n.charCodeAt(u++):0),v=c>>2,F=(c&3)<<4|_>>4,C=I>1?(_&15)<<2|g>>6:64,o=I>2?g&63:64,m.push(h.charAt(v)+h.charAt(F)+h.charAt(C)+h.charAt(o));return m.join("")},s.decode=function(n){var m,c,_,g,v,F,C,o=0,u=0,p="data:";if(n.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");n=n.replace(/[^A-Za-z0-9+/=]/g,"");var I=n.length*3/4;if(n.charAt(n.length-1)===h.charAt(64)&&I--,n.charAt(n.length-2)===h.charAt(64)&&I--,I%1!==0)throw new Error("Invalid base64 input, bad content length.");var P;for(a.uint8array?P=new Uint8Array(I|0):P=new Array(I|0);o<n.length;)g=h.indexOf(n.charAt(o++)),v=h.indexOf(n.charAt(o++)),F=h.indexOf(n.charAt(o++)),C=h.indexOf(n.charAt(o++)),m=g<<2|v>>4,c=(v&15)<<4|F>>2,_=(F&3)<<6|C,P[u++]=m,F!==64&&(P[u++]=c),C!==64&&(P[u++]=_);return P}},{"./support":30,"./utils":32}],2:[function(e,r,s){var l=e("./external"),a=e("./stream/DataWorker"),h=e("./stream/Crc32Probe"),n=e("./stream/DataLengthProbe");function m(c,_,g,v,F){this.compressedSize=c,this.uncompressedSize=_,this.crc32=g,this.compression=v,this.compressedContent=F}m.prototype={getContentWorker:function(){var c=new a(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new n("data_length")),_=this;return c.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(c,_,g){return c.pipe(new h).pipe(new n("uncompressedSize")).pipe(_.compressWorker(g)).pipe(new n("compressedSize")).withStreamInfo("compression",_)},r.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,s){var l=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,s){var l=e("./utils");function a(){for(var c,_=[],g=0;g<256;g++){c=g;for(var v=0;v<8;v++)c=c&1?3988292384^c>>>1:c>>>1;_[g]=c}return _}var h=a();function n(c,_,g,v){var F=h,C=v+g;c=c^-1;for(var o=v;o<C;o++)c=c>>>8^F[(c^_[o])&255];return c^-1}function m(c,_,g,v){var F=h,C=v+g;c=c^-1;for(var o=v;o<C;o++)c=c>>>8^F[(c^_.charCodeAt(o))&255];return c^-1}r.exports=function(_,g){if(typeof _>"u"||!_.length)return 0;var v=l.getTypeOf(_)!=="string";return v?n(g|0,_,_.length,0):m(g|0,_,_.length,0)}},{"./utils":32}],5:[function(e,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,r,s){var l=null;typeof Promise<"u"?l=Promise:l=e("lie"),r.exports={Promise:l}},{lie:37}],7:[function(e,r,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=e("pako"),h=e("./utils"),n=e("./stream/GenericWorker"),m=l?"uint8array":"array";s.magic="\b\0";function c(_,g){n.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=g,this.meta={}}h.inherits(c,n),c.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(m,_.data),!1)},c.prototype.flush=function(){n.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(g){_.push({data:g,meta:_.meta})}},s.compressWorker=function(_){return new c("Deflate",_)},s.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,s){var l=e("../utils"),a=e("../stream/GenericWorker"),h=e("../utf8"),n=e("../crc32"),m=e("../signature"),c=function(u,p){var I="",P;for(P=0;P<p;P++)I+=String.fromCharCode(u&255),u=u>>>8;return I},_=function(u,p){var I=u;return u||(I=p?16893:33204),(I&65535)<<16},g=function(u){return(u||0)&63},v=function(u,p,I,P,y,w){var S=u.file,E=u.compression,N=w!==h.utf8encode,D=l.transformTo("string",w(S.name)),B=l.transformTo("string",h.utf8encode(S.name)),R=S.comment,j=l.transformTo("string",w(R)),Q=l.transformTo("string",h.utf8encode(R)),J=B.length!==S.name.length,G=Q.length!==R.length,$,Z,tt="",nt="",ht="",H=S.dir,st=S.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};(!p||I)&&(ft.crc32=u.crc32,ft.compressedSize=u.compressedSize,ft.uncompressedSize=u.uncompressedSize);var Dt=0;p&&(Dt|=8),!N&&(J||G)&&(Dt|=2048);var kt=0,vt=0;H&&(kt|=16),y==="UNIX"?(vt=798,kt|=_(S.unixPermissions,H)):(vt=20,kt|=g(S.dosPermissions)),$=st.getUTCHours(),$=$<<6,$=$|st.getUTCMinutes(),$=$<<5,$=$|st.getUTCSeconds()/2,Z=st.getUTCFullYear()-1980,Z=Z<<4,Z=Z|st.getUTCMonth()+1,Z=Z<<5,Z=Z|st.getUTCDate(),J&&(nt=c(1,1)+c(n(D),4)+B,tt+="up"+c(nt.length,2)+nt),G&&(ht=c(1,1)+c(n(j),4)+Q,tt+="uc"+c(ht.length,2)+ht);var at="";at+=`
\0`,at+=c(Dt,2),at+=E.magic,at+=c($,2),at+=c(Z,2),at+=c(ft.crc32,4),at+=c(ft.compressedSize,4),at+=c(ft.uncompressedSize,4),at+=c(D.length,2),at+=c(tt.length,2);var St=m.LOCAL_FILE_HEADER+at+D+tt,gt=m.CENTRAL_FILE_HEADER+c(vt,2)+at+c(j.length,2)+"\0\0\0\0"+c(kt,4)+c(P,4)+D+tt+j;return{fileRecord:St,dirRecord:gt}},F=function(u,p,I,P,y){var w="",S=l.transformTo("string",y(P));return w=m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(u,2)+c(u,2)+c(p,4)+c(I,4)+c(S.length,2)+S,w},C=function(u){var p="";return p=m.DATA_DESCRIPTOR+c(u.crc32,4)+c(u.compressedSize,4)+c(u.uncompressedSize,4),p};function o(u,p,I,P){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=I,this.encodeFileName=P,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(o,a),o.prototype.push=function(u){var p=u.meta.percent||0,I=this.entriesCount,P=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,a.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:I?(p+100*(I-P-1))/I:100}}))},o.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var p=this.streamFiles&&!u.file.dir;if(p){var I=v(u,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:I.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(u){this.accumulate=!1;var p=this.streamFiles&&!u.file.dir,I=v(u,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(I.dirRecord),p)this.push({data:C(u),meta:{percent:100}});else for(this.push({data:I.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var u=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var I=this.bytesWritten-u,P=F(this.dirRecords.length,I,u,this.zipComment,this.encodeFileName);this.push({data:P,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(u){this._sources.push(u);var p=this;return u.on("data",function(I){p.processChunk(I)}),u.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),u.on("error",function(I){p.error(I)}),this},o.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},o.prototype.error=function(u){var p=this._sources;if(!a.prototype.error.call(this,u))return!1;for(var I=0;I<p.length;I++)try{p[I].error(u)}catch{}return!0},o.prototype.lock=function(){a.prototype.lock.call(this);for(var u=this._sources,p=0;p<u.length;p++)u[p].lock()},r.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,s){var l=e("../compressions"),a=e("./ZipFileWorker"),h=function(n,m){var c=n||m,_=l[c];if(!_)throw new Error(c+" is not a valid compression method !");return _};s.generateWorker=function(n,m,c){var _=new a(m.streamFiles,c,m.platform,m.encodeFileName),g=0;try{n.forEach(function(v,F){g++;var C=h(F.options.compression,m.compression),o=F.options.compressionOptions||m.compressionOptions||{},u=F.dir,p=F.date;F._compressWorker(C,o).withStreamInfo("file",{name:v,dir:u,date:p,comment:F.comment||"",unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions}).pipe(_)}),_.entriesCount=g}catch(v){_.error(v)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,s){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new l;for(var h in this)typeof this[h]!="function"&&(a[h]=this[h]);return a}}l.prototype=e("./object"),l.prototype.loadAsync=e("./load"),l.support=e("./support"),l.defaults=e("./defaults"),l.version="3.10.1",l.loadAsync=function(a,h){return new l().loadAsync(a,h)},l.external=e("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,s){var l=e("./utils"),a=e("./external"),h=e("./utf8"),n=e("./zipEntries"),m=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function _(g){return new a.Promise(function(v,F){var C=g.decompressed.getContentWorker().pipe(new m);C.on("error",function(o){F(o)}).on("end",function(){C.streamInfo.crc32!==g.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(g,v){var F=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),c.isNode&&c.isStream(g)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",g,!0,v.optimizedBinaryString,v.base64).then(function(C){var o=new n(v);return o.load(C),o}).then(function(o){var u=[a.Promise.resolve(o)],p=o.files;if(v.checkCRC32)for(var I=0;I<p.length;I++)u.push(_(p[I]));return a.Promise.all(u)}).then(function(o){for(var u=o.shift(),p=u.files,I=0;I<p.length;I++){var P=p[I],y=P.fileNameStr,w=l.resolve(P.fileNameStr);F.file(w,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:v.createFolders}),P.dir||(F.file(w).unsafeOriginalName=y)}return u.zipComment.length&&(F.comment=u.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,s){var l=e("../utils"),a=e("../stream/GenericWorker");function h(n,m){a.call(this,"Nodejs stream input adapter for "+n),this._upstreamEnded=!1,this._bindStream(m)}l.inherits(h,a),h.prototype._bindStream=function(n){var m=this;this._stream=n,n.pause(),n.on("data",function(c){m.push({data:c,meta:{percent:0}})}).on("error",function(c){m.isPaused?this.generatedError=c:m.error(c)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},h.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},h.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},r.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,s){var l=e("readable-stream").Readable,a=e("../utils");a.inherits(h,l);function h(n,m,c){l.call(this,m),this._helper=n;var _=this;n.on("data",function(g,v){_.push(g)||_._helper.pause(),c&&c(v)}).on("error",function(g){_.emit("error",g)}).on("end",function(){_.push(null)})}h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(e,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,a);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,a)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var a=new Buffer(l);return a.fill(0),a},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(e,r,s){var l=e("./utf8"),a=e("./utils"),h=e("./stream/GenericWorker"),n=e("./stream/StreamHelper"),m=e("./defaults"),c=e("./compressedObject"),_=e("./zipObject"),g=e("./generate"),v=e("./nodejsUtils"),F=e("./nodejs/NodejsStreamInputAdapter"),C=function(y,w,S){var E=a.getTypeOf(w),N,D=a.extend(S||{},m);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&D.unixPermissions&16384&&(D.dir=!0),D.dosPermissions&&D.dosPermissions&16&&(D.dir=!0),D.dir&&(y=u(y)),D.createFolders&&(N=o(y))&&p.call(this,N,!0);var B=E==="string"&&D.binary===!1&&D.base64===!1;(!S||typeof S.binary>"u")&&(D.binary=!B);var R=w instanceof c&&w.uncompressedSize===0;(R||D.dir||!w||w.length===0)&&(D.base64=!1,D.binary=!0,w="",D.compression="STORE",E="string");var j=null;w instanceof c||w instanceof h?j=w:v.isNode&&v.isStream(w)?j=new F(y,w):j=a.prepareContent(y,w,D.binary,D.optimizedBinaryString,D.base64);var Q=new _(y,j,D);this.files[y]=Q},o=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var w=y.lastIndexOf("/");return w>0?y.substring(0,w):""},u=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},p=function(y,w){return w=typeof w<"u"?w:m.createFolders,y=u(y),this.files[y]||C.call(this,y,null,{dir:!0,createFolders:w}),this.files[y]};function I(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var w,S,E;for(w in this.files)E=this.files[w],S=w.slice(this.root.length,w.length),S&&w.slice(0,this.root.length)===this.root&&y(S,E)},filter:function(y){var w=[];return this.forEach(function(S,E){y(S,E)&&w.push(E)}),w},file:function(y,w,S){if(arguments.length===1)if(I(y)){var E=y;return this.filter(function(D,B){return!B.dir&&E.test(D)})}else{var N=this.files[this.root+y];return N&&!N.dir?N:null}else y=this.root+y,C.call(this,y,w,S);return this},folder:function(y){if(!y)return this;if(I(y))return this.filter(function(N,D){return D.dir&&y.test(N)});var w=this.root+y,S=p.call(this,w),E=this.clone();return E.root=S.name,E},remove:function(y){y=this.root+y;var w=this.files[y];if(w||(y.slice(-1)!=="/"&&(y+="/"),w=this.files[y]),w&&!w.dir)delete this.files[y];else for(var S=this.filter(function(N,D){return D.name.slice(0,y.length)===y}),E=0;E<S.length;E++)delete this.files[S[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var w,S={};try{if(S=a.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode}),S.type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");a.checkSupport(S.type),(S.platform==="darwin"||S.platform==="freebsd"||S.platform==="linux"||S.platform==="sunos")&&(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var E=S.comment||this.comment||"";w=g.generateWorker(this,S,E)}catch(N){w=new h("error"),w.error(N)}return new n(w,S.type||"string",S.mimeType)},generateAsync:function(y,w){return this.generateInternalStream(y).accumulate(w)},generateNodeStream:function(y,w){return y=y||{},y.type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(w)}};r.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,s){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,s){var l=e("./DataReader"),a=e("../utils");function h(n){l.call(this,n);for(var m=0;m<this.data.length;m++)n[m]=n[m]&255}a.inherits(h,l),h.prototype.byteAt=function(n){return this.data[this.zero+n]},h.prototype.lastIndexOfSignature=function(n){for(var m=n.charCodeAt(0),c=n.charCodeAt(1),_=n.charCodeAt(2),g=n.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===m&&this.data[v+1]===c&&this.data[v+2]===_&&this.data[v+3]===g)return v-this.zero;return-1},h.prototype.readAndCheckSignature=function(n){var m=n.charCodeAt(0),c=n.charCodeAt(1),_=n.charCodeAt(2),g=n.charCodeAt(3),v=this.readData(4);return m===v[0]&&c===v[1]&&_===v[2]&&g===v[3]},h.prototype.readData=function(n){if(this.checkOffset(n),n===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(e,r,s){var l=e("../utils");function a(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var n=0,m;for(this.checkOffset(h),m=this.index+h-1;m>=this.index;m--)n=(n<<8)+this.byteAt(m);return this.index+=h,n},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC((h>>25&127)+1980,(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(h&31)<<1))}},r.exports=a},{"../utils":32}],19:[function(e,r,s){var l=e("./Uint8ArrayReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.readData=function(n){this.checkOffset(n);var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,s){var l=e("./DataReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.byteAt=function(n){return this.data.charCodeAt(this.zero+n)},h.prototype.lastIndexOfSignature=function(n){return this.data.lastIndexOf(n)-this.zero},h.prototype.readAndCheckSignature=function(n){var m=this.readData(4);return n===m},h.prototype.readData=function(n){this.checkOffset(n);var m=this.data.slice(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(e,r,s){var l=e("./ArrayReader"),a=e("../utils");function h(n){l.call(this,n)}a.inherits(h,l),h.prototype.readData=function(n){if(this.checkOffset(n),n===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+n);return this.index+=n,m},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,s){var l=e("../utils"),a=e("../support"),h=e("./ArrayReader"),n=e("./StringReader"),m=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");r.exports=function(_){var g=l.getTypeOf(_);return l.checkSupport(g),g==="string"&&!a.uint8array?new n(_):g==="nodebuffer"?new m(_):a.uint8array?new c(l.transformTo("uint8array",_)):new h(l.transformTo("array",_))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,s){var l=e("./GenericWorker"),a=e("../utils");function h(n){l.call(this,"ConvertWorker to "+n),this.destType=n}a.inherits(h,l),h.prototype.processChunk=function(n){this.push({data:a.transformTo(this.destType,n.data),meta:n.meta})},r.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,s){var l=e("./GenericWorker"),a=e("../crc32"),h=e("../utils");function n(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}h.inherits(n,l),n.prototype.processChunk=function(m){this.streamInfo.crc32=a(m.data,this.streamInfo.crc32||0),this.push(m)},r.exports=n},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,s){var l=e("../utils"),a=e("./GenericWorker");function h(n){a.call(this,"DataLengthProbe for "+n),this.propName=n,this.withStreamInfo(n,0)}l.inherits(h,a),h.prototype.processChunk=function(n){if(n){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+n.data.length}a.prototype.processChunk.call(this,n)},r.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,s){var l=e("../utils"),a=e("./GenericWorker"),h=16*1024;function n(m){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(_){c.dataIsReady=!0,c.data=_,c.max=_&&_.length||0,c.type=l.getTypeOf(_),c.isPaused||c._tickAndRepeat()},function(_){c.error(_)})}l.inherits(n,a),n.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},n.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0):!1},n.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},n.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=h,c=null,_=Math.min(this.max,this.index+m);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,_);break;case"uint8array":c=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":c=this.data.slice(this.index,_);break}return this.index=_,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=n},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,s){function l(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,h){return this._listeners[a].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,h){if(this._listeners[a])for(var n=0;n<this._listeners[a].length;n++)this._listeners[a][n].call(this,h)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var h=this;return a.on("data",function(n){h.processChunk(n)}),a.on("end",function(){h.end()}),a.on("error",function(n){h.error(n)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,h){return this.extraStreamInfo[a]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=l},{}],29:[function(e,r,s){var l=e("../utils"),a=e("./ConvertWorker"),h=e("./GenericWorker"),n=e("../base64"),m=e("../support"),c=e("../external"),_=null;if(m.nodestream)try{_=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(o,u,p){switch(o){case"blob":return l.newBlob(l.transformTo("arraybuffer",u),p);case"base64":return n.encode(u);default:return l.transformTo(o,u)}}function v(o,u){var p,I=0,P=null,y=0;for(p=0;p<u.length;p++)y+=u[p].length;switch(o){case"string":return u.join("");case"array":return Array.prototype.concat.apply([],u);case"uint8array":for(P=new Uint8Array(y),p=0;p<u.length;p++)P.set(u[p],I),I+=u[p].length;return P;case"nodebuffer":return Buffer.concat(u);default:throw new Error("concat : unsupported type '"+o+"'")}}function F(o,u){return new c.Promise(function(p,I){var P=[],y=o._internalType,w=o._outputType,S=o._mimeType;o.on("data",function(E,N){P.push(E),u&&u(N)}).on("error",function(E){P=[],I(E)}).on("end",function(){try{var E=g(w,v(y,P),S);p(E)}catch(N){I(N)}P=[]}).resume()})}function C(o,u,p){var I=u;switch(u){case"blob":case"arraybuffer":I="uint8array";break;case"base64":I="string";break}try{this._internalType=I,this._outputType=u,this._mimeType=p,l.checkSupport(I),this._worker=o.pipe(new a(I)),o.lock()}catch(P){this._worker=new h("error"),this._worker.error(P)}}C.prototype={accumulate:function(o){return F(this,o)},on:function(o,u){var p=this;return o==="data"?this._worker.on(o,function(I){u.call(p,I.data,I.meta)}):this._worker.on(o,function(){l.delay(u,arguments,p)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(o){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},o)}},r.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var l=new ArrayBuffer(0);try{s.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,h=new a;h.append(l),s.blob=h.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,s){for(var l=e("./utils"),a=e("./support"),h=e("./nodejsUtils"),n=e("./stream/GenericWorker"),m=new Array(256),c=0;c<256;c++)m[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;m[254]=m[254]=1;var _=function(o){var u,p,I,P,y,w=o.length,S=0;for(P=0;P<w;P++)p=o.charCodeAt(P),(p&64512)===55296&&P+1<w&&(I=o.charCodeAt(P+1),(I&64512)===56320&&(p=65536+(p-55296<<10)+(I-56320),P++)),S+=p<128?1:p<2048?2:p<65536?3:4;for(a.uint8array?u=new Uint8Array(S):u=new Array(S),y=0,P=0;y<S;P++)p=o.charCodeAt(P),(p&64512)===55296&&P+1<w&&(I=o.charCodeAt(P+1),(I&64512)===56320&&(p=65536+(p-55296<<10)+(I-56320),P++)),p<128?u[y++]=p:p<2048?(u[y++]=192|p>>>6,u[y++]=128|p&63):p<65536?(u[y++]=224|p>>>12,u[y++]=128|p>>>6&63,u[y++]=128|p&63):(u[y++]=240|p>>>18,u[y++]=128|p>>>12&63,u[y++]=128|p>>>6&63,u[y++]=128|p&63);return u},g=function(o,u){var p;for(u=u||o.length,u>o.length&&(u=o.length),p=u-1;p>=0&&(o[p]&192)===128;)p--;return p<0||p===0?u:p+m[o[p]]>u?p:u},v=function(o){var u,p,I,P,y=o.length,w=new Array(y*2);for(p=0,u=0;u<y;){if(I=o[u++],I<128){w[p++]=I;continue}if(P=m[I],P>4){w[p++]=65533,u+=P-1;continue}for(I&=P===2?31:P===3?15:7;P>1&&u<y;)I=I<<6|o[u++]&63,P--;if(P>1){w[p++]=65533;continue}I<65536?w[p++]=I:(I-=65536,w[p++]=55296|I>>10&1023,w[p++]=56320|I&1023)}return w.length!==p&&(w.subarray?w=w.subarray(0,p):w.length=p),l.applyFromCharCode(w)};s.utf8encode=function(u){return a.nodebuffer?h.newBufferFrom(u,"utf-8"):_(u)},s.utf8decode=function(u){return a.nodebuffer?l.transformTo("nodebuffer",u).toString("utf-8"):(u=l.transformTo(a.uint8array?"uint8array":"array",u),v(u))};function F(){n.call(this,"utf-8 decode"),this.leftOver=null}l.inherits(F,n),F.prototype.processChunk=function(o){var u=l.transformTo(a.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var p=u;u=new Uint8Array(p.length+this.leftOver.length),u.set(this.leftOver,0),u.set(p,this.leftOver.length)}else u=this.leftOver.concat(u);this.leftOver=null}var I=g(u),P=u;I!==u.length&&(a.uint8array?(P=u.subarray(0,I),this.leftOver=u.subarray(I,u.length)):(P=u.slice(0,I),this.leftOver=u.slice(I,u.length))),this.push({data:s.utf8decode(P),meta:o.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=F;function C(){n.call(this,"utf-8 encode")}l.inherits(C,n),C.prototype.processChunk=function(o){this.push({data:s.utf8encode(o.data),meta:o.meta})},s.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,s){var l=e("./support"),a=e("./base64"),h=e("./nodejsUtils"),n=e("./external");e("setimmediate");function m(o){var u=null;return l.uint8array?u=new Uint8Array(o.length):u=new Array(o.length),_(o,u)}s.newBlob=function(o,u){s.checkSupport("blob");try{return new Blob([o],{type:u})}catch{try{var p=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,I=new p;return I.append(o),I.getBlob(u)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(o){return o}function _(o,u){for(var p=0;p<o.length;++p)u[p]=o.charCodeAt(p)&255;return u}var g={stringifyByChunk:function(o,u,p){var I=[],P=0,y=o.length;if(y<=p)return String.fromCharCode.apply(null,o);for(;P<y;)u==="array"||u==="nodebuffer"?I.push(String.fromCharCode.apply(null,o.slice(P,Math.min(P+p,y)))):I.push(String.fromCharCode.apply(null,o.subarray(P,Math.min(P+p,y)))),P+=p;return I.join("")},stringifyByChar:function(o){for(var u="",p=0;p<o.length;p++)u+=String.fromCharCode(o[p]);return u},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function v(o){var u=65536,p=s.getTypeOf(o),I=!0;if(p==="uint8array"?I=g.applyCanBeUsed.uint8array:p==="nodebuffer"&&(I=g.applyCanBeUsed.nodebuffer),I)for(;u>1;)try{return g.stringifyByChunk(o,p,u)}catch{u=Math.floor(u/2)}return g.stringifyByChar(o)}s.applyFromCharCode=v;function F(o,u){for(var p=0;p<o.length;p++)u[p]=o[p];return u}var C={};C.string={string:c,array:function(o){return _(o,new Array(o.length))},arraybuffer:function(o){return C.string.uint8array(o).buffer},uint8array:function(o){return _(o,new Uint8Array(o.length))},nodebuffer:function(o){return _(o,h.allocBuffer(o.length))}},C.array={string:v,array:c,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return h.newBufferFrom(o)}},C.arraybuffer={string:function(o){return v(new Uint8Array(o))},array:function(o){return F(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:c,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return h.newBufferFrom(new Uint8Array(o))}},C.uint8array={string:v,array:function(o){return F(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:c,nodebuffer:function(o){return h.newBufferFrom(o)}},C.nodebuffer={string:v,array:function(o){return F(o,new Array(o.length))},arraybuffer:function(o){return C.nodebuffer.uint8array(o).buffer},uint8array:function(o){return F(o,new Uint8Array(o.length))},nodebuffer:c},s.transformTo=function(o,u){if(u||(u=""),!o)return u;s.checkSupport(o);var p=s.getTypeOf(u),I=C[p][o](u);return I},s.resolve=function(o){for(var u=o.split("/"),p=[],I=0;I<u.length;I++){var P=u[I];P==="."||P===""&&I!==0&&I!==u.length-1||(P===".."?p.pop():p.push(P))}return p.join("/")},s.getTypeOf=function(o){if(typeof o=="string")return"string";if(Object.prototype.toString.call(o)==="[object Array]")return"array";if(l.nodebuffer&&h.isBuffer(o))return"nodebuffer";if(l.uint8array&&o instanceof Uint8Array)return"uint8array";if(l.arraybuffer&&o instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(o){var u=l[o.toLowerCase()];if(!u)throw new Error(o+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(o){var u="",p,I;for(I=0;I<(o||"").length;I++)p=o.charCodeAt(I),u+="\\x"+(p<16?"0":"")+p.toString(16).toUpperCase();return u},s.delay=function(o,u,p){setImmediate(function(){o.apply(p||null,u||[])})},s.inherits=function(o,u){var p=function(){};p.prototype=u.prototype,o.prototype=new p},s.extend=function(){var o={},u,p;for(u=0;u<arguments.length;u++)for(p in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],p)&&typeof o[p]>"u"&&(o[p]=arguments[u][p]);return o},s.prepareContent=function(o,u,p,I,P){var y=n.Promise.resolve(u).then(function(w){var S=l.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1);return S&&typeof FileReader<"u"?new n.Promise(function(E,N){var D=new FileReader;D.onload=function(B){E(B.target.result)},D.onerror=function(B){N(B.target.error)},D.readAsArrayBuffer(w)}):w});return y.then(function(w){var S=s.getTypeOf(w);return S?(S==="arraybuffer"?w=s.transformTo("uint8array",w):S==="string"&&(P?w=a.decode(w):p&&I!==!0&&(w=m(w))),w):n.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,s){var l=e("./reader/readerFor"),a=e("./utils"),h=e("./signature"),n=e("./zipEntry"),m=e("./support");function c(_){this.files=[],this.loadOptions=_}c.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(g)+", expected "+a.pretty(_)+")")}},isSignature:function(_,g){var v=this.reader.index;this.reader.setIndex(_);var F=this.reader.readString(4),C=F===g;return this.reader.setIndex(v),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),g=m.uint8array?"uint8array":"array",v=a.transformTo(g,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _=this.zip64EndOfCentralSize-44,g=0,v,F,C;g<_;)v=this.reader.readInt(2),F=this.reader.readInt(4),C=this.reader.readData(F),this.zip64ExtensibleData[v]={id:v,length:F,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,g;for(_=0;_<this.files.length;_++)g=this.files[_],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)_=new n({zip64:this.zip64},this.loadOptions),_.readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(_<0){var g=!this.isSignature(0,h.LOCAL_FILE_HEADER);throw g?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(_);var v=_;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,_=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),_<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var F=this.centralDirOffset+this.centralDirSize;this.zip64&&(F+=20,F+=12+this.zip64EndOfCentralSize);var C=v-F;if(C>0)this.isSignature(v,h.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,s){var l=e("./reader/readerFor"),a=e("./utils"),h=e("./compressedObject"),n=e("./crc32"),m=e("./utf8"),c=e("./compressions"),_=e("./support"),g=0,v=3,F=function(o){for(var u in c)if(Object.prototype.hasOwnProperty.call(c,u)&&c[u].magic===o)return c[u];return null};function C(o,u){this.options=o,this.loadOptions=u}C.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(o){var u,p;if(o.skip(22),this.fileNameLength=o.readInt(2),p=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(u=F(this.compressionMethod),u===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,u,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var u=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(u),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),o===g&&(this.dosPermissions=this.externalFileAttributes&63),o===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=l(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var u=o.index+this.extraFieldsLength,p,I,P;for(this.extraFields||(this.extraFields={});o.index+4<u;)p=o.readInt(2),I=o.readInt(2),P=o.readData(I),this.extraFields[p]={id:p,length:I,value:P};o.setIndex(u)},handleUTF8:function(){var o=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var u=this.findExtraFieldUnicodePath();if(u!==null)this.fileNameStr=u;else{var p=a.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var P=a.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(P)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var u=l(o.value);return u.readInt(1)!==1||n(this.fileName)!==u.readInt(4)?null:m.utf8decode(u.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var u=l(o.value);return u.readInt(1)!==1||n(this.fileComment)!==u.readInt(4)?null:m.utf8decode(u.readData(o.length-5))}return null}},r.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,s){var l=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),h=e("./utf8"),n=e("./compressedObject"),m=e("./stream/GenericWorker"),c=function(F,C,o){this.name=F,this.dir=o.dir,this.date=o.date,this.comment=o.comment,this.unixPermissions=o.unixPermissions,this.dosPermissions=o.dosPermissions,this._data=C,this._dataBinary=o.binary,this.options={compression:o.compression,compressionOptions:o.compressionOptions}};c.prototype={internalStream:function(F){var C=null,o="string";try{if(!F)throw new Error("No output type specified.");o=F.toLowerCase();var u=o==="string"||o==="text";(o==="binarystring"||o==="text")&&(o="string"),C=this._decompressWorker();var p=!this._dataBinary;p&&!u&&(C=C.pipe(new h.Utf8EncodeWorker)),!p&&u&&(C=C.pipe(new h.Utf8DecodeWorker))}catch(I){C=new m("error"),C.error(I)}return new l(C,o,"")},async:function(F,C){return this.internalStream(F).accumulate(C)},nodeStream:function(F,C){return this.internalStream(F||"nodebuffer").toNodejsStream(C)},_compressWorker:function(F,C){if(this._data instanceof n&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var o=this._decompressWorker();return this._dataBinary||(o=o.pipe(new h.Utf8EncodeWorker)),n.createWorkerFrom(o,F,C)},_decompressWorker:function(){return this._data instanceof n?this._data.getContentWorker():this._data instanceof m?this._data:new a(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)c.prototype[_[v]]=g;r.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,s){(function(l){var a=l.MutationObserver||l.WebKitMutationObserver,h;if(a){var n=0,m=new a(F),c=l.document.createTextNode("");m.observe(c,{characterData:!0}),h=function(){c.data=n=++n%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var _=new l.MessageChannel;_.port1.onmessage=F,h=function(){_.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?h=function(){var o=l.document.createElement("script");o.onreadystatechange=function(){F(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},l.document.documentElement.appendChild(o)}:h=function(){setTimeout(F,0)};var g,v=[];function F(){g=!0;for(var o,u,p=v.length;p;){for(u=v,v=[],o=-1;++o<p;)u[o]();p=v.length}g=!1}r.exports=C;function C(o){v.push(o)===1&&!g&&h()}}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,s){var l=e("immediate");function a(){}var h={},n=["REJECTED"],m=["FULFILLED"],c=["PENDING"];r.exports=_;function _(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,y!==a&&C(this,y)}_.prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(S,E);function S(N){function D(){return N}return w.resolve(y()).then(D)}function E(N){function D(){throw N}return w.resolve(y()).then(D)}},_.prototype.catch=function(y){return this.then(null,y)},_.prototype.then=function(y,w){if(typeof y!="function"&&this.state===m||typeof w!="function"&&this.state===n)return this;var S=new this.constructor(a);if(this.state!==c){var E=this.state===m?y:w;v(S,E,this.outcome)}else this.queue.push(new g(S,y,w));return S};function g(y,w,S){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(y){h.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){v(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){h.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){v(this.promise,this.onRejected,y)};function v(y,w,S){l(function(){var E;try{E=w(S)}catch(N){return h.reject(y,N)}E===y?h.reject(y,new TypeError("Cannot resolve promise with itself")):h.resolve(y,E)})}h.resolve=function(y,w){var S=o(F,w);if(S.status==="error")return h.reject(y,S.value);var E=S.value;if(E)C(y,E);else{y.state=m,y.outcome=w;for(var N=-1,D=y.queue.length;++N<D;)y.queue[N].callFulfilled(w)}return y},h.reject=function(y,w){y.state=n,y.outcome=w;for(var S=-1,E=y.queue.length;++S<E;)y.queue[S].callRejected(w);return y};function F(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function C(y,w){var S=!1;function E(R){S||(S=!0,h.reject(y,R))}function N(R){S||(S=!0,h.resolve(y,R))}function D(){w(N,E)}var B=o(D);B.status==="error"&&E(B.value)}function o(y,w){var S={};try{S.value=y(w),S.status="success"}catch(E){S.status="error",S.value=E}return S}_.resolve=u;function u(y){return y instanceof this?y:h.resolve(new this(a),y)}_.reject=p;function p(y){var w=new this(a);return h.reject(w,y)}_.all=I;function I(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,E=!1;if(!S)return this.resolve([]);for(var N=new Array(S),D=0,B=-1,R=new this(a);++B<S;)j(y[B],B);return R;function j(Q,J){w.resolve(Q).then(G,function($){E||(E=!0,h.reject(R,$))});function G($){N[J]=$,++D===S&&!E&&(E=!0,h.resolve(R,N))}}}_.race=P;function P(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,E=!1;if(!S)return this.resolve([]);for(var N=-1,D=new this(a);++N<S;)B(y[N]);return D;function B(R){w.resolve(R).then(function(j){E||(E=!0,h.resolve(D,j))},function(j){E||(E=!0,h.reject(D,j))})}}},{immediate:36}],38:[function(e,r,s){var l=e("./lib/utils/common").assign,a=e("./lib/deflate"),h=e("./lib/inflate"),n=e("./lib/zlib/constants"),m={};l(m,a,h,n),r.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,s){var l=e("./zlib/deflate"),a=e("./utils/common"),h=e("./utils/strings"),n=e("./zlib/messages"),m=e("./zlib/zstream"),c=Object.prototype.toString,_=0,g=4,v=0,F=1,C=2,o=-1,u=0,p=8;function I(S){if(!(this instanceof I))return new I(S);this.options=a.assign({level:o,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},S||{});var E=this.options;E.raw&&E.windowBits>0?E.windowBits=-E.windowBits:E.gzip&&E.windowBits>0&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var N=l.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(N!==v)throw new Error(n[N]);if(E.header&&l.deflateSetHeader(this.strm,E.header),E.dictionary){var D;if(typeof E.dictionary=="string"?D=h.string2buf(E.dictionary):c.call(E.dictionary)==="[object ArrayBuffer]"?D=new Uint8Array(E.dictionary):D=E.dictionary,N=l.deflateSetDictionary(this.strm,D),N!==v)throw new Error(n[N]);this._dict_set=!0}}I.prototype.push=function(S,E){var N=this.strm,D=this.options.chunkSize,B,R;if(this.ended)return!1;R=E===~~E?E:E===!0?g:_,typeof S=="string"?N.input=h.string2buf(S):c.call(S)==="[object ArrayBuffer]"?N.input=new Uint8Array(S):N.input=S,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(D),N.next_out=0,N.avail_out=D),B=l.deflate(N,R),B!==F&&B!==v)return this.onEnd(B),this.ended=!0,!1;(N.avail_out===0||N.avail_in===0&&(R===g||R===C))&&(this.options.to==="string"?this.onData(h.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((N.avail_in>0||N.avail_out===0)&&B!==F);return R===g?(B=l.deflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===v):(R===C&&(this.onEnd(v),N.avail_out=0),!0)},I.prototype.onData=function(S){this.chunks.push(S)},I.prototype.onEnd=function(S){S===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function P(S,E){var N=new I(E);if(N.push(S,!0),N.err)throw N.msg||n[N.err];return N.result}function y(S,E){return E=E||{},E.raw=!0,P(S,E)}function w(S,E){return E=E||{},E.gzip=!0,P(S,E)}s.Deflate=I,s.deflate=P,s.deflateRaw=y,s.gzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,s){var l=e("./zlib/inflate"),a=e("./utils/common"),h=e("./utils/strings"),n=e("./zlib/constants"),m=e("./zlib/messages"),c=e("./zlib/zstream"),_=e("./zlib/gzheader"),g=Object.prototype.toString;function v(o){if(!(this instanceof v))return new v(o);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},o||{});var u=this.options;u.raw&&u.windowBits>=0&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),u.windowBits>=0&&u.windowBits<16&&!(o&&o.windowBits)&&(u.windowBits+=32),u.windowBits>15&&u.windowBits<48&&(u.windowBits&15||(u.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var p=l.inflateInit2(this.strm,u.windowBits);if(p!==n.Z_OK)throw new Error(m[p]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(o,u){var p=this.strm,I=this.options.chunkSize,P=this.options.dictionary,y,w,S,E,N,D,B=!1;if(this.ended)return!1;w=u===~~u?u:u===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof o=="string"?p.input=h.binstring2buf(o):g.call(o)==="[object ArrayBuffer]"?p.input=new Uint8Array(o):p.input=o,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new a.Buf8(I),p.next_out=0,p.avail_out=I),y=l.inflate(p,n.Z_NO_FLUSH),y===n.Z_NEED_DICT&&P&&(typeof P=="string"?D=h.string2buf(P):g.call(P)==="[object ArrayBuffer]"?D=new Uint8Array(P):D=P,y=l.inflateSetDictionary(this.strm,D)),y===n.Z_BUF_ERROR&&B===!0&&(y=n.Z_OK,B=!1),y!==n.Z_STREAM_END&&y!==n.Z_OK)return this.onEnd(y),this.ended=!0,!1;p.next_out&&(p.avail_out===0||y===n.Z_STREAM_END||p.avail_in===0&&(w===n.Z_FINISH||w===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(S=h.utf8border(p.output,p.next_out),E=p.next_out-S,N=h.buf2string(p.output,S),p.next_out=E,p.avail_out=I-E,E&&a.arraySet(p.output,p.output,S,E,0),this.onData(N)):this.onData(a.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(B=!0)}while((p.avail_in>0||p.avail_out===0)&&y!==n.Z_STREAM_END);return y===n.Z_STREAM_END&&(w=n.Z_FINISH),w===n.Z_FINISH?(y=l.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===n.Z_OK):(w===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),p.avail_out=0),!0)},v.prototype.onData=function(o){this.chunks.push(o)},v.prototype.onEnd=function(o){o===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function F(o,u){var p=new v(u);if(p.push(o,!0),p.err)throw p.msg||m[p.err];return p.result}function C(o,u){return u=u||{},u.raw=!0,F(o,u)}s.Inflate=v,s.inflate=F,s.inflateRaw=C,s.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(n){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var c=m.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var _ in c)c.hasOwnProperty(_)&&(n[_]=c[_])}}return n},s.shrinkBuf=function(n,m){return n.length===m?n:n.subarray?n.subarray(0,m):(n.length=m,n)};var a={arraySet:function(n,m,c,_,g){if(m.subarray&&n.subarray){n.set(m.subarray(c,c+_),g);return}for(var v=0;v<_;v++)n[g+v]=m[c+v]},flattenChunks:function(n){var m,c,_,g,v,F;for(_=0,m=0,c=n.length;m<c;m++)_+=n[m].length;for(F=new Uint8Array(_),g=0,m=0,c=n.length;m<c;m++)v=n[m],F.set(v,g),g+=v.length;return F}},h={arraySet:function(n,m,c,_,g){for(var v=0;v<_;v++)n[g+v]=m[c+v]},flattenChunks:function(n){return[].concat.apply([],n)}};s.setTyped=function(n){n?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(l)},{}],42:[function(e,r,s){var l=e("./common"),a=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var n=new l.Buf8(256),m=0;m<256;m++)n[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;n[254]=n[254]=1,s.string2buf=function(_){var g,v,F,C,o,u=_.length,p=0;for(C=0;C<u;C++)v=_.charCodeAt(C),(v&64512)===55296&&C+1<u&&(F=_.charCodeAt(C+1),(F&64512)===56320&&(v=65536+(v-55296<<10)+(F-56320),C++)),p+=v<128?1:v<2048?2:v<65536?3:4;for(g=new l.Buf8(p),o=0,C=0;o<p;C++)v=_.charCodeAt(C),(v&64512)===55296&&C+1<u&&(F=_.charCodeAt(C+1),(F&64512)===56320&&(v=65536+(v-55296<<10)+(F-56320),C++)),v<128?g[o++]=v:v<2048?(g[o++]=192|v>>>6,g[o++]=128|v&63):v<65536?(g[o++]=224|v>>>12,g[o++]=128|v>>>6&63,g[o++]=128|v&63):(g[o++]=240|v>>>18,g[o++]=128|v>>>12&63,g[o++]=128|v>>>6&63,g[o++]=128|v&63);return g};function c(_,g){if(g<65537&&(_.subarray&&h||!_.subarray&&a))return String.fromCharCode.apply(null,l.shrinkBuf(_,g));for(var v="",F=0;F<g;F++)v+=String.fromCharCode(_[F]);return v}s.buf2binstring=function(_){return c(_,_.length)},s.binstring2buf=function(_){for(var g=new l.Buf8(_.length),v=0,F=g.length;v<F;v++)g[v]=_.charCodeAt(v);return g},s.buf2string=function(_,g){var v,F,C,o,u=g||_.length,p=new Array(u*2);for(F=0,v=0;v<u;){if(C=_[v++],C<128){p[F++]=C;continue}if(o=n[C],o>4){p[F++]=65533,v+=o-1;continue}for(C&=o===2?31:o===3?15:7;o>1&&v<u;)C=C<<6|_[v++]&63,o--;if(o>1){p[F++]=65533;continue}C<65536?p[F++]=C:(C-=65536,p[F++]=55296|C>>10&1023,p[F++]=56320|C&1023)}return c(p,F)},s.utf8border=function(_,g){var v;for(g=g||_.length,g>_.length&&(g=_.length),v=g-1;v>=0&&(_[v]&192)===128;)v--;return v<0||v===0?g:v+n[_[v]]>g?v:g}},{"./common":41}],43:[function(e,r,s){function l(a,h,n,m){for(var c=a&65535|0,_=a>>>16&65535|0,g=0;n!==0;){g=n>2e3?2e3:n,n-=g;do c=c+h[m++]|0,_=_+c|0;while(--g);c%=65521,_%=65521}return c|_<<16|0}r.exports=l},{}],44:[function(e,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,s){function l(){for(var n,m=[],c=0;c<256;c++){n=c;for(var _=0;_<8;_++)n=n&1?3988292384^n>>>1:n>>>1;m[c]=n}return m}var a=l();function h(n,m,c,_){var g=a,v=_+c;n^=-1;for(var F=_;F<v;F++)n=n>>>8^g[(n^m[F])&255];return n^-1}r.exports=h},{}],46:[function(e,r,s){var l=e("../utils/common"),a=e("./trees"),h=e("./adler32"),n=e("./crc32"),m=e("./messages"),c=0,_=1,g=3,v=4,F=5,C=0,o=1,u=-2,p=-3,I=-5,P=-1,y=1,w=2,S=3,E=4,N=0,D=2,B=8,R=9,j=15,Q=8,J=29,G=256,$=G+1+J,Z=30,tt=19,nt=2*$+1,ht=15,H=3,st=258,ft=st+H+1,Dt=32,kt=42,vt=69,at=73,St=91,gt=103,dt=113,bt=666,ct=1,At=2,Mt=3,Bt=4,ut=3;function Nt(i,A){return i.msg=m[A],A}function he(i){return(i<<1)-(i>4?9:0)}function Vt(i){for(var A=i.length;--A>=0;)i[A]=0}function Ut(i){var A=i.state,T=A.pending;T>i.avail_out&&(T=i.avail_out),T!==0&&(l.arraySet(i.output,A.pending_buf,A.pending_out,T,i.next_out),i.next_out+=T,A.pending_out+=T,i.total_out+=T,i.avail_out-=T,A.pending-=T,A.pending===0&&(A.pending_out=0))}function _t(i,A){a._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,A),i.block_start=i.strstart,Ut(i.strm)}function rt(i,A){i.pending_buf[i.pending++]=A}function Zt(i,A){i.pending_buf[i.pending++]=A>>>8&255,i.pending_buf[i.pending++]=A&255}function de(i,A,T,d){var x=i.avail_in;return x>d&&(x=d),x===0?0:(i.avail_in-=x,l.arraySet(A,i.input,i.next_in,x,T),i.state.wrap===1?i.adler=h(i.adler,A,x,T):i.state.wrap===2&&(i.adler=n(i.adler,A,x,T)),i.next_in+=x,i.total_in+=x,x)}function ae(i,A){var T=i.max_chain_length,d=i.strstart,x,O,K=i.prev_length,Y=i.nice_match,W=i.strstart>i.w_size-ft?i.strstart-(i.w_size-ft):0,ot=i.window,qt=i.w_mask,mt=i.prev,lt=i.strstart+st,xt=ot[d+K-1],Tt=ot[d+K];i.prev_length>=i.good_match&&(T>>=2),Y>i.lookahead&&(Y=i.lookahead);do if(x=A,!(ot[x+K]!==Tt||ot[x+K-1]!==xt||ot[x]!==ot[d]||ot[++x]!==ot[d+1])){d+=2,x++;do;while(ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&ot[++d]===ot[++x]&&d<lt);if(O=st-(lt-d),d=lt-st,O>K){if(i.match_start=A,K=O,O>=Y)break;xt=ot[d+K-1],Tt=ot[d+K]}}while((A=mt[A&qt])>W&&--T!==0);return K<=i.lookahead?K:i.lookahead}function jt(i){var A=i.w_size,T,d,x,O,K;do{if(O=i.window_size-i.lookahead-i.strstart,i.strstart>=A+(A-ft)){l.arraySet(i.window,i.window,A,A,0),i.match_start-=A,i.strstart-=A,i.block_start-=A,d=i.hash_size,T=d;do x=i.head[--T],i.head[T]=x>=A?x-A:0;while(--d);d=A,T=d;do x=i.prev[--T],i.prev[T]=x>=A?x-A:0;while(--d);O+=A}if(i.strm.avail_in===0)break;if(d=de(i.strm,i.window,i.strstart+i.lookahead,O),i.lookahead+=d,i.lookahead+i.insert>=H)for(K=i.strstart-i.insert,i.ins_h=i.window[K],i.ins_h=(i.ins_h<<i.hash_shift^i.window[K+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[K+H-1])&i.hash_mask,i.prev[K&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=K,K++,i.insert--,!(i.lookahead+i.insert<H)););}while(i.lookahead<ft&&i.strm.avail_in!==0)}function ue(i,A){var T=65535;for(T>i.pending_buf_size-5&&(T=i.pending_buf_size-5);;){if(i.lookahead<=1){if(jt(i),i.lookahead===0&&A===c)return ct;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var d=i.block_start+T;if((i.strstart===0||i.strstart>=d)&&(i.lookahead=i.strstart-d,i.strstart=d,_t(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-ft&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Mt:Bt):(i.strstart>i.block_start&&(_t(i,!1),i.strm.avail_out===0),ct)}function ne(i,A){for(var T,d;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&A===c)return ct;if(i.lookahead===0)break}if(T=0,i.lookahead>=H&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+H-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),T!==0&&i.strstart-T<=i.w_size-ft&&(i.match_length=ae(i,T)),i.match_length>=H)if(d=a._tr_tally(i,i.strstart-i.match_start,i.match_length-H),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=H){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+H-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else d=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(d&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=i.strstart<H-1?i.strstart:H-1,A===v?(_t(i,!0),i.strm.avail_out===0?Mt:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function Wt(i,A){for(var T,d,x;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&A===c)return ct;if(i.lookahead===0)break}if(T=0,i.lookahead>=H&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+H-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=H-1,T!==0&&i.prev_length<i.max_lazy_match&&i.strstart-T<=i.w_size-ft&&(i.match_length=ae(i,T),i.match_length<=5&&(i.strategy===y||i.match_length===H&&i.strstart-i.match_start>4096)&&(i.match_length=H-1)),i.prev_length>=H&&i.match_length<=i.prev_length){x=i.strstart+i.lookahead-H,d=a._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-H),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=x&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+H-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=H-1,i.strstart++,d&&(_t(i,!1),i.strm.avail_out===0))return ct}else if(i.match_available){if(d=a._tr_tally(i,0,i.window[i.strstart-1]),d&&_t(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ct}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(d=a._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<H-1?i.strstart:H-1,A===v?(_t(i,!0),i.strm.avail_out===0?Mt:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function _e(i,A){for(var T,d,x,O,K=i.window;;){if(i.lookahead<=st){if(jt(i),i.lookahead<=st&&A===c)return ct;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=H&&i.strstart>0&&(x=i.strstart-1,d=K[x],d===K[++x]&&d===K[++x]&&d===K[++x])){O=i.strstart+st;do;while(d===K[++x]&&d===K[++x]&&d===K[++x]&&d===K[++x]&&d===K[++x]&&d===K[++x]&&d===K[++x]&&d===K[++x]&&x<O);i.match_length=st-(O-x),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=H?(T=a._tr_tally(i,1,i.match_length-H),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(T=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),T&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Mt:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function se(i,A){for(var T;;){if(i.lookahead===0&&(jt(i),i.lookahead===0)){if(A===c)return ct;break}if(i.match_length=0,T=a._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,T&&(_t(i,!1),i.strm.avail_out===0))return ct}return i.insert=0,A===v?(_t(i,!0),i.strm.avail_out===0?Mt:Bt):i.last_lit&&(_t(i,!1),i.strm.avail_out===0)?ct:At}function Pt(i,A,T,d,x){this.good_length=i,this.max_lazy=A,this.nice_length=T,this.max_chain=d,this.func=x}var Gt;Gt=[new Pt(0,0,0,0,ue),new Pt(4,4,8,4,ne),new Pt(4,5,16,8,ne),new Pt(4,6,32,32,ne),new Pt(4,4,16,16,Wt),new Pt(8,16,32,32,Wt),new Pt(8,16,128,128,Wt),new Pt(8,32,128,256,Wt),new Pt(32,128,258,1024,Wt),new Pt(32,258,258,4096,Wt)];function pe(i){i.window_size=2*i.w_size,Vt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=H-1,i.match_available=0,i.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(nt*2),this.dyn_dtree=new l.Buf16((2*Z+1)*2),this.bl_tree=new l.Buf16((2*tt+1)*2),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(ht+1),this.heap=new l.Buf16(2*$+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*$+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(i){var A;return!i||!i.state?Nt(i,u):(i.total_in=i.total_out=0,i.data_type=D,A=i.state,A.pending=0,A.pending_out=0,A.wrap<0&&(A.wrap=-A.wrap),A.status=A.wrap?kt:dt,i.adler=A.wrap===2?0:1,A.last_flush=c,a._tr_init(A),C)}function V(i){var A=U(i);return A===C&&pe(i.state),A}function X(i,A){return!i||!i.state||i.state.wrap!==2?u:(i.state.gzhead=A,C)}function k(i,A,T,d,x,O){if(!i)return u;var K=1;if(A===P&&(A=6),d<0?(K=0,d=-d):d>15&&(K=2,d-=16),x<1||x>R||T!==B||d<8||d>15||A<0||A>9||O<0||O>E)return Nt(i,u);d===8&&(d=9);var Y=new b;return i.state=Y,Y.strm=i,Y.wrap=K,Y.gzhead=null,Y.w_bits=d,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=x+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+H-1)/H),Y.window=new l.Buf8(Y.w_size*2),Y.head=new l.Buf16(Y.hash_size),Y.prev=new l.Buf16(Y.w_size),Y.lit_bufsize=1<<x+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new l.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=A,Y.strategy=O,Y.method=T,V(i)}function z(i,A){return k(i,A,B,j,Q,N)}function f(i,A){var T,d,x,O;if(!i||!i.state||A>F||A<0)return i?Nt(i,u):u;if(d=i.state,!i.output||!i.input&&i.avail_in!==0||d.status===bt&&A!==v)return Nt(i,i.avail_out===0?I:u);if(d.strm=i,T=d.last_flush,d.last_flush=A,d.status===kt)if(d.wrap===2)i.adler=0,rt(d,31),rt(d,139),rt(d,8),d.gzhead?(rt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),rt(d,d.gzhead.time&255),rt(d,d.gzhead.time>>8&255),rt(d,d.gzhead.time>>16&255),rt(d,d.gzhead.time>>24&255),rt(d,d.level===9?2:d.strategy>=w||d.level<2?4:0),rt(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(rt(d,d.gzhead.extra.length&255),rt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(i.adler=n(i.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=vt):(rt(d,0),rt(d,0),rt(d,0),rt(d,0),rt(d,0),rt(d,d.level===9?2:d.strategy>=w||d.level<2?4:0),rt(d,ut),d.status=dt);else{var K=B+(d.w_bits-8<<4)<<8,Y=-1;d.strategy>=w||d.level<2?Y=0:d.level<6?Y=1:d.level===6?Y=2:Y=3,K|=Y<<6,d.strstart!==0&&(K|=Dt),K+=31-K%31,d.status=dt,Zt(d,K),d.strstart!==0&&(Zt(d,i.adler>>>16),Zt(d,i.adler&65535)),i.adler=1}if(d.status===vt)if(d.gzhead.extra){for(x=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),Ut(i),x=d.pending,d.pending===d.pending_buf_size));)rt(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=at)}else d.status=at;if(d.status===at)if(d.gzhead.name){x=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),Ut(i),x=d.pending,d.pending===d.pending_buf_size)){O=1;break}d.gzindex<d.gzhead.name.length?O=d.gzhead.name.charCodeAt(d.gzindex++)&255:O=0,rt(d,O)}while(O!==0);d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),O===0&&(d.gzindex=0,d.status=St)}else d.status=St;if(d.status===St)if(d.gzhead.comment){x=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),Ut(i),x=d.pending,d.pending===d.pending_buf_size)){O=1;break}d.gzindex<d.gzhead.comment.length?O=d.gzhead.comment.charCodeAt(d.gzindex++)&255:O=0,rt(d,O)}while(O!==0);d.gzhead.hcrc&&d.pending>x&&(i.adler=n(i.adler,d.pending_buf,d.pending-x,x)),O===0&&(d.status=gt)}else d.status=gt;if(d.status===gt&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&Ut(i),d.pending+2<=d.pending_buf_size&&(rt(d,i.adler&255),rt(d,i.adler>>8&255),i.adler=0,d.status=dt)):d.status=dt),d.pending!==0){if(Ut(i),i.avail_out===0)return d.last_flush=-1,C}else if(i.avail_in===0&&he(A)<=he(T)&&A!==v)return Nt(i,I);if(d.status===bt&&i.avail_in!==0)return Nt(i,I);if(i.avail_in!==0||d.lookahead!==0||A!==c&&d.status!==bt){var W=d.strategy===w?se(d,A):d.strategy===S?_e(d,A):Gt[d.level].func(d,A);if((W===Mt||W===Bt)&&(d.status=bt),W===ct||W===Mt)return i.avail_out===0&&(d.last_flush=-1),C;if(W===At&&(A===_?a._tr_align(d):A!==F&&(a._tr_stored_block(d,0,0,!1),A===g&&(Vt(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),Ut(i),i.avail_out===0))return d.last_flush=-1,C}return A!==v?C:d.wrap<=0?o:(d.wrap===2?(rt(d,i.adler&255),rt(d,i.adler>>8&255),rt(d,i.adler>>16&255),rt(d,i.adler>>24&255),rt(d,i.total_in&255),rt(d,i.total_in>>8&255),rt(d,i.total_in>>16&255),rt(d,i.total_in>>24&255)):(Zt(d,i.adler>>>16),Zt(d,i.adler&65535)),Ut(i),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?C:o)}function M(i){var A;return!i||!i.state?u:(A=i.state.status,A!==kt&&A!==vt&&A!==at&&A!==St&&A!==gt&&A!==dt&&A!==bt?Nt(i,u):(i.state=null,A===dt?Nt(i,p):C))}function q(i,A){var T=A.length,d,x,O,K,Y,W,ot,qt;if(!i||!i.state||(d=i.state,K=d.wrap,K===2||K===1&&d.status!==kt||d.lookahead))return u;for(K===1&&(i.adler=h(i.adler,A,T,0)),d.wrap=0,T>=d.w_size&&(K===0&&(Vt(d.head),d.strstart=0,d.block_start=0,d.insert=0),qt=new l.Buf8(d.w_size),l.arraySet(qt,A,T-d.w_size,d.w_size,0),A=qt,T=d.w_size),Y=i.avail_in,W=i.next_in,ot=i.input,i.avail_in=T,i.next_in=0,i.input=A,jt(d);d.lookahead>=H;){x=d.strstart,O=d.lookahead-(H-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[x+H-1])&d.hash_mask,d.prev[x&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=x,x++;while(--O);d.strstart=x,d.lookahead=H-1,jt(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=H-1,d.match_available=0,i.next_in=W,i.input=ot,i.avail_in=Y,d.wrap=K,C}s.deflateInit=z,s.deflateInit2=k,s.deflateReset=V,s.deflateResetKeep=U,s.deflateSetHeader=X,s.deflate=f,s.deflateEnd=M,s.deflateSetDictionary=q,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,s){function l(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}r.exports=l},{}],48:[function(e,r,s){var l=30,a=12;r.exports=function(n,m){var c,_,g,v,F,C,o,u,p,I,P,y,w,S,E,N,D,B,R,j,Q,J,G,$,Z;c=n.state,_=n.next_in,$=n.input,g=_+(n.avail_in-5),v=n.next_out,Z=n.output,F=v-(m-n.avail_out),C=v+(n.avail_out-257),o=c.dmax,u=c.wsize,p=c.whave,I=c.wnext,P=c.window,y=c.hold,w=c.bits,S=c.lencode,E=c.distcode,N=(1<<c.lenbits)-1,D=(1<<c.distbits)-1;t:do{w<15&&(y+=$[_++]<<w,w+=8,y+=$[_++]<<w,w+=8),B=S[y&N];e:for(;;){if(R=B>>>24,y>>>=R,w-=R,R=B>>>16&255,R===0)Z[v++]=B&65535;else if(R&16){j=B&65535,R&=15,R&&(w<R&&(y+=$[_++]<<w,w+=8),j+=y&(1<<R)-1,y>>>=R,w-=R),w<15&&(y+=$[_++]<<w,w+=8,y+=$[_++]<<w,w+=8),B=E[y&D];i:for(;;){if(R=B>>>24,y>>>=R,w-=R,R=B>>>16&255,R&16){if(Q=B&65535,R&=15,w<R&&(y+=$[_++]<<w,w+=8,w<R&&(y+=$[_++]<<w,w+=8)),Q+=y&(1<<R)-1,Q>o){n.msg="invalid distance too far back",c.mode=l;break t}if(y>>>=R,w-=R,R=v-F,Q>R){if(R=Q-R,R>p&&c.sane){n.msg="invalid distance too far back",c.mode=l;break t}if(J=0,G=P,I===0){if(J+=u-R,R<j){j-=R;do Z[v++]=P[J++];while(--R);J=v-Q,G=Z}}else if(I<R){if(J+=u+I-R,R-=I,R<j){j-=R;do Z[v++]=P[J++];while(--R);if(J=0,I<j){R=I,j-=R;do Z[v++]=P[J++];while(--R);J=v-Q,G=Z}}}else if(J+=I-R,R<j){j-=R;do Z[v++]=P[J++];while(--R);J=v-Q,G=Z}for(;j>2;)Z[v++]=G[J++],Z[v++]=G[J++],Z[v++]=G[J++],j-=3;j&&(Z[v++]=G[J++],j>1&&(Z[v++]=G[J++]))}else{J=v-Q;do Z[v++]=Z[J++],Z[v++]=Z[J++],Z[v++]=Z[J++],j-=3;while(j>2);j&&(Z[v++]=Z[J++],j>1&&(Z[v++]=Z[J++]))}}else if(R&64){n.msg="invalid distance code",c.mode=l;break t}else{B=E[(B&65535)+(y&(1<<R)-1)];continue i}break}}else if(R&64)if(R&32){c.mode=a;break t}else{n.msg="invalid literal/length code",c.mode=l;break t}else{B=S[(B&65535)+(y&(1<<R)-1)];continue e}break}}while(_<g&&v<C);j=w>>3,_-=j,w-=j<<3,y&=(1<<w)-1,n.next_in=_,n.next_out=v,n.avail_in=_<g?5+(g-_):5-(_-g),n.avail_out=v<C?257+(C-v):257-(v-C),c.hold=y,c.bits=w}},{}],49:[function(e,r,s){var l=e("../utils/common"),a=e("./adler32"),h=e("./crc32"),n=e("./inffast"),m=e("./inftrees"),c=0,_=1,g=2,v=4,F=5,C=6,o=0,u=1,p=2,I=-2,P=-3,y=-4,w=-5,S=8,E=1,N=2,D=3,B=4,R=5,j=6,Q=7,J=8,G=9,$=10,Z=11,tt=12,nt=13,ht=14,H=15,st=16,ft=17,Dt=18,kt=19,vt=20,at=21,St=22,gt=23,dt=24,bt=25,ct=26,At=27,Mt=28,Bt=29,ut=30,Nt=31,he=32,Vt=852,Ut=592,_t=15,rt=_t;function Zt(k){return(k>>>24&255)+(k>>>8&65280)+((k&65280)<<8)+((k&255)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ae(k){var z;return!k||!k.state?I:(z=k.state,k.total_in=k.total_out=z.total=0,k.msg="",z.wrap&&(k.adler=z.wrap&1),z.mode=E,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new l.Buf32(Vt),z.distcode=z.distdyn=new l.Buf32(Ut),z.sane=1,z.back=-1,o)}function jt(k){var z;return!k||!k.state?I:(z=k.state,z.wsize=0,z.whave=0,z.wnext=0,ae(k))}function ue(k,z){var f,M;return!k||!k.state||(M=k.state,z<0?(f=0,z=-z):(f=(z>>4)+1,z<48&&(z&=15)),z&&(z<8||z>15))?I:(M.window!==null&&M.wbits!==z&&(M.window=null),M.wrap=f,M.wbits=z,jt(k))}function ne(k,z){var f,M;return k?(M=new de,k.state=M,M.window=null,f=ue(k,z),f!==o&&(k.state=null),f):I}function Wt(k){return ne(k,rt)}var _e=!0,se,Pt;function Gt(k){if(_e){var z;for(se=new l.Buf32(512),Pt=new l.Buf32(32),z=0;z<144;)k.lens[z++]=8;for(;z<256;)k.lens[z++]=9;for(;z<280;)k.lens[z++]=7;for(;z<288;)k.lens[z++]=8;for(m(_,k.lens,0,288,se,0,k.work,{bits:9}),z=0;z<32;)k.lens[z++]=5;m(g,k.lens,0,32,Pt,0,k.work,{bits:5}),_e=!1}k.lencode=se,k.lenbits=9,k.distcode=Pt,k.distbits=5}function pe(k,z,f,M){var q,i=k.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new l.Buf8(i.wsize)),M>=i.wsize?(l.arraySet(i.window,z,f-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(q=i.wsize-i.wnext,q>M&&(q=M),l.arraySet(i.window,z,f-M,q,i.wnext),M-=q,M?(l.arraySet(i.window,z,f-M,M,0),i.wnext=M,i.whave=i.wsize):(i.wnext+=q,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=q))),0}function b(k,z){var f,M,q,i,A,T,d,x,O,K,Y,W,ot,qt,mt=0,lt,xt,Tt,Rt,Se,Ce,yt,Yt,Ct=new l.Buf8(4),te,Jt,Ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return I;f=k.state,f.mode===tt&&(f.mode=nt),A=k.next_out,q=k.output,d=k.avail_out,i=k.next_in,M=k.input,T=k.avail_in,x=f.hold,O=f.bits,K=T,Y=d,Yt=o;t:for(;;)switch(f.mode){case E:if(f.wrap===0){f.mode=nt;break}for(;O<16;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(f.wrap&2&&x===35615){f.check=0,Ct[0]=x&255,Ct[1]=x>>>8&255,f.check=h(f.check,Ct,2,0),x=0,O=0,f.mode=N;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((x&255)<<8)+(x>>8))%31){k.msg="incorrect header check",f.mode=ut;break}if((x&15)!==S){k.msg="unknown compression method",f.mode=ut;break}if(x>>>=4,O-=4,yt=(x&15)+8,f.wbits===0)f.wbits=yt;else if(yt>f.wbits){k.msg="invalid window size",f.mode=ut;break}f.dmax=1<<yt,k.adler=f.check=1,f.mode=x&512?$:tt,x=0,O=0;break;case N:for(;O<16;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(f.flags=x,(f.flags&255)!==S){k.msg="unknown compression method",f.mode=ut;break}if(f.flags&57344){k.msg="unknown header flags set",f.mode=ut;break}f.head&&(f.head.text=x>>8&1),f.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,f.check=h(f.check,Ct,2,0)),x=0,O=0,f.mode=D;case D:for(;O<32;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.head&&(f.head.time=x),f.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,Ct[2]=x>>>16&255,Ct[3]=x>>>24&255,f.check=h(f.check,Ct,4,0)),x=0,O=0,f.mode=B;case B:for(;O<16;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.head&&(f.head.xflags=x&255,f.head.os=x>>8),f.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,f.check=h(f.check,Ct,2,0)),x=0,O=0,f.mode=R;case R:if(f.flags&1024){for(;O<16;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.length=x,f.head&&(f.head.extra_len=x),f.flags&512&&(Ct[0]=x&255,Ct[1]=x>>>8&255,f.check=h(f.check,Ct,2,0)),x=0,O=0}else f.head&&(f.head.extra=null);f.mode=j;case j:if(f.flags&1024&&(W=f.length,W>T&&(W=T),W&&(f.head&&(yt=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),l.arraySet(f.head.extra,M,i,W,yt)),f.flags&512&&(f.check=h(f.check,M,W,i)),T-=W,i+=W,f.length-=W),f.length))break t;f.length=0,f.mode=Q;case Q:if(f.flags&2048){if(T===0)break t;W=0;do yt=M[i+W++],f.head&&yt&&f.length<65536&&(f.head.name+=String.fromCharCode(yt));while(yt&&W<T);if(f.flags&512&&(f.check=h(f.check,M,W,i)),T-=W,i+=W,yt)break t}else f.head&&(f.head.name=null);f.length=0,f.mode=J;case J:if(f.flags&4096){if(T===0)break t;W=0;do yt=M[i+W++],f.head&&yt&&f.length<65536&&(f.head.comment+=String.fromCharCode(yt));while(yt&&W<T);if(f.flags&512&&(f.check=h(f.check,M,W,i)),T-=W,i+=W,yt)break t}else f.head&&(f.head.comment=null);f.mode=G;case G:if(f.flags&512){for(;O<16;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(x!==(f.check&65535)){k.msg="header crc mismatch",f.mode=ut;break}x=0,O=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),k.adler=f.check=0,f.mode=tt;break;case $:for(;O<32;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}k.adler=f.check=Zt(x),x=0,O=0,f.mode=Z;case Z:if(f.havedict===0)return k.next_out=A,k.avail_out=d,k.next_in=i,k.avail_in=T,f.hold=x,f.bits=O,p;k.adler=f.check=1,f.mode=tt;case tt:if(z===F||z===C)break t;case nt:if(f.last){x>>>=O&7,O-=O&7,f.mode=At;break}for(;O<3;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}switch(f.last=x&1,x>>>=1,O-=1,x&3){case 0:f.mode=ht;break;case 1:if(Gt(f),f.mode=vt,z===C){x>>>=2,O-=2;break t}break;case 2:f.mode=ft;break;case 3:k.msg="invalid block type",f.mode=ut}x>>>=2,O-=2;break;case ht:for(x>>>=O&7,O-=O&7;O<32;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if((x&65535)!==(x>>>16^65535)){k.msg="invalid stored block lengths",f.mode=ut;break}if(f.length=x&65535,x=0,O=0,f.mode=H,z===C)break t;case H:f.mode=st;case st:if(W=f.length,W){if(W>T&&(W=T),W>d&&(W=d),W===0)break t;l.arraySet(q,M,i,W,A),T-=W,i+=W,d-=W,A+=W,f.length-=W;break}f.mode=tt;break;case ft:for(;O<14;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(f.nlen=(x&31)+257,x>>>=5,O-=5,f.ndist=(x&31)+1,x>>>=5,O-=5,f.ncode=(x&15)+4,x>>>=4,O-=4,f.nlen>286||f.ndist>30){k.msg="too many length or distance symbols",f.mode=ut;break}f.have=0,f.mode=Dt;case Dt:for(;f.have<f.ncode;){for(;O<3;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.lens[Ue[f.have++]]=x&7,x>>>=3,O-=3}for(;f.have<19;)f.lens[Ue[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,te={bits:f.lenbits},Yt=m(c,f.lens,0,19,f.lencode,0,f.work,te),f.lenbits=te.bits,Yt){k.msg="invalid code lengths set",f.mode=ut;break}f.have=0,f.mode=kt;case kt:for(;f.have<f.nlen+f.ndist;){for(;mt=f.lencode[x&(1<<f.lenbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(Tt<16)x>>>=lt,O-=lt,f.lens[f.have++]=Tt;else{if(Tt===16){for(Jt=lt+2;O<Jt;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(x>>>=lt,O-=lt,f.have===0){k.msg="invalid bit length repeat",f.mode=ut;break}yt=f.lens[f.have-1],W=3+(x&3),x>>>=2,O-=2}else if(Tt===17){for(Jt=lt+3;O<Jt;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}x>>>=lt,O-=lt,yt=0,W=3+(x&7),x>>>=3,O-=3}else{for(Jt=lt+7;O<Jt;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}x>>>=lt,O-=lt,yt=0,W=11+(x&127),x>>>=7,O-=7}if(f.have+W>f.nlen+f.ndist){k.msg="invalid bit length repeat",f.mode=ut;break}for(;W--;)f.lens[f.have++]=yt}}if(f.mode===ut)break;if(f.lens[256]===0){k.msg="invalid code -- missing end-of-block",f.mode=ut;break}if(f.lenbits=9,te={bits:f.lenbits},Yt=m(_,f.lens,0,f.nlen,f.lencode,0,f.work,te),f.lenbits=te.bits,Yt){k.msg="invalid literal/lengths set",f.mode=ut;break}if(f.distbits=6,f.distcode=f.distdyn,te={bits:f.distbits},Yt=m(g,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,te),f.distbits=te.bits,Yt){k.msg="invalid distances set",f.mode=ut;break}if(f.mode=vt,z===C)break t;case vt:f.mode=at;case at:if(T>=6&&d>=258){k.next_out=A,k.avail_out=d,k.next_in=i,k.avail_in=T,f.hold=x,f.bits=O,n(k,Y),A=k.next_out,q=k.output,d=k.avail_out,i=k.next_in,M=k.input,T=k.avail_in,x=f.hold,O=f.bits,f.mode===tt&&(f.back=-1);break}for(f.back=0;mt=f.lencode[x&(1<<f.lenbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(xt&&!(xt&240)){for(Rt=lt,Se=xt,Ce=Tt;mt=f.lencode[Ce+((x&(1<<Rt+Se)-1)>>Rt)],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(Rt+lt<=O);){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}x>>>=Rt,O-=Rt,f.back+=Rt}if(x>>>=lt,O-=lt,f.back+=lt,f.length=Tt,xt===0){f.mode=ct;break}if(xt&32){f.back=-1,f.mode=tt;break}if(xt&64){k.msg="invalid literal/length code",f.mode=ut;break}f.extra=xt&15,f.mode=St;case St:if(f.extra){for(Jt=f.extra;O<Jt;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.length+=x&(1<<f.extra)-1,x>>>=f.extra,O-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=gt;case gt:for(;mt=f.distcode[x&(1<<f.distbits)-1],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(lt<=O);){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(!(xt&240)){for(Rt=lt,Se=xt,Ce=Tt;mt=f.distcode[Ce+((x&(1<<Rt+Se)-1)>>Rt)],lt=mt>>>24,xt=mt>>>16&255,Tt=mt&65535,!(Rt+lt<=O);){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}x>>>=Rt,O-=Rt,f.back+=Rt}if(x>>>=lt,O-=lt,f.back+=lt,xt&64){k.msg="invalid distance code",f.mode=ut;break}f.offset=Tt,f.extra=xt&15,f.mode=dt;case dt:if(f.extra){for(Jt=f.extra;O<Jt;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}f.offset+=x&(1<<f.extra)-1,x>>>=f.extra,O-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){k.msg="invalid distance too far back",f.mode=ut;break}f.mode=bt;case bt:if(d===0)break t;if(W=Y-d,f.offset>W){if(W=f.offset-W,W>f.whave&&f.sane){k.msg="invalid distance too far back",f.mode=ut;break}W>f.wnext?(W-=f.wnext,ot=f.wsize-W):ot=f.wnext-W,W>f.length&&(W=f.length),qt=f.window}else qt=q,ot=A-f.offset,W=f.length;W>d&&(W=d),d-=W,f.length-=W;do q[A++]=qt[ot++];while(--W);f.length===0&&(f.mode=at);break;case ct:if(d===0)break t;q[A++]=f.length,d--,f.mode=at;break;case At:if(f.wrap){for(;O<32;){if(T===0)break t;T--,x|=M[i++]<<O,O+=8}if(Y-=d,k.total_out+=Y,f.total+=Y,Y&&(k.adler=f.check=f.flags?h(f.check,q,Y,A-Y):a(f.check,q,Y,A-Y)),Y=d,(f.flags?x:Zt(x))!==f.check){k.msg="incorrect data check",f.mode=ut;break}x=0,O=0}f.mode=Mt;case Mt:if(f.wrap&&f.flags){for(;O<32;){if(T===0)break t;T--,x+=M[i++]<<O,O+=8}if(x!==(f.total&4294967295)){k.msg="incorrect length check",f.mode=ut;break}x=0,O=0}f.mode=Bt;case Bt:Yt=u;break t;case ut:Yt=P;break t;case Nt:return y;case he:default:return I}return k.next_out=A,k.avail_out=d,k.next_in=i,k.avail_in=T,f.hold=x,f.bits=O,(f.wsize||Y!==k.avail_out&&f.mode<ut&&(f.mode<At||z!==v))&&pe(k,k.output,k.next_out,Y-k.avail_out),K-=k.avail_in,Y-=k.avail_out,k.total_in+=K,k.total_out+=Y,f.total+=Y,f.wrap&&Y&&(k.adler=f.check=f.flags?h(f.check,q,Y,k.next_out-Y):a(f.check,q,Y,k.next_out-Y)),k.data_type=f.bits+(f.last?64:0)+(f.mode===tt?128:0)+(f.mode===vt||f.mode===H?256:0),(K===0&&Y===0||z===v)&&Yt===o&&(Yt=w),Yt}function U(k){if(!k||!k.state)return I;var z=k.state;return z.window&&(z.window=null),k.state=null,o}function V(k,z){var f;return!k||!k.state||(f=k.state,!(f.wrap&2))?I:(f.head=z,z.done=!1,o)}function X(k,z){var f=z.length,M,q,i;return!k||!k.state||(M=k.state,M.wrap!==0&&M.mode!==Z)?I:M.mode===Z&&(q=1,q=a(q,z,f,0),q!==M.check)?P:(i=pe(k,z,f,f),i?(M.mode=Nt,y):(M.havedict=1,o))}s.inflateReset=jt,s.inflateReset2=ue,s.inflateResetKeep=ae,s.inflateInit=Wt,s.inflateInit2=ne,s.inflate=b,s.inflateEnd=U,s.inflateGetHeader=V,s.inflateSetDictionary=X,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,s){var l=e("../utils/common"),a=15,h=852,n=592,m=0,c=1,_=2,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],F=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,p,I,P,y,w,S,E){var N=E.bits,D=0,B=0,R=0,j=0,Q=0,J=0,G=0,$=0,Z=0,tt=0,nt,ht,H,st,ft,Dt=null,kt=0,vt,at=new l.Buf16(a+1),St=new l.Buf16(a+1),gt=null,dt=0,bt,ct,At;for(D=0;D<=a;D++)at[D]=0;for(B=0;B<P;B++)at[p[I+B]]++;for(Q=N,j=a;j>=1&&at[j]===0;j--);if(Q>j&&(Q=j),j===0)return y[w++]=20971520,y[w++]=20971520,E.bits=1,0;for(R=1;R<j&&at[R]===0;R++);for(Q<R&&(Q=R),$=1,D=1;D<=a;D++)if($<<=1,$-=at[D],$<0)return-1;if($>0&&(u===m||j!==1))return-1;for(St[1]=0,D=1;D<a;D++)St[D+1]=St[D]+at[D];for(B=0;B<P;B++)p[I+B]!==0&&(S[St[p[I+B]]++]=B);if(u===m?(Dt=gt=S,vt=19):u===c?(Dt=g,kt-=257,gt=v,dt-=257,vt=256):(Dt=F,gt=C,vt=-1),tt=0,B=0,D=R,ft=w,J=Q,G=0,H=-1,Z=1<<Q,st=Z-1,u===c&&Z>h||u===_&&Z>n)return 1;for(;;){bt=D-G,S[B]<vt?(ct=0,At=S[B]):S[B]>vt?(ct=gt[dt+S[B]],At=Dt[kt+S[B]]):(ct=96,At=0),nt=1<<D-G,ht=1<<J,R=ht;do ht-=nt,y[ft+(tt>>G)+ht]=bt<<24|ct<<16|At|0;while(ht!==0);for(nt=1<<D-1;tt&nt;)nt>>=1;if(nt!==0?(tt&=nt-1,tt+=nt):tt=0,B++,--at[D]===0){if(D===j)break;D=p[I+S[B]]}if(D>Q&&(tt&st)!==H){for(G===0&&(G=Q),ft+=R,J=D-G,$=1<<J;J+G<j&&($-=at[J+G],!($<=0));)J++,$<<=1;if(Z+=1<<J,u===c&&Z>h||u===_&&Z>n)return 1;H=tt&st,y[H]=Q<<24|J<<16|ft-w|0}}return tt!==0&&(y[ft+tt]=D-G<<24|4194304|0),E.bits=Q,0}},{"../utils/common":41}],51:[function(e,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,s){var l=e("../utils/common"),a=4,h=0,n=1,m=2;function c(b){for(var U=b.length;--U>=0;)b[U]=0}var _=0,g=1,v=2,F=3,C=258,o=29,u=256,p=u+1+o,I=30,P=19,y=2*p+1,w=15,S=16,E=7,N=256,D=16,B=17,R=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=512,Z=new Array((p+2)*2);c(Z);var tt=new Array(I*2);c(tt);var nt=new Array($);c(nt);var ht=new Array(C-F+1);c(ht);var H=new Array(o);c(H);var st=new Array(I);c(st);function ft(b,U,V,X,k){this.static_tree=b,this.extra_bits=U,this.extra_base=V,this.elems=X,this.max_length=k,this.has_stree=b&&b.length}var Dt,kt,vt;function at(b,U){this.dyn_tree=b,this.max_code=0,this.stat_desc=U}function St(b){return b<256?nt[b]:nt[256+(b>>>7)]}function gt(b,U){b.pending_buf[b.pending++]=U&255,b.pending_buf[b.pending++]=U>>>8&255}function dt(b,U,V){b.bi_valid>S-V?(b.bi_buf|=U<<b.bi_valid&65535,gt(b,b.bi_buf),b.bi_buf=U>>S-b.bi_valid,b.bi_valid+=V-S):(b.bi_buf|=U<<b.bi_valid&65535,b.bi_valid+=V)}function bt(b,U,V){dt(b,V[U*2],V[U*2+1])}function ct(b,U){var V=0;do V|=b&1,b>>>=1,V<<=1;while(--U>0);return V>>>1}function At(b){b.bi_valid===16?(gt(b,b.bi_buf),b.bi_buf=0,b.bi_valid=0):b.bi_valid>=8&&(b.pending_buf[b.pending++]=b.bi_buf&255,b.bi_buf>>=8,b.bi_valid-=8)}function Mt(b,U){var V=U.dyn_tree,X=U.max_code,k=U.stat_desc.static_tree,z=U.stat_desc.has_stree,f=U.stat_desc.extra_bits,M=U.stat_desc.extra_base,q=U.stat_desc.max_length,i,A,T,d,x,O,K=0;for(d=0;d<=w;d++)b.bl_count[d]=0;for(V[b.heap[b.heap_max]*2+1]=0,i=b.heap_max+1;i<y;i++)A=b.heap[i],d=V[V[A*2+1]*2+1]+1,d>q&&(d=q,K++),V[A*2+1]=d,!(A>X)&&(b.bl_count[d]++,x=0,A>=M&&(x=f[A-M]),O=V[A*2],b.opt_len+=O*(d+x),z&&(b.static_len+=O*(k[A*2+1]+x)));if(K!==0){do{for(d=q-1;b.bl_count[d]===0;)d--;b.bl_count[d]--,b.bl_count[d+1]+=2,b.bl_count[q]--,K-=2}while(K>0);for(d=q;d!==0;d--)for(A=b.bl_count[d];A!==0;)T=b.heap[--i],!(T>X)&&(V[T*2+1]!==d&&(b.opt_len+=(d-V[T*2+1])*V[T*2],V[T*2+1]=d),A--)}}function Bt(b,U,V){var X=new Array(w+1),k=0,z,f;for(z=1;z<=w;z++)X[z]=k=k+V[z-1]<<1;for(f=0;f<=U;f++){var M=b[f*2+1];M!==0&&(b[f*2]=ct(X[M]++,M))}}function ut(){var b,U,V,X,k,z=new Array(w+1);for(V=0,X=0;X<o-1;X++)for(H[X]=V,b=0;b<1<<j[X];b++)ht[V++]=X;for(ht[V-1]=X,k=0,X=0;X<16;X++)for(st[X]=k,b=0;b<1<<Q[X];b++)nt[k++]=X;for(k>>=7;X<I;X++)for(st[X]=k<<7,b=0;b<1<<Q[X]-7;b++)nt[256+k++]=X;for(U=0;U<=w;U++)z[U]=0;for(b=0;b<=143;)Z[b*2+1]=8,b++,z[8]++;for(;b<=255;)Z[b*2+1]=9,b++,z[9]++;for(;b<=279;)Z[b*2+1]=7,b++,z[7]++;for(;b<=287;)Z[b*2+1]=8,b++,z[8]++;for(Bt(Z,p+1,z),b=0;b<I;b++)tt[b*2+1]=5,tt[b*2]=ct(b,5);Dt=new ft(Z,j,u+1,p,w),kt=new ft(tt,Q,0,I,w),vt=new ft(new Array(0),J,0,P,E)}function Nt(b){var U;for(U=0;U<p;U++)b.dyn_ltree[U*2]=0;for(U=0;U<I;U++)b.dyn_dtree[U*2]=0;for(U=0;U<P;U++)b.bl_tree[U*2]=0;b.dyn_ltree[N*2]=1,b.opt_len=b.static_len=0,b.last_lit=b.matches=0}function he(b){b.bi_valid>8?gt(b,b.bi_buf):b.bi_valid>0&&(b.pending_buf[b.pending++]=b.bi_buf),b.bi_buf=0,b.bi_valid=0}function Vt(b,U,V,X){he(b),X&&(gt(b,V),gt(b,~V)),l.arraySet(b.pending_buf,b.window,U,V,b.pending),b.pending+=V}function Ut(b,U,V,X){var k=U*2,z=V*2;return b[k]<b[z]||b[k]===b[z]&&X[U]<=X[V]}function _t(b,U,V){for(var X=b.heap[V],k=V<<1;k<=b.heap_len&&(k<b.heap_len&&Ut(U,b.heap[k+1],b.heap[k],b.depth)&&k++,!Ut(U,X,b.heap[k],b.depth));)b.heap[V]=b.heap[k],V=k,k<<=1;b.heap[V]=X}function rt(b,U,V){var X,k,z=0,f,M;if(b.last_lit!==0)do X=b.pending_buf[b.d_buf+z*2]<<8|b.pending_buf[b.d_buf+z*2+1],k=b.pending_buf[b.l_buf+z],z++,X===0?bt(b,k,U):(f=ht[k],bt(b,f+u+1,U),M=j[f],M!==0&&(k-=H[f],dt(b,k,M)),X--,f=St(X),bt(b,f,V),M=Q[f],M!==0&&(X-=st[f],dt(b,X,M)));while(z<b.last_lit);bt(b,N,U)}function Zt(b,U){var V=U.dyn_tree,X=U.stat_desc.static_tree,k=U.stat_desc.has_stree,z=U.stat_desc.elems,f,M,q=-1,i;for(b.heap_len=0,b.heap_max=y,f=0;f<z;f++)V[f*2]!==0?(b.heap[++b.heap_len]=q=f,b.depth[f]=0):V[f*2+1]=0;for(;b.heap_len<2;)i=b.heap[++b.heap_len]=q<2?++q:0,V[i*2]=1,b.depth[i]=0,b.opt_len--,k&&(b.static_len-=X[i*2+1]);for(U.max_code=q,f=b.heap_len>>1;f>=1;f--)_t(b,V,f);i=z;do f=b.heap[1],b.heap[1]=b.heap[b.heap_len--],_t(b,V,1),M=b.heap[1],b.heap[--b.heap_max]=f,b.heap[--b.heap_max]=M,V[i*2]=V[f*2]+V[M*2],b.depth[i]=(b.depth[f]>=b.depth[M]?b.depth[f]:b.depth[M])+1,V[f*2+1]=V[M*2+1]=i,b.heap[1]=i++,_t(b,V,1);while(b.heap_len>=2);b.heap[--b.heap_max]=b.heap[1],Mt(b,U),Bt(V,q,b.bl_count)}function de(b,U,V){var X,k=-1,z,f=U[0*2+1],M=0,q=7,i=4;for(f===0&&(q=138,i=3),U[(V+1)*2+1]=65535,X=0;X<=V;X++)z=f,f=U[(X+1)*2+1],!(++M<q&&z===f)&&(M<i?b.bl_tree[z*2]+=M:z!==0?(z!==k&&b.bl_tree[z*2]++,b.bl_tree[D*2]++):M<=10?b.bl_tree[B*2]++:b.bl_tree[R*2]++,M=0,k=z,f===0?(q=138,i=3):z===f?(q=6,i=3):(q=7,i=4))}function ae(b,U,V){var X,k=-1,z,f=U[0*2+1],M=0,q=7,i=4;for(f===0&&(q=138,i=3),X=0;X<=V;X++)if(z=f,f=U[(X+1)*2+1],!(++M<q&&z===f)){if(M<i)do bt(b,z,b.bl_tree);while(--M!==0);else z!==0?(z!==k&&(bt(b,z,b.bl_tree),M--),bt(b,D,b.bl_tree),dt(b,M-3,2)):M<=10?(bt(b,B,b.bl_tree),dt(b,M-3,3)):(bt(b,R,b.bl_tree),dt(b,M-11,7));M=0,k=z,f===0?(q=138,i=3):z===f?(q=6,i=3):(q=7,i=4)}}function jt(b){var U;for(de(b,b.dyn_ltree,b.l_desc.max_code),de(b,b.dyn_dtree,b.d_desc.max_code),Zt(b,b.bl_desc),U=P-1;U>=3&&b.bl_tree[G[U]*2+1]===0;U--);return b.opt_len+=3*(U+1)+5+5+4,U}function ue(b,U,V,X){var k;for(dt(b,U-257,5),dt(b,V-1,5),dt(b,X-4,4),k=0;k<X;k++)dt(b,b.bl_tree[G[k]*2+1],3);ae(b,b.dyn_ltree,U-1),ae(b,b.dyn_dtree,V-1)}function ne(b){var U=4093624447,V;for(V=0;V<=31;V++,U>>>=1)if(U&1&&b.dyn_ltree[V*2]!==0)return h;if(b.dyn_ltree[18]!==0||b.dyn_ltree[20]!==0||b.dyn_ltree[26]!==0)return n;for(V=32;V<u;V++)if(b.dyn_ltree[V*2]!==0)return n;return h}var Wt=!1;function _e(b){Wt||(ut(),Wt=!0),b.l_desc=new at(b.dyn_ltree,Dt),b.d_desc=new at(b.dyn_dtree,kt),b.bl_desc=new at(b.bl_tree,vt),b.bi_buf=0,b.bi_valid=0,Nt(b)}function se(b,U,V,X){dt(b,(_<<1)+(X?1:0),3),Vt(b,U,V,!0)}function Pt(b){dt(b,g<<1,3),bt(b,N,Z),At(b)}function Gt(b,U,V,X){var k,z,f=0;b.level>0?(b.strm.data_type===m&&(b.strm.data_type=ne(b)),Zt(b,b.l_desc),Zt(b,b.d_desc),f=jt(b),k=b.opt_len+3+7>>>3,z=b.static_len+3+7>>>3,z<=k&&(k=z)):k=z=V+5,V+4<=k&&U!==-1?se(b,U,V,X):b.strategy===a||z===k?(dt(b,(g<<1)+(X?1:0),3),rt(b,Z,tt)):(dt(b,(v<<1)+(X?1:0),3),ue(b,b.l_desc.max_code+1,b.d_desc.max_code+1,f+1),rt(b,b.dyn_ltree,b.dyn_dtree)),Nt(b),X&&he(b)}function pe(b,U,V){return b.pending_buf[b.d_buf+b.last_lit*2]=U>>>8&255,b.pending_buf[b.d_buf+b.last_lit*2+1]=U&255,b.pending_buf[b.l_buf+b.last_lit]=V&255,b.last_lit++,U===0?b.dyn_ltree[V*2]++:(b.matches++,U--,b.dyn_ltree[(ht[V]+u+1)*2]++,b.dyn_dtree[St(U)*2]++),b.last_lit===b.lit_bufsize-1}s._tr_init=_e,s._tr_stored_block=se,s._tr_flush_block=Gt,s._tr_tally=pe,s._tr_align=Pt},{"../utils/common":41}],53:[function(e,r,s){function l(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}r.exports=l},{}],54:[function(e,r,s){(function(l){(function(a,h){if(a.setImmediate)return;var n=1,m={},c=!1,_=a.document,g;function v(E){typeof E!="function"&&(E=new Function(""+E));for(var N=new Array(arguments.length-1),D=0;D<N.length;D++)N[D]=arguments[D+1];var B={callback:E,args:N};return m[n]=B,g(n),n++}function F(E){delete m[E]}function C(E){var N=E.callback,D=E.args;switch(D.length){case 0:N();break;case 1:N(D[0]);break;case 2:N(D[0],D[1]);break;case 3:N(D[0],D[1],D[2]);break;default:N.apply(h,D);break}}function o(E){if(c)setTimeout(o,0,E);else{var N=m[E];if(N){c=!0;try{C(N)}finally{F(E),c=!1}}}}function u(){g=function(E){process.nextTick(function(){o(E)})}}function p(){if(a.postMessage&&!a.importScripts){var E=!0,N=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=N,E}}function I(){var E="setImmediate$"+Math.random()+"$",N=function(D){D.source===a&&typeof D.data=="string"&&D.data.indexOf(E)===0&&o(+D.data.slice(E.length))};a.addEventListener?a.addEventListener("message",N,!1):a.attachEvent("onmessage",N),g=function(D){a.postMessage(E+D,"*")}}function P(){var E=new MessageChannel;E.port1.onmessage=function(N){var D=N.data;o(D)},g=function(N){E.port2.postMessage(N)}}function y(){var E=_.documentElement;g=function(N){var D=_.createElement("script");D.onreadystatechange=function(){o(N),D.onreadystatechange=null,E.removeChild(D),D=null},E.appendChild(D)}}function w(){g=function(E){setTimeout(o,0,E)}}var S=Object.getPrototypeOf&&Object.getPrototypeOf(a);S=S&&S.setTimeout?S:a,{}.toString.call(a.process)==="[object process]"?u():p()?I():a.MessageChannel?P():_&&"onreadystatechange"in _.createElement("script")?y():w(),S.setImmediate=v,S.clearImmediate=F})(typeof self>"u"?typeof l>"u"?this:l:self)}).call(this,typeof Ie<"u"?Ie:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Re);var Ke=Re.exports,Ge=He(Ke);class Je{load(t,e){fetch(t).then(function(r){return r.status===200||r.status===0?Promise.resolve(r.blob()):Promise.reject(new Error(r.statusText))}).then(Ge.loadAsync).then(async function(r){let s=null;const l={};for(let h in r.files){r.files[h];const n=h.split(".").pop();if(n==="ssfb"){if(s!==null){e(null,null,null,new Error("already exist ssfb file"));return}s=h}else if(n==="png"){const m=h.split(".").slice(0,-1).join(".");l[m]=await r.file(h).async("uint8array")}}let a=await r.file(s).async("uint8array");e(s,a,l,null)},function(s){e(null,null,null,s)})}}class $e{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),r={};for(let s=0;s<e;s++){const l=t.fbObj.animePacks(s),a=l.name(),h=[],n=l.animationsLength();for(let c=0;c<n;c++){const _=l.animations(c),g=_.name();g!=="Setup"&&(h[g]=_)}const m=l.partsLength();r[a]={animePack:l,animationMap:h,parts_count:m}}return r}}const Fe=30;class Qe{constructor(){this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}async init(t){this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const e=new wt.Application;await e.init({preference:"webgpu",width:this.canvasWidth,height:this.canvasHeight,backgroundAlpha:0});const r=e.canvas;t.appendChild(r);const s=new Me;e.stage.addChild(s),this.mainContainer=s,this.pixiApplication=e}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let r=new Ne(t,()=>{e.setupForLoadComplete(r)})}loadSspkg(t){const e=this;new Je().load(t,(s,l,a,h)=>{if(h!==null)return;let n=new Ne(s,l,a,()=>{e.setupForLoadComplete(n)})})}setupForLoadComplete(t){this.projectData=t,this.animePackMap=$e.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let r=!1;this.textureContainer==null&&(r=!0,this.textureContainer=new We(this));const s=this.animePackMap[t],l=s.animePack,h=s.animationMap[e];this.currentAnimation=h,this.currentAnimePack=l,this.textureContainer.Setup(t,e);const n=h.labelDataLength();for(let m=0;m<n;m++)h.labelData(m);r&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,r=-1){this.textureContainer.SetAnimationSection(t,e,r)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),r=t.canvasPvotY();let s;switch(e){case .5:s=Fe;break;case 0:s=this.canvasWidth*.5;break;case-.5:s=this.canvasWidth-Fe;break}let l;switch(r){case .5:l=Fe;break;case 0:l=this.canvasHeight*.5;break;case-.5:l=this.canvasHeight-Fe}this.mainContainer.setPosition(s,l)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),r=t.canvasSizeW(),s=this.canvasWidth/r,l=this.canvasHeight/e;let a=null;s<l?a=s:l<s&&(a=l),this.mainContainer.setDefaultScaleRatio(a),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Ae.Player=Qe,Ae}({},PIXI);

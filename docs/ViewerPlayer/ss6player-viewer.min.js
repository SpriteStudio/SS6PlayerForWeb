/**
 * -----------------------------------------------------------
 * SS6Player For Viewer v1.3.5
 *
 * Copyright(C) Web Technology Corp.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

this.PIXI=this.PIXI||{};var ss6PlayerViewer=function(Ce,Xe,Ee,Ae,Te,Pe,Oe,Ne,zt){"use strict";const be=[5,10,15,20,25,50,75,100,150,200,300,400,800];class We extends Ee.Container{constructor(){super(),this.rootLineGraphics=null,this.gridGraphics=null,this.defaultScaleRatio=null,this.zoomPercent=null,this.isDisplayGrid=!1;const t=new Ae.Graphics,e=new Ae.Graphics;this.addChild(t),this.addChild(e),this.rootLineGraphics=t,this.gridGraphics=e}setDefaultScaleRatio(t){this.defaultScaleRatio=t}setPosition(t,e){this.position.set(t,e)}movePosition(t,e){const a=this.position;a.x+=t,a.y+=e,this.position=a}zoom(t){let e=this.defaultScaleRatio;t!==100&&(e=this.defaultScaleRatio*(t*.01)),this.zoomPercent=t,this.scale.set(e,e)}zoomIn(){const e=be.indexOf(this.zoomPercent)+1;if(e>=be.length)return;const a=be[e];this.zoom(a)}zoomOut(){const e=be.indexOf(this.zoomPercent)-1;if(e<0)return;const a=be[e];this.zoom(a)}switchGridDisplay(){const t=this.rootLineGraphics,e=this.gridGraphics;if(!(t==null||e==null)&&(t.clear(),e.clear(),this.isDisplayGrid=!this.isDisplayGrid,this.isDisplayGrid)){t.lineStyle(1,0),t.alpha=.3,t.moveTo(-5e3,0).lineTo(5001,0),t.moveTo(0,-5e3).lineTo(0,5001),e.lineStyle(1,0),e.alpha=.1;let h=100;for(let n=-5e3;n<5001;n+=h)e.moveTo(n,-5e3).lineTo(n,5001);for(let n=-5e3;n<5001;n+=h)e.moveTo(-5e3,-n).lineTo(5001,-n)}}}const ve=4,me=4,ie=new Int32Array(2),Re=new Float32Array(ie.buffer),Le=new Float64Array(ie.buffer),ge=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var De;(function(N){N[N.UTF8_BYTES=1]="UTF8_BYTES",N[N.UTF16_STRING=2]="UTF16_STRING"})(De||(De={}));class ye{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new ye(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return ie[0]=this.readInt32(t),Re[0]}readFloat64(t){return ie[ge?0:1]=this.readInt32(t),ie[ge?1:0]=this.readInt32(t+4),Le[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){Re[0]=e,this.writeInt32(t,ie[0])}writeFloat64(t,e){Le[0]=e,this.writeInt32(t,ie[ge?0:1]),this.writeInt32(t+4,ie[ge?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+ve+me)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<me;e++)t+=String.fromCharCode(this.readInt8(this.position_+ve+e));return t}__offset(t,e){const a=t-this.readInt32(t);return e<this.readInt16(a)?this.readInt16(a+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const a=this.readInt32(t);let s="",h=0;if(t+=ve,e===De.UTF8_BYTES)return this.bytes_.subarray(t,t+a);for(;h<a;){let n;const f=this.readUint8(t+h++);if(f<192)n=f;else{const r=this.readUint8(t+h++);if(f<224)n=(f&31)<<6|r&63;else{const u=this.readUint8(t+h++);if(f<240)n=(f&15)<<12|(r&63)<<6|u&63;else{const p=this.readUint8(t+h++);n=(f&7)<<18|(r&63)<<12|(u&63)<<6|p&63}}}n<65536?s+=String.fromCharCode(n):(n-=65536,s+=String.fromCharCode((n>>10)+55296,(n&(1<<10)-1)+56320))}return s}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+ve}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=me)throw new Error("FlatBuffers: file identifier must be length "+me);for(let e=0;e<me;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+ve+e))return!1;return!0}createScalarList(t,e){const a=[];for(let s=0;s<e;++s)t(s)!==null&&a.push(t(s));return a}createObjList(t,e){const a=[];for(let s=0;s<e;++s){const h=t(s);h!==null&&a.push(h.unpack())}return a}}const kt=4,ze=new Int32Array(2);new Float32Array(ze.buffer),new Float64Array(ze.buffer),new Uint16Array(new Uint8Array([1,0]).buffer)[0];var Me;(function(N){N[N.UTF8_BYTES=1]="UTF8_BYTES",N[N.UTF16_STRING=2]="UTF16_STRING"})(Me||(Me={}));class tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationInitialData(t,e){return(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,e){return t.setPosition(t.position()+kt),(e||new tt).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addLowflag(t,e){t.addFieldInt32(1,e,0)}static addHighflag(t,e){t.addFieldInt32(2,e,0)}static addPriority(t,e){t.addFieldInt16(3,e,0)}static addCellIndex(t,e){t.addFieldInt16(4,e,0)}static addOpacity(t,e){t.addFieldInt16(5,e,0)}static addLocalopacity(t,e){t.addFieldInt16(6,e,0)}static addMasklimen(t,e){t.addFieldInt16(7,e,0)}static addPositionX(t,e){t.addFieldFloat32(8,e,0)}static addPositionY(t,e){t.addFieldFloat32(9,e,0)}static addPositionZ(t,e){t.addFieldFloat32(10,e,0)}static addPivotX(t,e){t.addFieldFloat32(11,e,0)}static addPivotY(t,e){t.addFieldFloat32(12,e,0)}static addRotationX(t,e){t.addFieldFloat32(13,e,0)}static addRotationY(t,e){t.addFieldFloat32(14,e,0)}static addRotationZ(t,e){t.addFieldFloat32(15,e,0)}static addScaleX(t,e){t.addFieldFloat32(16,e,0)}static addScaleY(t,e){t.addFieldFloat32(17,e,0)}static addLocalscaleX(t,e){t.addFieldFloat32(18,e,0)}static addLocalscaleY(t,e){t.addFieldFloat32(19,e,0)}static addSizeX(t,e){t.addFieldFloat32(20,e,0)}static addSizeY(t,e){t.addFieldFloat32(21,e,0)}static addUvMoveX(t,e){t.addFieldFloat32(22,e,0)}static addUvMoveY(t,e){t.addFieldFloat32(23,e,0)}static addUvRotation(t,e){t.addFieldFloat32(24,e,0)}static addUvScaleX(t,e){t.addFieldFloat32(25,e,0)}static addUvScaleY(t,e){t.addFieldFloat32(26,e,0)}static addBoundingRadius(t,e){t.addFieldFloat32(27,e,0)}static addInstanceValueCurKeyframe(t,e){t.addFieldInt32(28,e,0)}static addInstanceValueStartFrame(t,e){t.addFieldInt32(29,e,0)}static addInstanceValueEndFrame(t,e){t.addFieldInt32(30,e,0)}static addInstanceValueLoopNum(t,e){t.addFieldInt32(31,e,0)}static addInstanceValueSpeed(t,e){t.addFieldFloat32(32,e,0)}static addInstanceValueLoopflag(t,e){t.addFieldInt32(33,e,0)}static addEffectValueCurKeyframe(t,e){t.addFieldInt32(34,e,0)}static addEffectValueStartTime(t,e){t.addFieldInt32(35,e,0)}static addEffectValueSpeed(t,e){t.addFieldFloat32(36,e,0)}static addEffectValueLoopflag(t,e){t.addFieldInt32(37,e,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,e,a,s,h,n,f,r,u,p,c,g,m,C,I,v,o,b,x,E,y,k,S,A,z,R,V,L,Z,$,K,q,G,j,et,st,pt,J,lt){return tt.startAnimationInitialData(t),tt.addIndex(t,e),tt.addLowflag(t,a),tt.addHighflag(t,s),tt.addPriority(t,h),tt.addCellIndex(t,n),tt.addOpacity(t,f),tt.addLocalopacity(t,r),tt.addMasklimen(t,u),tt.addPositionX(t,p),tt.addPositionY(t,c),tt.addPositionZ(t,g),tt.addPivotX(t,m),tt.addPivotY(t,C),tt.addRotationX(t,I),tt.addRotationY(t,v),tt.addRotationZ(t,o),tt.addScaleX(t,b),tt.addScaleY(t,x),tt.addLocalscaleX(t,E),tt.addLocalscaleY(t,y),tt.addSizeX(t,k),tt.addSizeY(t,S),tt.addUvMoveX(t,A),tt.addUvMoveY(t,z),tt.addUvRotation(t,R),tt.addUvScaleX(t,V),tt.addUvScaleY(t,L),tt.addBoundingRadius(t,Z),tt.addInstanceValueCurKeyframe(t,$),tt.addInstanceValueStartFrame(t,K),tt.addInstanceValueEndFrame(t,q),tt.addInstanceValueLoopNum(t,G),tt.addInstanceValueSpeed(t,j),tt.addInstanceValueLoopflag(t,et),tt.addEffectValueCurKeyframe(t,st),tt.addEffectValueStartTime(t,pt),tt.addEffectValueSpeed(t,J),tt.addEffectValueLoopflag(t,lt),tt.endAnimationInitialData(t)}}class Ht{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAspartState(t,e){return(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,e){return t.setPosition(t.position()+kt),(e||new Ht).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,e){t.addFieldInt16(0,e,0)}static addFlag1(t,e){t.addFieldInt32(1,e,0)}static addFlag2(t,e){t.addFieldInt32(2,e,0)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addInt32(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static endpartState(t){return t.endObject()}static createpartState(t,e,a,s,h){return Ht.startpartState(t),Ht.addIndex(t,e),Ht.addFlag1(t,a),Ht.addFlag2(t,s),Ht.addData(t,h),Ht.endpartState(t)}}class fe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsframeDataIndex(t,e){return(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,e){return t.setPosition(t.position()+kt),(e||new fe).__init(t.readInt32(t.position())+t.position(),t)}states(t,e){const a=this.bb.__offset(this.bb_pos,4);return a?(e||new Ht).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,e){t.addFieldOffset(0,e,0)}static createStatesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startStatesVector(t,e){t.startVector(4,e,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,e){return fe.startframeDataIndex(t),fe.addStates(t,e),fe.endframeDataIndex(t)}}class re{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAslabelDataItem(t,e){return(e||new re).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,e){return t.setPosition(t.position()+kt),(e||new re).__init(t.readInt32(t.position())+t.position(),t)}label(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,e){t.addFieldOffset(0,e,0)}static addFrameIndex(t,e){t.addFieldInt16(1,e,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,e,a){return re.startlabelDataItem(t),re.addLabel(t,e),re.addFrameIndex(t,a),re.endlabelDataItem(t)}}class he{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataIndices(t,e){return(e||new he).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,e){return t.setPosition(t.position()+kt),(e||new he).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,e){t.addFieldOffset(0,e,0)}static createIndicesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addFloat32(e[a]);return t.endVector()}static startIndicesVector(t,e){t.startVector(4,e,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,e){return he.startmeshDataIndices(t),he.addIndices(t,e),he.endmeshDataIndices(t)}}class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsmeshDataUV(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,e){return t.setPosition(t.position()+kt),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,e){t.addFieldOffset(0,e,0)}static createUvVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addFloat32(e[a]);return t.endVector()}static startUvVector(t,e){t.startVector(4,e,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,e){return le.startmeshDataUV(t),le.addUv(t,e),le.endmeshDataUV(t)}}class Kt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataItem(t,e){return(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,e){return t.setPosition(t.position()+kt),(e||new Kt).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,e){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__union(e,this.bb.__vector(this.bb_pos+a)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,e){t.addFieldInt16(0,e,0)}static addArrayIndex(t,e){t.addFieldInt16(1,e,0)}static addDataType(t,e){t.addFieldOffset(2,e,0)}static createDataTypeVector(t,e){t.startVector(1,e.length,1);for(let a=e.length-1;a>=0;a--)t.addInt8(e[a]);return t.endVector()}static startDataTypeVector(t,e){t.startVector(1,e,1)}static addData(t,e){t.addFieldOffset(3,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,e,a,s,h){return Kt.startuserDataItem(t),Kt.addFlags(t,e),Kt.addArrayIndex(t,a),Kt.addDataType(t,s),Kt.addData(t,h),Kt.enduserDataItem(t)}}class ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataPerFrame(t,e){return(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,e){return t.setPosition(t.position()+kt),(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new Kt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,e){t.addFieldInt16(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static createDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDataVector(t,e){t.startVector(4,e,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,e,a){return ae.startuserDataPerFrame(t),ae.addFrameIndex(t,e),ae.addData(t,a),ae.enduserDataPerFrame(t)}}class _t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimationData(t,e){return(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,e){return t.setPosition(t.position()+kt),(e||new _t).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}defaultData(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new fe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,e){const a=this.bb.__offset(this.bb_pos,10);return a?(e||new ae).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new re).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUV(t,e){const a=this.bb.__offset(this.bb_pos,14);return a?(e||new le).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}meshsDataUVLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,e){const a=this.bb.__offset(this.bb_pos,16);return a?(e||new he).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDefaultData(t,e){t.addFieldOffset(1,e,0)}static createDefaultDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startDefaultDataVector(t,e){t.startVector(4,e,4)}static addFrameData(t,e){t.addFieldOffset(2,e,0)}static createFrameDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startFrameDataVector(t,e){t.startVector(4,e,4)}static addUserData(t,e){t.addFieldOffset(3,e,0)}static createUserDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startUserDataVector(t,e){t.startVector(4,e,4)}static addLabelData(t,e){t.addFieldOffset(4,e,0)}static createLabelDataVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startLabelDataVector(t,e){t.startVector(4,e,4)}static addMeshsDataUV(t,e){t.addFieldOffset(5,e,0)}static createMeshsDataUVVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startMeshsDataUVVector(t,e){t.startVector(4,e,4)}static addMeshsDataIndices(t,e){t.addFieldOffset(6,e,0)}static createMeshsDataIndicesVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startMeshsDataIndicesVector(t,e){t.startVector(4,e,4)}static addStartFrames(t,e){t.addFieldInt16(7,e,0)}static addEndFrames(t,e){t.addFieldInt16(8,e,0)}static addTotalFrames(t,e){t.addFieldInt16(9,e,0)}static addFps(t,e){t.addFieldInt16(10,e,0)}static addLabelNum(t,e){t.addFieldInt16(11,e,0)}static addCanvasSizeW(t,e){t.addFieldInt16(12,e,0)}static addCanvasSizeH(t,e){t.addFieldInt16(13,e,0)}static addCanvasPvotX(t,e){t.addFieldFloat32(14,e,0)}static addCanvasPvotY(t,e){t.addFieldFloat32(15,e,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,e,a,s,h,n,f,r,u,p,c,g,m,C,I,v,o){return _t.startAnimationData(t),_t.addName(t,e),_t.addDefaultData(t,a),_t.addFrameData(t,s),_t.addUserData(t,h),_t.addLabelData(t,n),_t.addMeshsDataUV(t,f),_t.addMeshsDataIndices(t,r),_t.addStartFrames(t,u),_t.addEndFrames(t,p),_t.addTotalFrames(t,c),_t.addFps(t,g),_t.addLabelNum(t,m),_t.addCanvasSizeW(t,C),_t.addCanvasSizeH(t,I),_t.addCanvasPvotX(t,v),_t.addCanvasPvotY(t,o),_t.endAnimationData(t)}}var wt=(N=>(N[N.Invalid=-1]="Invalid",N[N.Nulltype=0]="Nulltype",N[N.Normal=1]="Normal",N[N.Text=2]="Text",N[N.Instance=3]="Instance",N[N.Armature=4]="Armature",N[N.Effect=5]="Effect",N[N.Mesh=6]="Mesh",N[N.Movenode=7]="Movenode",N[N.Constraint=8]="Constraint",N[N.Mask=9]="Mask",N[N.Joint=10]="Joint",N[N.Bonepoint=11]="Bonepoint",N))(wt||{});class Et{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsPartData(t,e){return(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,e){return t.setPosition(t.position()+kt),(e||new Et).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):wt.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}effectfilename(t){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}colorLabel(t){const e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,e){t.addFieldOffset(0,e,0)}static addIndex(t,e){t.addFieldInt16(1,e,0)}static addParentIndex(t,e){t.addFieldInt16(2,e,0)}static addType(t,e){t.addFieldInt8(3,e,wt.Nulltype)}static addBoundsType(t,e){t.addFieldInt16(4,e,0)}static addAlphaBlendType(t,e){t.addFieldInt16(5,e,0)}static addRefname(t,e){t.addFieldOffset(6,e,0)}static addEffectfilename(t,e){t.addFieldOffset(7,e,0)}static addColorLabel(t,e){t.addFieldOffset(8,e,0)}static addMaskInfluence(t,e){t.addFieldInt16(9,e,0)}static endPartData(t){return t.endObject()}static createPartData(t,e,a,s,h,n,f,r,u,p,c){return Et.startPartData(t),Et.addName(t,e),Et.addIndex(t,a),Et.addParentIndex(t,s),Et.addType(t,h),Et.addBoundsType(t,n),Et.addAlphaBlendType(t,f),Et.addRefname(t,r),Et.addEffectfilename(t,u),Et.addColorLabel(t,p),Et.addMaskInfluence(t,c),Et.endPartData(t)}}class Qt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAnimePackData(t,e){return(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,e){return t.setPosition(t.position()+kt),(e||new Qt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}parts(t,e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new Et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new _t).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addParts(t,e){t.addFieldOffset(1,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static addAnimations(t,e){t.addFieldOffset(2,e,0)}static createAnimationsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startAnimationsVector(t,e){t.startVector(4,e,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,e,a,s){return Qt.startAnimePackData(t),Qt.addName(t,e),Qt.addParts(t,a),Qt.addAnimations(t,s),Qt.endAnimePackData(t)}}class Xt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCellMap(t,e){return(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,e){return t.setPosition(t.position()+kt),(e||new Xt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}imagePath(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,e){t.addFieldOffset(0,e,0)}static addImagePath(t,e){t.addFieldOffset(1,e,0)}static addIndex(t,e){t.addFieldInt16(2,e,0)}static addWrapmode(t,e){t.addFieldInt16(3,e,0)}static addFiltermode(t,e){t.addFieldInt16(4,e,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,e,a,s,h,n){return Xt.startCellMap(t),Xt.addName(t,e),Xt.addImagePath(t,a),Xt.addIndex(t,s),Xt.addWrapmode(t,h),Xt.addFiltermode(t,n),Xt.endCellMap(t)}}class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCell(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,e){return t.setPosition(t.position()+kt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}cellMap(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Xt).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addCellMap(t,e){t.addFieldOffset(1,e,0)}static addIndexInCellMap(t,e){t.addFieldInt16(2,e,0)}static addX(t,e){t.addFieldInt16(3,e,0)}static addY(t,e){t.addFieldInt16(4,e,0)}static addWidth(t,e){t.addFieldInt16(5,e,0)}static addHeight(t,e){t.addFieldInt16(6,e,0)}static addPivotX(t,e){t.addFieldFloat32(7,e,0)}static addPivotY(t,e){t.addFieldFloat32(8,e,0)}static addU1(t,e){t.addFieldFloat32(9,e,0)}static addV1(t,e){t.addFieldFloat32(10,e,0)}static addU2(t,e){t.addFieldFloat32(11,e,0)}static addV2(t,e){t.addFieldFloat32(12,e,0)}static endCell(t){return t.endObject()}}class Pt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectNode(t,e){return(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,e){return t.setPosition(t.position()+kt),(e||new Pt).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}BehaviorType(t){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}BehaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}BehaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}Behavior(t,e){const a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__union(e,this.bb.__vector(this.bb_pos+a)+t*4):null}BehaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,e){t.addFieldInt16(0,e,0)}static addParentIndex(t,e){t.addFieldInt16(1,e,0)}static addType(t,e){t.addFieldInt16(2,e,0)}static addCellIndex(t,e){t.addFieldInt16(3,e,0)}static addBlendType(t,e){t.addFieldInt16(4,e,0)}static addNumBehavior(t,e){t.addFieldInt16(5,e,0)}static addBehaviorType(t,e){t.addFieldOffset(6,e,0)}static createBehaviorTypeVector(t,e){t.startVector(1,e.length,1);for(let a=e.length-1;a>=0;a--)t.addInt8(e[a]);return t.endVector()}static startBehaviorTypeVector(t,e){t.startVector(1,e,1)}static addBehavior(t,e){t.addFieldOffset(7,e,0)}static createBehaviorVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startBehaviorVector(t,e){t.startVector(4,e,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,e,a,s,h,n,f,r,u){return Pt.startEffectNode(t),Pt.addArrayIndex(t,e),Pt.addParentIndex(t,a),Pt.addType(t,s),Pt.addCellIndex(t,h),Pt.addBlendType(t,n),Pt.addNumBehavior(t,f),Pt.addBehaviorType(t,r),Pt.addBehavior(t,u),Pt.endEffectNode(t)}}class Nt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsEffectFile(t,e){return(e||new Nt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,e){return t.setPosition(t.position()+kt),(e||new Nt).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,e){const a=this.bb.__offset(this.bb_pos,18);return a?(e||new Pt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,e){t.addFieldOffset(0,e,0)}static addFps(t,e){t.addFieldInt16(1,e,0)}static addIsLockRandSeed(t,e){t.addFieldInt16(2,e,0)}static addLockRandSeed(t,e){t.addFieldInt16(3,e,0)}static addLayoutScaleX(t,e){t.addFieldInt16(4,e,0)}static addLayoutScaleY(t,e){t.addFieldInt16(5,e,0)}static addNumNodeList(t,e){t.addFieldInt16(6,e,0)}static addEffectNode(t,e){t.addFieldOffset(7,e,0)}static createEffectNodeVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startEffectNodeVector(t,e){t.startVector(4,e,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,e,a,s,h,n,f,r,u){return Nt.startEffectFile(t),Nt.addName(t,e),Nt.addFps(t,a),Nt.addIsLockRandSeed(t,s),Nt.addLockRandSeed(t,h),Nt.addLayoutScaleX(t,n),Nt.addLayoutScaleY(t,f),Nt.addNumNodeList(t,r),Nt.addEffectNode(t,u),Nt.endEffectFile(t)}}var it=(N=>(N[N.INVISIBLE=1]="INVISIBLE",N[N.FLIP_H=2]="FLIP_H",N[N.FLIP_V=4]="FLIP_V",N[N.CELL_INDEX=8]="CELL_INDEX",N[N.POSITION_X=16]="POSITION_X",N[N.POSITION_Y=32]="POSITION_Y",N[N.POSITION_Z=64]="POSITION_Z",N[N.PIVOT_X=128]="PIVOT_X",N[N.PIVOT_Y=256]="PIVOT_Y",N[N.ROTATIONX=512]="ROTATIONX",N[N.ROTATIONY=1024]="ROTATIONY",N[N.ROTATIONZ=2048]="ROTATIONZ",N[N.SCALE_X=4096]="SCALE_X",N[N.SCALE_Y=8192]="SCALE_Y",N[N.LOCALSCALE_X=16384]="LOCALSCALE_X",N[N.LOCALSCALE_Y=32768]="LOCALSCALE_Y",N[N.OPACITY=65536]="OPACITY",N[N.LOCALOPACITY=131072]="LOCALOPACITY",N[N.PARTS_COLOR=262144]="PARTS_COLOR",N[N.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",N[N.SIZE_X=1048576]="SIZE_X",N[N.SIZE_Y=2097152]="SIZE_Y",N[N.U_MOVE=4194304]="U_MOVE",N[N.V_MOVE=8388608]="V_MOVE",N[N.UV_ROTATION=16777216]="UV_ROTATION",N[N.U_SCALE=33554432]="U_SCALE",N[N.V_SCALE=67108864]="V_SCALE",N[N.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",N[N.MASK=268435456]="MASK",N[N.PRIORITY=536870912]="PRIORITY",N[N.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",N[N.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",N))(it||{}),Ue=(N=>(N[N.MESHDATA=1]="MESHDATA",N))(Ue||{});class Ft{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsProjectData(t,e){return(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,e){return t.setPosition(t.position()+kt),(e||new Ft).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}cells(t,e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new xe).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,e){const a=this.bb.__offset(this.bb_pos,14);return a?(e||new Qt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,e){const a=this.bb.__offset(this.bb_pos,16);return a?(e||new Nt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+a)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,e){t.addFieldInt32(0,e,0)}static addVersion(t,e){t.addFieldInt32(1,e,0)}static addFlags(t,e){t.addFieldInt32(2,e,0)}static addImageBaseDir(t,e){t.addFieldOffset(3,e,0)}static addCells(t,e){t.addFieldOffset(4,e,0)}static createCellsVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startCellsVector(t,e){t.startVector(4,e,4)}static addAnimePacks(t,e){t.addFieldOffset(5,e,0)}static createAnimePacksVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startAnimePacksVector(t,e){t.startVector(4,e,4)}static addEffectFileList(t,e){t.addFieldOffset(6,e,0)}static createEffectFileListVector(t,e){t.startVector(4,e.length,4);for(let a=e.length-1;a>=0;a--)t.addOffset(e[a]);return t.endVector()}static startEffectFileListVector(t,e){t.startVector(4,e,4)}static addNumCells(t,e){t.addFieldInt16(7,e,0)}static addNumAnimePacks(t,e){t.addFieldInt16(8,e,0)}static addNumEffectFileList(t,e){t.addFieldInt16(9,e,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,e){t.finish(e,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,e){t.finish(e,"SSFB",!0)}static createProjectData(t,e,a,s,h,n,f,r,u,p,c){return Ft.startProjectData(t),Ft.addDataId(t,e),Ft.addVersion(t,a),Ft.addFlags(t,s),Ft.addImageBaseDir(t,h),Ft.addCells(t,n),Ft.addAnimePacks(t,f),Ft.addEffectFileList(t,r),Ft.addNumCells(t,u),Ft.addNumAnimePacks(t,p),Ft.addNumEffectFileList(t,c),Ft.endProjectData(t)}}class He{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,e){return t.prep(4,4),t.writeInt32(e),t.offset()}}class Be{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,e,a){return t.prep(4,8),t.writeInt32(a),t.writeInt32(e),t.offset()}}class we{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,e,a,s,h){return t.prep(4,16),t.writeInt32(h),t.writeInt32(s),t.writeInt32(a),t.writeInt32(e),t.offset()}}class $t{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsuserDataString(t,e){return(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,e){return t.setPosition(t.position()+kt),(e||new $t).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,e){t.addFieldInt32(0,e,0)}static addData(t,e){t.addFieldOffset(1,e,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,e,a){return $t.startuserDataString(t),$t.addLength(t,e),$t.addData(t,a),$t.enduserDataString(t)}}class Ve{constructor(t,e,a,s,h,n,f){if(typeof t=="string"){let r=t,u=e,p=a!==void 0?a:0,c=s!==void 0?s:0,g=h!==void 0?h:null,m=n!==void 0?n:null,C=f!==void 0?f:null;this.ssfbPath=r;const I=r.lastIndexOf("/");this.rootPath=r.substring(0,I)+"/",this.status="not ready",this.onComplete=u,this.onError=g,this.onTimeout=m,this.onRetry=C,this.LoadFlatBuffersProject(r,p,c)}else if(typeof t=="object"&&t.constructor===Uint8Array){let r=t,u=e;this.onComplete=a!==void 0?a:null,this.load(r,u)}}LoadFlatBuffersProject(t,e=0,a=0){const s=this,h=new XMLHttpRequest,n="GET";h.open(n,t,!0),h.responseType="arraybuffer",h.timeout=e,h.onload=function(){if(!(h.status>=200&&h.status<400)){s.onError!==null&&s.onError(t,e,a,h);return}const f=this.response,r=new Uint8Array(f),u=new ye(r);s.fbObj=Ft.getRootAsProjectData(u),s.LoadCellResources()},h.ontimeout=function(){a>0?(s.onRetry!==null&&s.onRetry(t,e,a-1,h),s.LoadFlatBuffersProject(t,e,a-1)):s.onTimeout!==null&&s.onTimeout(t,e,a,h)},h.onerror=function(){s.onError!==null&&s.onError(t,e,a,h)},h.send(null)}LoadCellResources(){const t=this;let e=new Te.Loader,a=[];for(let s=0;s<t.fbObj.cellsLength();s++)a.some(function(h){return h===t.fbObj.cells(s).cellMap().index()})||(a.push(t.fbObj.cells(s).cellMap().index()),e.add(t.fbObj.cells(s).cellMap().name(),t.rootPath+this.fbObj.cells(s).cellMap().imagePath()));e.load(function(s,h){t.resources=h,t.status="ready",t.onComplete!==null&&t.onComplete()})}load(t,e){const a=new ye(t);this.fbObj=Ft.getRootAsProjectData(a);const s=new Te.Loader;for(let n in e){const f=e[n];let r="";const u=f.byteLength;for(let c=0;c<u;c++)r+=String.fromCharCode(f[c]);const p="data:image/png;base64,"+window.btoa(r);s.add(n,p)}const h=this;s.load((n,f)=>{h.resources=f,h.status="ready",h.onComplete!==null&&h.onComplete()})}}class Ke{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class qt extends Ee.Container{constructor(t,e=null,a=null){super(),this.animation=[],this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this.parts=-1,this.parentIndex=[],this.prio2index=[],this.userData=[],this.frameDataCache={},this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[],this.parentAlpha=1,this.prevCellID=[],this.prevMesh=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),this.defaultColorFilter=new Ne.ColorMatrixFilter,this._instancePos=new Float32Array(5),this._CoordinateGetDiagonalIntersectionVec2=new Float32Array(2),this.ss6project=t,this.fbObj=this.ss6project.fbObj,this.resources=this.ss6project.resources,this.parentAlpha=1,e!==null&&a!==null&&this.Setup(e,a),this.on("added",(...s)=>{Oe.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...s)=>{Oe.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this.curAnimation.endFrames()}get totalFrame(){return this.curAnimation.totalFrames()}get fps(){return this.curAnimation.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}Setup(t,e){this.clearCaches();const a=this.fbObj.animePacksLength();for(let s=0;s<a;s++)if(this.fbObj.animePacks(s).name()===t){let h;const n=this.fbObj.animePacks(s).animationsLength();for(h=0;h<n;h++)if(this.fbObj.animePacks(s).animations(h).name()===e){this.animation=[s,h],this.curAnimePackName=t,this.curAnimeName=e,this.curAnimePackData=this.fbObj.animePacks(this.animation[0]),this.curAnimation=this.curAnimePackData.animations(this.animation[1]);break}const f=this.curAnimation.defaultDataLength();for(let u=0;u<f;u++){const p=this.curAnimation.defaultData(u);this.defaultFrameMap[p.index()]=p}this.parts=s;const r=this.fbObj.animePacks(this.parts).partsLength();for(this.parentIndex=new Array(r),this.prevCellID=new Array(r),this.prevMesh=new Array(r),this.substituteOverWrite=new Array(r),this.substituteKeyParam=new Array(r),h=0;h<r;h++){const u=this.fbObj.animePacks(this.parts).parts(h).index();this.parentIndex[u]=this.fbObj.animePacks(s).parts(h).parentIndex(),this.prevCellID[u]=-1,this.prevMesh[u]=null,this.substituteOverWrite[u]=null,this.substituteKeyParam[u]=null}}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.curAnimation.startFrames(),this._endFrame=this.curAnimation.endFrames(),this._currentFrame=this.curAnimation.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.curAnimation.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.prio2index=[],this.userData=[],this.frameDataCache=[],this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[]}Update(t){this.UpdateInternal(t)}UpdateInternal(t,e=!0){const a=Oe.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=a,this.nextFrameTime>=this.updateInterval){let h=!1;const n=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*n;let f=this.skipEnabled?n*this.playDirection:this.playDirection,r=this._currentFrame+f,u=Math.floor(r),p=r-u,c=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let g=u-c;g;g--){let m=c+1;if(m>this._endFrame)if(this._loops===-1)m=this._startFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,m=e?this._startFrame:this._endFrame;break}else m=this._startFrame;c=m,this._isPlaying&&this.HaveUserData(c)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(c))}if(this.playDirection<=-1)for(let g=c-u;g;g--){let m=c-1;if(m<this._startFrame)if(this._loops===-1)m=this._endFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,m=e?this._endFrame:this._startFrame;break}else m=this._endFrame;c=m,this._isPlaying&&this.HaveUserData(c)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(c))}this._currentFrame=c+p,h&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),n)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,e=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=e)}SetAnimationSpeed(t,e=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.curAnimation.fps()*t*this.playDirection),this.skipEnabled=e)}SetAnimationSection(t=-1,e=-1,a=-1){t>=0&&t<this.curAnimation.totalFrames()&&(this._startFrame=t),e>=0&&e<this.curAnimation.totalFrames()&&(this._endFrame=e),a>0?this._loops=a:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let e=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(e=t),this._currentFrame=e,this.resetLiveFrame();const a=Math.floor(this._currentFrame);this.SetFrameAnimation(a),this.HaveUserData(a)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(a))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),e=this.endFrame;t!==e&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}HaveUserData(t){if(this.userData[t]===-1)return!1;if(this.userData[t])return!0;for(let e=0;e<this.curAnimation.userDataLength();e++)if(t===this.curAnimation.userData(e).frameIndex())return this.userData[t]=this.curAnimation.userData(e),!0;return this.userData[t]=-1,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const e=this.userData[t],a=e.dataLength();let s=0,h=[];for(let n=0;n<a;n++){const f=e.data(n).flags(),r=e.data(n).arrayIndex();let u=null,p=null,c=null,g=null,m=null,C=null,I=null,v=null,o=null;f&1&&(u=e.data(n).data(s,new He).integer(),s++),f&2&&(p=e.data(n).data(s,new we).x(),c=e.data(n).data(s,new we).y(),g=e.data(n).data(s,new we).w(),m=e.data(n).data(s,new we).h(),s++),f&4&&(C=e.data(n).data(s,new Be).x(),I=e.data(n).data(s,new Be).y(),s++),f&8&&(v=e.data(n).data(s,new $t).length(),o=e.data(n).data(s,new $t).data(),s++),h.push([r,f,u,p,c,g,m,C,I,v,o])}return h}GetPartsBlendMode(){const t=this.fbObj.animePacks(this.parts).partsLength();let e=[];const a=this.fbObj.animePacks(this.parts);for(let s=0;s<t;s++){const h=a.parts(s).alphaBlendType();let n;switch(h){case 0:n=zt.BLEND_MODES.NORMAL;break;case 1:n=zt.BLEND_MODES.MULTIPLY;break;case 2:n=zt.BLEND_MODES.ADD;break;case 3:n=zt.BLEND_MODES.NORMAL;break;case 4:n=zt.BLEND_MODES.MULTIPLY;break;case 5:n=zt.BLEND_MODES.SCREEN;break;case 6:n=zt.BLEND_MODES.EXCLUSION;break;case 7:n=zt.BLEND_MODES.NORMAL;break;default:n=zt.BLEND_MODES.NORMAL;break}e.push(n)}return e}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const e=this.curAnimation.defaultDataLength();let a=new Array(e);this.prio2index=new Array(e);const s=this.curAnimation.frameData(t);for(let h=0;h<e;h++){const n=s.states(h),f=n.index();let r=n.flag1(),u=n.flag2(),p=-1,c=this.GetDefaultDataByIndex(f);c.flag1=r,c.flag2=u;let g=0;if(r&it.INVISIBLE&&(c.f_hide=!0),r&it.FLIP_H&&(c.f_flipH=!0),r&it.FLIP_V&&(c.f_flipV=!0),r&it.CELL_INDEX&&(c.cellIndex=n.data(g++)),r&it.POSITION_X&&(c.positionX=this.I2F(n.data(g++))),r&it.POSITION_Y&&(c.positionY=this.I2F(n.data(g++))),r&it.POSITION_Z&&g++,r&it.PIVOT_X&&(c.pivotX=this.I2F(n.data(g++))),r&it.PIVOT_Y&&(c.pivotY=this.I2F(n.data(g++))),r&it.ROTATIONX&&g++,r&it.ROTATIONY&&g++,r&it.ROTATIONZ&&(c.rotationZ=this.I2F(n.data(g++))),r&it.SCALE_X&&(c.scaleX=this.I2F(n.data(g++))),r&it.SCALE_Y&&(c.scaleY=this.I2F(n.data(g++))),r&it.LOCALSCALE_X&&(c.localscaleX=this.I2F(n.data(g++))),r&it.LOCALSCALE_Y&&(c.localscaleY=this.I2F(n.data(g++))),r&it.OPACITY&&(c.opacity=n.data(g++)),r&it.LOCALOPACITY&&(c.localopacity=n.data(g++)),r&it.SIZE_X&&(c.size_X=this.I2F(n.data(g++))),r&it.SIZE_Y&&(c.size_Y=this.I2F(n.data(g++))),r&it.U_MOVE&&(c.uv_move_X=this.I2F(n.data(g++))),r&it.V_MOVE&&(c.uv_move_Y=this.I2F(n.data(g++))),r&it.UV_ROTATION&&(c.uv_rotation=this.I2F(n.data(g++))),r&it.U_SCALE&&(c.uv_scale_X=this.I2F(n.data(g++))),r&it.V_SCALE&&(c.uv_scale_Y=this.I2F(n.data(g++))),r&it.BOUNDINGRADIUS&&g++,r&it.MASK&&(c.masklimen=n.data(g++)),r&it.PRIORITY&&(c.priority=n.data(g++)),r&it.INSTANCE_KEYFRAME&&(c.instanceValue_curKeyframe=n.data(g++),c.instanceValue_startFrame=n.data(g++),c.instanceValue_endFrame=n.data(g++),c.instanceValue_loopNum=n.data(g++),c.instanceValue_speed=this.I2F(n.data(g++)),c.instanceValue_loopflag=n.data(g++)),r&it.EFFECT_KEYFRAME&&(c.effectValue_curKeyframe=n.data(g++),c.effectValue_startTime=n.data(g++),c.effectValue_speed=this.I2F(n.data(g++)),c.effectValue_loopflag=n.data(g++)),r&it.VERTEX_TRANSFORM){c.f_mesh=!0;const m=c.i_transformVerts=n.data(g++);m&1&&(c.u00=this.I2F(n.data(g++)),c.v00=this.I2F(n.data(g++))),m&2&&(c.u01=this.I2F(n.data(g++)),c.v01=this.I2F(n.data(g++))),m&4&&(c.u10=this.I2F(n.data(g++)),c.v10=this.I2F(n.data(g++))),m&8&&(c.u11=this.I2F(n.data(g++)),c.v11=this.I2F(n.data(g++)))}if(r&it.PARTS_COLOR){const m=n.data(g++);if(p=m&255,c.useColorMatrix=p!==1,m&4096){const C=this.I2F(n.data(g++)),I=n.data(g++),v=n.data(g++),o=I<<16|v;c.partsColorARGB=o>>>0,p===1?c.tint=o&16777215:c.colorMatrix=this.GetColorMatrixFilter(p,C,o)}m&2048&&(g++,g++,g++,c.colorMatrix=this.defaultColorFilter),m&1024&&(g++,g++,g++,c.colorMatrix=this.defaultColorFilter),m&512&&(g++,g++,g++,c.colorMatrix=this.defaultColorFilter),m&256&&(g++,g++,g++,c.colorMatrix=this.defaultColorFilter)}if(u&Ue.MESHDATA){c.meshIsBind=this.curAnimation.meshsDataUV(f).uv(0),c.meshNum=this.curAnimation.meshsDataUV(f).uv(1);let m=new Float32Array(c.meshNum*3);for(let C=0;C<c.meshNum;C++){const I=this.I2F(n.data(g++)),v=this.I2F(n.data(g++)),o=this.I2F(n.data(g++));m[C*3+0]=I,m[C*3+1]=v,m[C*3+2]=o}c.meshDataPoint=m}a[f]=c,this.prio2index[h]=f,this.fbObj.animePacks(this.parts).parts(f).type()===0&&(a[f].cellIndex=-2)}return this.frameDataCache=a,this.currentCachedFrameNumber=t,a}GetColorMatrixFilter(t,e,a){const s=t.toString()+"_"+e.toString()+"_"+a.toString();if(this.colorMatrixFilterCache[s])return this.colorMatrixFilterCache[s];const h=new Ne.ColorMatrixFilter,n=((a&4278190080)>>>24)/255,f=((a&16711680)>>>16)/255,r=((a&65280)>>>8)/255,u=(a&255)/255;if(t===0){const p=1-e;h.matrix=[p,0,0,0,f*e,0,p,0,0,r*e,0,0,p,0,u*e,0,0,0,1,0]}else t===1?h.matrix=[f,0,0,0,0,0,r,0,0,0,0,0,u,0,0,0,0,0,n,0]:t===2?h.matrix=[1,0,0,0,f,0,1,0,0,r,0,0,1,0,u,0,0,0,n,0]:t===3&&(h.matrix=[1,0,0,0,-f,0,1,0,0,-r,0,0,1,0,-u,0,0,0,n,0]);return this.colorMatrixFilterCache[s]=h,h}GetDefaultDataByIndex(t){const e=this.defaultFrameMap[t];return{index:e.index(),lowflag:e.lowflag(),highflag:e.highflag(),priority:e.priority(),cellIndex:e.cellIndex(),opacity:e.opacity(),localopacity:e.localopacity(),masklimen:e.masklimen(),positionX:e.positionX(),positionY:e.positionY(),pivotX:e.pivotX(),pivotY:e.pivotY(),rotationX:e.rotationX(),rotationY:e.rotationY(),rotationZ:e.rotationZ(),scaleX:e.scaleX(),scaleY:e.scaleY(),localscaleX:e.localscaleX(),localscaleY:e.localscaleY(),size_X:e.sizeX(),size_Y:e.sizeY(),uv_move_X:e.uvMoveX(),uv_move_Y:e.uvMoveY(),uv_rotation:e.uvRotation(),uv_scale_X:e.uvScaleX(),uv_scale_Y:e.uvScaleY(),boundingRadius:e.boundingRadius(),instanceValue_curKeyframe:e.instanceValueCurKeyframe(),instanceValue_endFrame:e.instanceValueEndFrame(),instanceValue_startFrame:e.instanceValueStartFrame(),instanceValue_loopNum:e.instanceValueLoopNum(),instanceValue_speed:e.instanceValueSpeed(),instanceValue_loopflag:e.instanceValueLoopflag(),effectValue_curKeyframe:e.effectValueCurKeyframe(),effectValue_startTime:e.effectValueStartTime(),effectValue_speed:e.effectValueSpeed(),effectValue_loopflag:e.effectValueLoopflag(),f_hide:!1,f_flipH:!1,f_flipV:!1,f_mesh:!1,i_transformVerts:0,u00:0,v00:0,u01:0,v01:0,u10:0,v10:0,u11:0,v11:0,useColorMatrix:!1,colorMatrix:null,meshIsBind:0,meshNum:0,meshDataPoint:0,flag1:0,flag2:0,partsColorARGB:0}}SetFrameAnimation(t,e=0){const a=this.GetFrameData(t);this.removeChildren();const s=a.length;for(let h=0;h<s;h=h+1|0){const n=this.prio2index[h],f=a[n],r=f.cellIndex;let u=this.prevMesh[n];const p=this.fbObj.animePacks(this.parts).parts(n),c=p.type();let g=this.substituteOverWrite[n]!==null?this.substituteOverWrite[n]:!1,m=this.substituteKeyParam[n];switch(c){case wt.Instance:u==null&&(u=this.MakeCellPlayer(p.refname()),u.name=p.name());break;case wt.Normal:case wt.Mask:r>=0&&this.prevCellID[n]!==r&&(u?.destroy(),u=this.MakeCellMesh(r),u.name=p.name());break;case wt.Mesh:r>=0&&this.prevCellID[n]!==r&&(u?.destroy(),u=this.MakeMeshCellMesh(n,r),u.name=p.name());break;case wt.Nulltype:case wt.Joint:this.prevCellID[n]!==r&&(u?.destroy(),u=new Ee.Container,u.name=p.name());break;default:r>=0&&this.prevCellID[n]!==r&&(u?.destroy(),u=this.MakeCellMesh(r),u.name=p.name());break}if(u!=null)switch(this.prevCellID[n]=r,this.prevMesh[n]=u,c){case wt.Instance:{this._instancePos[0]=0,this._instancePos[1]=0,this._instancePos[2]=1,this._instancePos[3]=1,this._instancePos[4]=0,this._instancePos=this.TransformPositionLocal(this._instancePos,f.index,t),u.rotation=this._instancePos[4]*Math.PI/180,u.position.set(this._instancePos[0],this._instancePos[1]),u.scale.set(this._instancePos[2],this._instancePos[3]);let C=f.opacity/255;f.localopacity<255&&(C=f.localopacity/255),u.SetAlpha(C*this.parentAlpha),u.visible=!f.f_hide;let I=f.instanceValue_curKeyframe,v=f.instanceValue_startFrame,o=f.instanceValue_endFrame,b=f.instanceValue_speed,x=f.instanceValue_loopNum,E=!1,y=!1,k=!1,S=!1;const A=1,z=2,R=4,V=8,L=f.instanceValue_loopflag;L&A&&(E=!0),L&z&&(y=!0),L&R&&(k=!0),L&V&&(S=!0),g&&(v=m.refStartframe,o=m.refEndframe,b=m.refSpeed,x=m.refloopNum,E=m.infinity,y=m.reverse,k=m.pingpong,S=m.independent);let Z=t;S===!0&&(this.liveFrame[h]+=e,Z=Math.floor(this.liveFrame[h]));const $=I;let K=Math.floor((Z-$)*b);if(K<0||$>Z)continue;const q=o-v+1;if(q<=0)continue;let G=Math.floor(K/q),j=x;k&&(j=j*2),E||G>=j&&(K=q-1,G=j-1);const et=Math.floor(K%q);let st=0;k&&G%2===1&&(y?y=!1:y=!0),this.playDirection<=-1&&(y=!y),y?st=o-et:st=et+v,u.SetFrame(Math.floor(st)),this.addChild(u);break}case wt.Normal:case wt.Mesh:case wt.Joint:case wt.Mask:{const C=this.fbObj.cells(r);let I;if(c===wt.Mesh?f.meshIsBind===0?I=this.TransformMeshVertsLocal(qt.GetMeshVerts(C,f,u.vertices),f.index,t):I=qt.GetMeshVerts(C,f,u.vertices):(I=c===wt.Joint?new Float32Array(10):u.vertices,I=this.TransformVertsLocal(qt.GetVerts(C,f,I),f.index,t)),f.flag1&it.VERTEX_TRANSFORM){const E=I[6],y=I[3*2+1],k=I[1*2+0],S=I[1*2+1],A=I[4*2+0],z=I[4*2+1],R=I[2*2+0],V=I[2*2+1],L=(E+A)*.5,Z=(y+z)*.5,$=(E+k)*.5,K=(y+S)*.5,q=(k+R)*.5,G=(S+V)*.5,j=(A+R)*.5,et=(z+V)*.5,st=qt.CoordinateGetDiagonalIntersection(I[0],I[1],L,Z,j,et,$,K,q,G,this._CoordinateGetDiagonalIntersectionVec2);I[0]=st[0],I[1]=st[1]}const v=I[0],o=I[1];for(let E=0;E<I.length/2;E++)I[E*2]-=v,I[E*2+1]-=o;if(u.vertices=I,f.flag1&it.U_MOVE||f.flag1&it.V_MOVE||f.flag1&it.U_SCALE||f.flag1&it.V_SCALE||f.flag1&it.UV_ROTATION){const E=C.u1()+f.uv_move_X,y=C.u2()+f.uv_move_X,k=C.v1()+f.uv_move_Y,S=C.v2()+f.uv_move_Y,A=(y+E)/2,z=(S+k)/2,R=(y-E)/2*f.uv_scale_X,V=(S-k)/2*f.uv_scale_Y;if(u.uvs[0]=A,u.uvs[1]=z,u.uvs[2]=A-R,u.uvs[3]=z-V,u.uvs[4]=A+R,u.uvs[5]=z-V,u.uvs[6]=A-R,u.uvs[7]=z+V,u.uvs[8]=A+R,u.uvs[9]=z+V,f.flag1&it.UV_ROTATION){const L=f.uv_rotation*Math.PI/180;for(let Z=0;Z<5;Z++){const $=u.uvs[Z*2+0]-A,K=u.uvs[Z*2+1]-z,q=Math.cos(L),G=Math.sin(L),j=q*$-G*K,et=G*$+q*K;u.uvs[Z*2+0]=A+j,u.uvs[Z*2+1]=z+et}}u.dirty++}u.position.set(v,o);let b=f.opacity/255;if(f.localopacity<255&&(b=f.localopacity/255),u.alpha=b*this.parentAlpha,u.visible=!f.f_hide,f.useColorMatrix&&(u.filters=[f.colorMatrix]),f.tint){u.tint=f.tint;const E=((f.partsColorARGB&4278190080)>>>24)/255;u.alpha=u.alpha*E}f.tintRgb&&(u.tintRgb=f.tintRgb);const x=this.alphaBlendType[n];(x===zt.BLEND_MODES.MULTIPLY||x===zt.BLEND_MODES.SCREEN)&&(u.alpha=1),c!==wt.Mask&&this.addChild(u);break}case wt.Nulltype:{const C=this.InheritOpacity(1,f.index,t);u.alpha=C*f.localopacity/255;const I=this.TransformVerts(qt.GetDummyVerts(),f.index,t),v=I[0],o=I[1];u.position.set(v,o);const b=Math.atan2(I[5]-I[3],I[4]-I[2]),x=Math.atan2(I[7]-I[3],I[6]-I[2]);u.rotation=b,u.skew.x=x-b-Math.PI/2;break}}}}ChangeInstanceAnime(t,e,a,s,h=null){let n=!1;if(this.curAnimePackName!==null&&this.curAnimation!==null){let f=this.curAnimePackData,r=f.partsLength();for(let u=0;u<r;u++){let p=f.parts(u);if(p.name()===t){let c=this.prevMesh[u];if(c===null||c instanceof qt){let g;h!==null?(g=h,c=this.MakeCellPlayer(e+"/"+a,h.refStartframe)):(c=this.MakeCellPlayer(e+"/"+a),g=new Ke,g.refStartframe=c.startFrame,g.refEndframe=c.endFrame),c.name=p.name(),this.prevMesh[u]=c,this.substituteKeyParam[u]=g,n=!0;break}}}}return n}InheritOpacity(t,e,a){return t=this.GetFrameData(a)[e].opacity/255,this.parentIndex[e]>=0&&(t=this.InheritOpacity(t,this.parentIndex[e],a)),t}TransformVertsLocal(t,e,a){const s=this.GetFrameData(a)[e],h=-s.rotationZ*Math.PI/180,n=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];s.i_transformVerts&1&&r===1&&(u+=s.u00,p-=s.v00),s.i_transformVerts&2&&r===2&&(u+=s.u01,p-=s.v01),s.i_transformVerts&4&&r===3&&(u+=s.u10,p-=s.v10),s.i_transformVerts&8&&r===4&&(u+=s.u11,p-=s.v11),u*=s.scaleX*s.localscaleX,p*=s.scaleY*s.localscaleY,t[r*2]=n*u-f*p+s.positionX,t[r*2+1]=f*u+n*p-s.positionY,s.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),s.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformMeshVertsLocal(t,e,a){const s=this.GetFrameData(a)[e],h=-s.rotationZ*Math.PI/180,n=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];u*=s.scaleX*s.localscaleX,p*=s.scaleY*s.localscaleY,t[r*2]=n*u-f*p+s.positionX,t[r*2+1]=f*u+n*p-s.positionY}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformPositionLocal(t,e,a){const s=this.GetFrameData(a)[e];t[4]+=-s.rotationZ;const h=-s.rotationZ*Math.PI/180,n=Math.cos(h),f=Math.sin(h),r=t[0]*s.scaleX*s.localscaleX,u=t[1]*s.scaleY*s.localscaleY;return t[2]*=s.scaleX*s.localscaleX,t[3]*=s.scaleY*s.localscaleY,t[0]=n*r-f*u+s.positionX,t[1]=f*r+n*u-s.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],a)),t}static CoordinateGetDiagonalIntersection(t,e,a,s,h,n,f,r,u,p,c){const g=(r-n)*(f-a)-(f-h)*(r-s),m=(u-a)*(r-s)-(p-s)*(f-a),C=(u-a)*(r-n)-(p-s)*(f-h);if(C<=0&&C>=0)return c;const I=g/C,v=m/C;return 0<=I&&1>=I&&0<=v&&1>=v&&(t=a+I*(u-a),e=s+I*(p-s)),c[0]=t,c[1]=e,c}TransformVerts(t,e,a){const s=this.GetFrameData(a)[e],h=-s.rotationZ*Math.PI/180,n=Math.cos(h),f=Math.sin(h);for(let r=0;r<t.length/2;r++){let u=t[r*2],p=t[r*2+1];u*=s.scaleX,p*=s.scaleY,t[r*2]=n*u-f*p+s.positionX,t[r*2+1]=f*u+n*p-s.positionY,s.f_flipH&&(t[r*2]=t[0]*2-t[r*2]),s.f_flipV&&(t[r*2+1]=t[1]*2-t[r*2+1])}return this.parentIndex[e]>=0&&(t=this.TransformVerts(t,this.parentIndex[e],a)),t}TransformPosition(t,e,a){const s=this.GetFrameData(a)[e];t[4]+=-s.rotationZ;const h=-s.rotationZ*Math.PI/180,n=Math.cos(h),f=Math.sin(h),r=t[0]*s.scaleX,u=t[1]*s.scaleY;return t[2]*=s.scaleX,t[3]*=s.scaleY,t[0]=n*r-f*u+s.positionX,t[1]=f*r+n*u-s.positionY,this.parentIndex[e]>=0&&(t=this.TransformPosition(t,this.parentIndex[e],a)),t}MakeCellMesh(t){const e=this.fbObj.cells(t),a=e.u1(),s=e.u2(),h=e.v1(),n=e.v2(),f=e.width()/2,r=e.height()/2,u=new Float32Array([0,0,-f,-r,f,-r,-f,r,f,r]),p=new Float32Array([(a+s)/2,(h+n)/2,a,h,s,h,a,n,s,n]),c=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new Pe.SimpleMesh(this.resources[e.cellMap().name()].texture,u,p,c,zt.DRAW_MODES.TRIANGLES)}MakeMeshCellMesh(t,e){const a=this.curAnimation.meshsDataUV(t),s=a.uvLength();if(s>0){const h=new Float32Array(s-2),n=a.uv(1);for(let c=2;c<s;c++)h[c-2]=a.uv(c);const f=this.curAnimation.meshsDataIndices(t),r=f.indicesLength(),u=new Uint16Array(r-1);for(let c=1;c<r;c++)u[c-1]=f.indices(c);const p=new Float32Array(n*2);return new Pe.SimpleMesh(this.resources[this.fbObj.cells(e).cellMap().name()].texture,p,h,u,zt.DRAW_MODES.TRIANGLES)}return null}MakeCellPlayer(t,e=void 0){const a=t.split("/"),s=new qt(this.ss6project);return s.Setup(a[0],a[1]),s.Play(e),s}static GetVerts(t,e,a){const s=e.size_X/2,h=e.size_Y/2,n=e.size_X*-(e.pivotX+t.pivotX()),f=e.size_Y*(e.pivotY+t.pivotY());return a.set([n,f,n-s,f-h,n+s,f-h,n-s,f+h,n+s,f+h]),a}static GetMeshVerts(t,e,a){for(let s=0;s<e.meshNum;s++)a[s*2]=e.meshDataPoint[s*3],a[s*2+1]=-e.meshDataPoint[s*3+1];return a}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}resetLiveFrame(){const t=this.curAnimation.defaultDataLength();for(let e=0;e<t;e++)this.liveFrame[e]=0}}class Ge extends qt{constructor(t){super(t.projectData),this.currentAnimationFrameDataMap=null,this.ssWebPlayer=t,this.skipEnabled=!1}get onUpdateCallback(){return this.ssWebPlayer.onUpdateCallback}get onPlayStateChangeCallback(){return this.ssWebPlayer.onPlayStateChangeCallback}Setup(t,e){super.Setup(t,e);let a=this;this.playEndCallback=s=>{a.ssWebPlayer&&a.ssWebPlayer.playEndCallback&&a.ssWebPlayer.playEndCallback(a)},this.onUserDataCallback=s=>{a.ssWebPlayer&&a.ssWebPlayer.onUpdateCallback&&a.ssWebPlayer.onUpdateCallback(a)},this.setupCurrentAnimationFrameDataMap()}getCurrentAnimationFrameDataMap(){return this.currentAnimationFrameDataMap}setupCurrentAnimationFrameDataMap(){const t=this.curAnimation;let e={};const a=t.userDataLength();for(let s=0;s<a;s++){const n=t.userData(s).frameIndex();let f=e[n];f==null&&(f={});const r=this.GetUserData(n);let u={};const p=r.length;for(let c=0;c<p;c++){const g=r[c],m=g[0],I=this.curAnimePackData.parts(m).name();g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9];const v=g[10];u[I]={string:v}}f.userData=u,e[n]=f}this.currentAnimationFrameDataMap=e}Play(){this.loop=this.ssWebPlayer.infinityFlag?-1:1,super.Play(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Pause(){super.Pause(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Stop(){super.Stop(),this.onPlayStateChangeCallback!==null&&this.onPlayStateChangeCallback(this.isPlaying,this.isPausing)}Update(t){this.UpdateInternal(t,!1),this.isPlaying&&!this.isPausing&&this.onUpdateCallback!==null&&this.onUpdateCallback(this)}SetFrame(t){super.SetFrame(t),this.SetFrameAnimation(t),this.onUpdateCallback!==null&&this.onUpdateCallback(this)}}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var je={exports:{}};/*!

  JSZip v3.9.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>

  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/master/LICENSE
  */(function(N,t){(function(e){N.exports=e()})(function(){return function e(a,s,h){function n(u,p){if(!s[u]){if(!a[u]){var c=typeof Ie=="function"&&Ie;if(!p&&c)return c(u,!0);if(f)return f(u,!0);var g=new Error("Cannot find module '"+u+"'");throw g.code="MODULE_NOT_FOUND",g}var m=s[u]={exports:{}};a[u][0].call(m.exports,function(C){var I=a[u][1][C];return n(I||C)},m,m.exports,e,a,s,h)}return s[u].exports}for(var f=typeof Ie=="function"&&Ie,r=0;r<h.length;r++)n(h[r]);return n}({1:[function(e,a,s){var h=e("./utils"),n=e("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(r){for(var u=[],p,c,g,m,C,I,v,o=0,b=r.length,x=b,E=h.getTypeOf(r)!=="string";o<r.length;)x=b-o,E?(p=r[o++],c=o<b?r[o++]:0,g=o<b?r[o++]:0):(p=r.charCodeAt(o++),c=o<b?r.charCodeAt(o++):0,g=o<b?r.charCodeAt(o++):0),m=p>>2,C=(p&3)<<4|c>>4,I=x>1?(c&15)<<2|g>>6:64,v=x>2?g&63:64,u.push(f.charAt(m)+f.charAt(C)+f.charAt(I)+f.charAt(v));return u.join("")},s.decode=function(r){var u,p,c,g,m,C,I,v=0,o=0,b="data:";if(r.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");var x=r.length*3/4;if(r.charAt(r.length-1)===f.charAt(64)&&x--,r.charAt(r.length-2)===f.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var E;for(n.uint8array?E=new Uint8Array(x|0):E=new Array(x|0);v<r.length;)g=f.indexOf(r.charAt(v++)),m=f.indexOf(r.charAt(v++)),C=f.indexOf(r.charAt(v++)),I=f.indexOf(r.charAt(v++)),u=g<<2|m>>4,p=(m&15)<<4|C>>2,c=(C&3)<<6|I,E[o++]=u,C!==64&&(E[o++]=p),I!==64&&(E[o++]=c);return E}},{"./support":30,"./utils":32}],2:[function(e,a,s){var h=e("./external"),n=e("./stream/DataWorker"),f=e("./stream/Crc32Probe"),r=e("./stream/DataLengthProbe");function u(p,c,g,m,C){this.compressedSize=p,this.uncompressedSize=c,this.crc32=g,this.compression=m,this.compressedContent=C}u.prototype={getContentWorker:function(){var p=new n(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),c=this;return p.on("end",function(){if(this.streamInfo.data_length!==c.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new n(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(p,c,g){return p.pipe(new f).pipe(new r("uncompressedSize")).pipe(c.compressWorker(g)).pipe(new r("compressedSize")).withStreamInfo("compression",c)},a.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,a,s){var h=e("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(n){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},s.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,a,s){var h=e("./utils");function n(){for(var p,c=[],g=0;g<256;g++){p=g;for(var m=0;m<8;m++)p=p&1?3988292384^p>>>1:p>>>1;c[g]=p}return c}var f=n();function r(p,c,g,m){var C=f,I=m+g;p=p^-1;for(var v=m;v<I;v++)p=p>>>8^C[(p^c[v])&255];return p^-1}function u(p,c,g,m){var C=f,I=m+g;p=p^-1;for(var v=m;v<I;v++)p=p>>>8^C[(p^c.charCodeAt(v))&255];return p^-1}a.exports=function(c,g){if(typeof c>"u"||!c.length)return 0;var m=h.getTypeOf(c)!=="string";return m?r(g|0,c,c.length,0):u(g|0,c,c.length,0)}},{"./utils":32}],5:[function(e,a,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(e,a,s){var h=null;typeof Promise<"u"?h=Promise:h=e("lie"),a.exports={Promise:h}},{lie:37}],7:[function(e,a,s){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=e("pako"),f=e("./utils"),r=e("./stream/GenericWorker"),u=h?"uint8array":"array";s.magic="\b\0";function p(c,g){r.call(this,"FlateWorker/"+c),this._pako=null,this._pakoAction=c,this._pakoOptions=g,this.meta={}}f.inherits(p,r),p.prototype.processChunk=function(c){this.meta=c.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(u,c.data),!1)},p.prototype.flush=function(){r.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var c=this;this._pako.onData=function(g){c.push({data:g,meta:c.meta})}},s.compressWorker=function(c){return new p("Deflate",c)},s.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,a,s){var h=e("../utils"),n=e("../stream/GenericWorker"),f=e("../utf8"),r=e("../crc32"),u=e("../signature"),p=function(o,b){var x="",E;for(E=0;E<b;E++)x+=String.fromCharCode(o&255),o=o>>>8;return x},c=function(o,b){var x=o;return o||(x=b?16893:33204),(x&65535)<<16},g=function(o,b){return(o||0)&63},m=function(o,b,x,E,y,k){var S=o.file,A=o.compression,z=k!==f.utf8encode,R=h.transformTo("string",k(S.name)),V=h.transformTo("string",f.utf8encode(S.name)),L=S.comment,Z=h.transformTo("string",k(L)),$=h.transformTo("string",f.utf8encode(L)),K=V.length!==S.name.length,q=$.length!==L.length,G,j,et="",st="",pt="",J=S.dir,lt=S.date,ft={crc32:0,compressedSize:0,uncompressedSize:0};(!b||x)&&(ft.crc32=o.crc32,ft.compressedSize=o.compressedSize,ft.uncompressedSize=o.uncompressedSize);var Ot=0;b&&(Ot|=8),!z&&(K||q)&&(Ot|=2048);var It=0,mt=0;J&&(It|=16),y==="UNIX"?(mt=798,It|=c(S.unixPermissions,J)):(mt=20,It|=g(S.dosPermissions)),G=lt.getUTCHours(),G=G<<6,G=G|lt.getUTCMinutes(),G=G<<5,G=G|lt.getUTCSeconds()/2,j=lt.getUTCFullYear()-1980,j=j<<4,j=j|lt.getUTCMonth()+1,j=j<<5,j=j|lt.getUTCDate(),K&&(st=p(1,1)+p(r(R),4)+V,et+="up"+p(st.length,2)+st),q&&(pt=p(1,1)+p(r(Z),4)+$,et+="uc"+p(pt.length,2)+pt);var at="";at+=`
\0`,at+=p(Ot,2),at+=A.magic,at+=p(G,2),at+=p(j,2),at+=p(ft.crc32,4),at+=p(ft.compressedSize,4),at+=p(ft.uncompressedSize,4),at+=p(R.length,2),at+=p(et.length,2);var St=u.LOCAL_FILE_HEADER+at+R+et,gt=u.CENTRAL_FILE_HEADER+p(mt,2)+at+p(Z.length,2)+"\0\0\0\0"+p(It,4)+p(E,4)+R+et+Z;return{fileRecord:St,dirRecord:gt}},C=function(o,b,x,E,y){var k="",S=h.transformTo("string",y(E));return k=u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(o,2)+p(o,2)+p(b,4)+p(x,4)+p(S.length,2)+S,k},I=function(o){var b="";return b=u.DATA_DESCRIPTOR+p(o.crc32,4)+p(o.compressedSize,4)+p(o.uncompressedSize,4),b};function v(o,b,x,E){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=x,this.encodeFileName=E,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(v,n),v.prototype.push=function(o){var b=o.meta.percent||0,x=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,n.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:x?(b+100*(x-E-1))/x:100}}))},v.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var b=this.streamFiles&&!o.file.dir;if(b){var x=m(o,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(o){this.accumulate=!1;var b=this.streamFiles&&!o.file.dir,x=m(o,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),b)this.push({data:I(o),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var o=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var x=this.bytesWritten-o,E=C(this.dirRecords.length,x,o,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(o){this._sources.push(o);var b=this;return o.on("data",function(x){b.processChunk(x)}),o.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),o.on("error",function(x){b.error(x)}),this},v.prototype.resume=function(){if(!n.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},v.prototype.error=function(o){var b=this._sources;if(!n.prototype.error.call(this,o))return!1;for(var x=0;x<b.length;x++)try{b[x].error(o)}catch{}return!0},v.prototype.lock=function(){n.prototype.lock.call(this);for(var o=this._sources,b=0;b<o.length;b++)o[b].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,a,s){var h=e("../compressions"),n=e("./ZipFileWorker"),f=function(r,u){var p=r||u,c=h[p];if(!c)throw new Error(p+" is not a valid compression method !");return c};s.generateWorker=function(r,u,p){var c=new n(u.streamFiles,p,u.platform,u.encodeFileName),g=0;try{r.forEach(function(m,C){g++;var I=f(C.options.compression,u.compression),v=C.options.compressionOptions||u.compressionOptions||{},o=C.dir,b=C.date;C._compressWorker(I,v).withStreamInfo("file",{name:m,dir:o,date:b,comment:C.comment||"",unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions}).pipe(c)}),c.entriesCount=g}catch(m){c.error(m)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,a,s){function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new h;for(var f in this)typeof this[f]!="function"&&(n[f]=this[f]);return n}}h.prototype=e("./object"),h.prototype.loadAsync=e("./load"),h.support=e("./support"),h.defaults=e("./defaults"),h.version="3.9.1",h.loadAsync=function(n,f){return new h().loadAsync(n,f)},h.external=e("./external"),a.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,a,s){var h=e("./utils"),n=e("./external"),f=e("./utf8"),r=e("./zipEntries"),u=e("./stream/Crc32Probe"),p=e("./nodejsUtils");function c(g){return new n.Promise(function(m,C){var I=g.decompressed.getContentWorker().pipe(new u);I.on("error",function(v){C(v)}).on("end",function(){I.streamInfo.crc32!==g.decompressed.crc32?C(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}a.exports=function(g,m){var C=this;return m=h.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),p.isNode&&p.isStream(g)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",g,!0,m.optimizedBinaryString,m.base64).then(function(I){var v=new r(m);return v.load(I),v}).then(function(v){var o=[n.Promise.resolve(v)],b=v.files;if(m.checkCRC32)for(var x=0;x<b.length;x++)o.push(c(b[x]));return n.Promise.all(o)}).then(function(v){for(var o=v.shift(),b=o.files,x=0;x<b.length;x++){var E=b[x],y=E.fileNameStr,k=h.resolve(E.fileNameStr);C.file(k,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:m.createFolders}),E.dir||(C.file(k).unsafeOriginalName=y)}return o.zipComment.length&&(C.comment=o.zipComment),C})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,a,s){var h=e("../utils"),n=e("../stream/GenericWorker");function f(r,u){n.call(this,"Nodejs stream input adapter for "+r),this._upstreamEnded=!1,this._bindStream(u)}h.inherits(f,n),f.prototype._bindStream=function(r){var u=this;this._stream=r,r.pause(),r.on("data",function(p){u.push({data:p,meta:{percent:0}})}).on("error",function(p){u.isPaused?this.generatedError=p:u.error(p)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},f.prototype.pause=function(){return n.prototype.pause.call(this)?(this._stream.pause(),!0):!1},f.prototype.resume=function(){return n.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},a.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,a,s){var h=e("readable-stream").Readable,n=e("../utils");n.inherits(f,h);function f(r,u,p){h.call(this,u),this._helper=r;var c=this;r.on("data",function(g,m){c.push(g)||c._helper.pause(),p&&p(m)}).on("error",function(g){c.emit("error",g)}).on("end",function(){c.push(null)})}f.prototype._read=function(){this._helper.resume()},a.exports=f},{"../utils":32,"readable-stream":16}],14:[function(e,a,s){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,n);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new Buffer(h,n)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var n=new Buffer(h);return n.fill(0),n},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(e,a,s){var h=e("./utf8"),n=e("./utils"),f=e("./stream/GenericWorker"),r=e("./stream/StreamHelper"),u=e("./defaults"),p=e("./compressedObject"),c=e("./zipObject"),g=e("./generate"),m=e("./nodejsUtils"),C=e("./nodejs/NodejsStreamInputAdapter"),I=function(y,k,S){var A=n.getTypeOf(k),z,R=n.extend(S||{},u);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&R.unixPermissions&16384&&(R.dir=!0),R.dosPermissions&&R.dosPermissions&16&&(R.dir=!0),R.dir&&(y=o(y)),R.createFolders&&(z=v(y))&&b.call(this,z,!0);var V=A==="string"&&R.binary===!1&&R.base64===!1;(!S||typeof S.binary>"u")&&(R.binary=!V);var L=k instanceof p&&k.uncompressedSize===0;(L||R.dir||!k||k.length===0)&&(R.base64=!1,R.binary=!0,k="",R.compression="STORE",A="string");var Z=null;k instanceof p||k instanceof f?Z=k:m.isNode&&m.isStream(k)?Z=new C(y,k):Z=n.prepareContent(y,k,R.binary,R.optimizedBinaryString,R.base64);var $=new c(y,Z,R);this.files[y]=$},v=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var k=y.lastIndexOf("/");return k>0?y.substring(0,k):""},o=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},b=function(y,k){return k=typeof k<"u"?k:u.createFolders,y=o(y),this.files[y]||I.call(this,y,null,{dir:!0,createFolders:k}),this.files[y]};function x(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var k,S,A;for(k in this.files)A=this.files[k],S=k.slice(this.root.length,k.length),S&&k.slice(0,this.root.length)===this.root&&y(S,A)},filter:function(y){var k=[];return this.forEach(function(S,A){y(S,A)&&k.push(A)}),k},file:function(y,k,S){if(arguments.length===1)if(x(y)){var A=y;return this.filter(function(R,V){return!V.dir&&A.test(R)})}else{var z=this.files[this.root+y];return z&&!z.dir?z:null}else y=this.root+y,I.call(this,y,k,S);return this},folder:function(y){if(!y)return this;if(x(y))return this.filter(function(z,R){return R.dir&&y.test(z)});var k=this.root+y,S=b.call(this,k),A=this.clone();return A.root=S.name,A},remove:function(y){y=this.root+y;var k=this.files[y];if(k||(y.slice(-1)!=="/"&&(y+="/"),k=this.files[y]),k&&!k.dir)delete this.files[y];else for(var S=this.filter(function(z,R){return R.name.slice(0,y.length)===y}),A=0;A<S.length;A++)delete this.files[S[A].name];return this},generate:function(y){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var k,S={};try{if(S=n.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),S.type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");n.checkSupport(S.type),(S.platform==="darwin"||S.platform==="freebsd"||S.platform==="linux"||S.platform==="sunos")&&(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var A=S.comment||this.comment||"";k=g.generateWorker(this,S,A)}catch(z){k=new f("error"),k.error(z)}return new r(k,S.type||"string",S.mimeType)},generateAsync:function(y,k){return this.generateInternalStream(y).accumulate(k)},generateNodeStream:function(y,k){return y=y||{},y.type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(k)}};a.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,a,s){a.exports=e("stream")},{stream:void 0}],17:[function(e,a,s){var h=e("./DataReader"),n=e("../utils");function f(r){h.call(this,r);for(var u=0;u<this.data.length;u++)r[u]=r[u]&255}n.inherits(f,h),f.prototype.byteAt=function(r){return this.data[this.zero+r]},f.prototype.lastIndexOfSignature=function(r){for(var u=r.charCodeAt(0),p=r.charCodeAt(1),c=r.charCodeAt(2),g=r.charCodeAt(3),m=this.length-4;m>=0;--m)if(this.data[m]===u&&this.data[m+1]===p&&this.data[m+2]===c&&this.data[m+3]===g)return m-this.zero;return-1},f.prototype.readAndCheckSignature=function(r){var u=r.charCodeAt(0),p=r.charCodeAt(1),c=r.charCodeAt(2),g=r.charCodeAt(3),m=this.readData(4);return u===m[0]&&p===m[1]&&c===m[2]&&g===m[3]},f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=f},{"../utils":32,"./DataReader":18}],18:[function(e,a,s){var h=e("../utils");function n(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(f){},readInt:function(f){var r=0,u;for(this.checkOffset(f),u=this.index+f-1;u>=this.index;u--)r=(r<<8)+this.byteAt(u);return this.index+=f,r},readString:function(f){return h.transformTo("string",this.readData(f))},readData:function(f){},lastIndexOfSignature:function(f){},readAndCheckSignature:function(f){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC((f>>25&127)+1980,(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(f&31)<<1))}},a.exports=n},{"../utils":32}],19:[function(e,a,s){var h=e("./Uint8ArrayReader"),n=e("../utils");function f(r){h.call(this,r)}n.inherits(f,h),f.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,a,s){var h=e("./DataReader"),n=e("../utils");function f(r){h.call(this,r)}n.inherits(f,h),f.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},f.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},f.prototype.readAndCheckSignature=function(r){var u=this.readData(4);return r===u},f.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=f},{"../utils":32,"./DataReader":18}],21:[function(e,a,s){var h=e("./ArrayReader"),n=e("../utils");function f(r){h.call(this,r)}n.inherits(f,h),f.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},a.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(e,a,s){var h=e("../utils"),n=e("../support"),f=e("./ArrayReader"),r=e("./StringReader"),u=e("./NodeBufferReader"),p=e("./Uint8ArrayReader");a.exports=function(c){var g=h.getTypeOf(c);return h.checkSupport(g),g==="string"&&!n.uint8array?new r(c):g==="nodebuffer"?new u(c):n.uint8array?new p(h.transformTo("uint8array",c)):new f(h.transformTo("array",c))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,a,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,a,s){var h=e("./GenericWorker"),n=e("../utils");function f(r){h.call(this,"ConvertWorker to "+r),this.destType=r}n.inherits(f,h),f.prototype.processChunk=function(r){this.push({data:n.transformTo(this.destType,r.data),meta:r.meta})},a.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(e,a,s){var h=e("./GenericWorker"),n=e("../crc32"),f=e("../utils");function r(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f.inherits(r,h),r.prototype.processChunk=function(u){this.streamInfo.crc32=n(u.data,this.streamInfo.crc32||0),this.push(u)},a.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,a,s){var h=e("../utils"),n=e("./GenericWorker");function f(r){n.call(this,"DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}h.inherits(f,n),f.prototype.processChunk=function(r){if(r){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+r.data.length}n.prototype.processChunk.call(this,r)},a.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(e,a,s){var h=e("../utils"),n=e("./GenericWorker"),f=16*1024;function r(u){n.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(c){p.dataIsReady=!0,p.data=c,p.max=c&&c.length||0,p.type=h.getTypeOf(c),p.isPaused||p._tickAndRepeat()},function(c){p.error(c)})}h.inherits(r,n),r.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return n.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=f,p=null,c=Math.min(this.max,this.index+u);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,c);break;case"uint8array":p=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":p=this.data.slice(this.index,c);break}return this.index=c,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(e,a,s){function h(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return this.isFinished?!1:(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,f){return this._listeners[n].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,f){if(this._listeners[n])for(var r=0;r<this._listeners[n].length;r++)this._listeners[n][r].call(this,f)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var f=this;return n.on("data",function(r){f.processChunk(r)}),n.on("end",function(){f.end()}),n.on("error",function(r){f.error(r)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var n=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,f){return this.extraStreamInfo[n]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)!this.extraStreamInfo.hasOwnProperty(n)||(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},a.exports=h},{}],29:[function(e,a,s){var h=e("../utils"),n=e("./ConvertWorker"),f=e("./GenericWorker"),r=e("../base64"),u=e("../support"),p=e("../external"),c=null;if(u.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,o,b){switch(v){case"blob":return h.newBlob(h.transformTo("arraybuffer",o),b);case"base64":return r.encode(o);default:return h.transformTo(v,o)}}function m(v,o){var b,x=0,E=null,y=0;for(b=0;b<o.length;b++)y+=o[b].length;switch(v){case"string":return o.join("");case"array":return Array.prototype.concat.apply([],o);case"uint8array":for(E=new Uint8Array(y),b=0;b<o.length;b++)E.set(o[b],x),x+=o[b].length;return E;case"nodebuffer":return Buffer.concat(o);default:throw new Error("concat : unsupported type '"+v+"'")}}function C(v,o){return new p.Promise(function(b,x){var E=[],y=v._internalType,k=v._outputType,S=v._mimeType;v.on("data",function(A,z){E.push(A),o&&o(z)}).on("error",function(A){E=[],x(A)}).on("end",function(){try{var A=g(k,m(y,E),S);b(A)}catch(z){x(z)}E=[]}).resume()})}function I(v,o,b){var x=o;switch(o){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=o,this._mimeType=b,h.checkSupport(x),this._worker=v.pipe(new n(x)),v.lock()}catch(E){this._worker=new f("error"),this._worker.error(E)}}I.prototype={accumulate:function(v){return C(this,v)},on:function(v,o){var b=this;return v==="data"?this._worker.on(v,function(x){o.call(b,x.data,x.meta)}):this._worker.on(v,function(){h.delay(o,arguments,b)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:this._outputType!=="nodebuffer"},v)}},a.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,a,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var h=new ArrayBuffer(0);try{s.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,f=new n;f.append(h),s.blob=f.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!e("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(e,a,s){for(var h=e("./utils"),n=e("./support"),f=e("./nodejsUtils"),r=e("./stream/GenericWorker"),u=new Array(256),p=0;p<256;p++)u[p]=p>=252?6:p>=248?5:p>=240?4:p>=224?3:p>=192?2:1;u[254]=u[254]=1;var c=function(v){var o,b,x,E,y,k=v.length,S=0;for(E=0;E<k;E++)b=v.charCodeAt(E),(b&64512)===55296&&E+1<k&&(x=v.charCodeAt(E+1),(x&64512)===56320&&(b=65536+(b-55296<<10)+(x-56320),E++)),S+=b<128?1:b<2048?2:b<65536?3:4;for(n.uint8array?o=new Uint8Array(S):o=new Array(S),y=0,E=0;y<S;E++)b=v.charCodeAt(E),(b&64512)===55296&&E+1<k&&(x=v.charCodeAt(E+1),(x&64512)===56320&&(b=65536+(b-55296<<10)+(x-56320),E++)),b<128?o[y++]=b:b<2048?(o[y++]=192|b>>>6,o[y++]=128|b&63):b<65536?(o[y++]=224|b>>>12,o[y++]=128|b>>>6&63,o[y++]=128|b&63):(o[y++]=240|b>>>18,o[y++]=128|b>>>12&63,o[y++]=128|b>>>6&63,o[y++]=128|b&63);return o},g=function(v,o){var b;for(o=o||v.length,o>v.length&&(o=v.length),b=o-1;b>=0&&(v[b]&192)===128;)b--;return b<0||b===0?o:b+u[v[b]]>o?b:o},m=function(v){var o,b,x,E,y=v.length,k=new Array(y*2);for(b=0,o=0;o<y;){if(x=v[o++],x<128){k[b++]=x;continue}if(E=u[x],E>4){k[b++]=65533,o+=E-1;continue}for(x&=E===2?31:E===3?15:7;E>1&&o<y;)x=x<<6|v[o++]&63,E--;if(E>1){k[b++]=65533;continue}x<65536?k[b++]=x:(x-=65536,k[b++]=55296|x>>10&1023,k[b++]=56320|x&1023)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),h.applyFromCharCode(k)};s.utf8encode=function(o){return n.nodebuffer?f.newBufferFrom(o,"utf-8"):c(o)},s.utf8decode=function(o){return n.nodebuffer?h.transformTo("nodebuffer",o).toString("utf-8"):(o=h.transformTo(n.uint8array?"uint8array":"array",o),m(o))};function C(){r.call(this,"utf-8 decode"),this.leftOver=null}h.inherits(C,r),C.prototype.processChunk=function(v){var o=h.transformTo(n.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var b=o;o=new Uint8Array(b.length+this.leftOver.length),o.set(this.leftOver,0),o.set(b,this.leftOver.length)}else o=this.leftOver.concat(o);this.leftOver=null}var x=g(o),E=o;x!==o.length&&(n.uint8array?(E=o.subarray(0,x),this.leftOver=o.subarray(x,o.length)):(E=o.slice(0,x),this.leftOver=o.slice(x,o.length))),this.push({data:s.utf8decode(E),meta:v.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=C;function I(){r.call(this,"utf-8 encode")}h.inherits(I,r),I.prototype.processChunk=function(v){this.push({data:s.utf8encode(v.data),meta:v.meta})},s.Utf8EncodeWorker=I},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,a,s){var h=e("./support"),n=e("./base64"),f=e("./nodejsUtils"),r=e("set-immediate-shim"),u=e("./external");function p(o){var b=null;return h.uint8array?b=new Uint8Array(o.length):b=new Array(o.length),g(o,b)}s.newBlob=function(o,b){s.checkSupport("blob");try{return new Blob([o],{type:b})}catch{try{var x=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,E=new x;return E.append(o),E.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(o){return o}function g(o,b){for(var x=0;x<o.length;++x)b[x]=o.charCodeAt(x)&255;return b}var m={stringifyByChunk:function(o,b,x){var E=[],y=0,k=o.length;if(k<=x)return String.fromCharCode.apply(null,o);for(;y<k;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,o.slice(y,Math.min(y+x,k)))):E.push(String.fromCharCode.apply(null,o.subarray(y,Math.min(y+x,k)))),y+=x;return E.join("")},stringifyByChar:function(o){for(var b="",x=0;x<o.length;x++)b+=String.fromCharCode(o[x]);return b},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function C(o){var b=65536,x=s.getTypeOf(o),E=!0;if(x==="uint8array"?E=m.applyCanBeUsed.uint8array:x==="nodebuffer"&&(E=m.applyCanBeUsed.nodebuffer),E)for(;b>1;)try{return m.stringifyByChunk(o,x,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(o)}s.applyFromCharCode=C;function I(o,b){for(var x=0;x<o.length;x++)b[x]=o[x];return b}var v={};v.string={string:c,array:function(o){return g(o,new Array(o.length))},arraybuffer:function(o){return v.string.uint8array(o).buffer},uint8array:function(o){return g(o,new Uint8Array(o.length))},nodebuffer:function(o){return g(o,f.allocBuffer(o.length))}},v.array={string:C,array:c,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return f.newBufferFrom(o)}},v.arraybuffer={string:function(o){return C(new Uint8Array(o))},array:function(o){return I(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:c,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return f.newBufferFrom(new Uint8Array(o))}},v.uint8array={string:C,array:function(o){return I(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:c,nodebuffer:function(o){return f.newBufferFrom(o)}},v.nodebuffer={string:C,array:function(o){return I(o,new Array(o.length))},arraybuffer:function(o){return v.nodebuffer.uint8array(o).buffer},uint8array:function(o){return I(o,new Uint8Array(o.length))},nodebuffer:c},s.transformTo=function(o,b){if(b||(b=""),!o)return b;s.checkSupport(o);var x=s.getTypeOf(b),E=v[x][o](b);return E},s.resolve=function(o){for(var b=o.split("/"),x=[],E=0;E<b.length;E++){var y=b[E];y==="."||y===""&&E!==0&&E!==b.length-1||(y===".."?x.pop():x.push(y))}return x.join("/")},s.getTypeOf=function(o){if(typeof o=="string")return"string";if(Object.prototype.toString.call(o)==="[object Array]")return"array";if(h.nodebuffer&&f.isBuffer(o))return"nodebuffer";if(h.uint8array&&o instanceof Uint8Array)return"uint8array";if(h.arraybuffer&&o instanceof ArrayBuffer)return"arraybuffer"},s.checkSupport=function(o){var b=h[o.toLowerCase()];if(!b)throw new Error(o+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(o){var b="",x,E;for(E=0;E<(o||"").length;E++)x=o.charCodeAt(E),b+="\\x"+(x<16?"0":"")+x.toString(16).toUpperCase();return b},s.delay=function(o,b,x){r(function(){o.apply(x||null,b||[])})},s.inherits=function(o,b){var x=function(){};x.prototype=b.prototype,o.prototype=new x},s.extend=function(){var o={},b,x;for(b=0;b<arguments.length;b++)for(x in arguments[b])arguments[b].hasOwnProperty(x)&&typeof o[x]>"u"&&(o[x]=arguments[b][x]);return o},s.prepareContent=function(o,b,x,E,y){var k=u.Promise.resolve(b).then(function(S){var A=h.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1);return A&&typeof FileReader<"u"?new u.Promise(function(z,R){var V=new FileReader;V.onload=function(L){z(L.target.result)},V.onerror=function(L){R(L.target.error)},V.readAsArrayBuffer(S)}):S});return k.then(function(S){var A=s.getTypeOf(S);return A?(A==="arraybuffer"?S=s.transformTo("uint8array",S):A==="string"&&(y?S=n.decode(S):x&&E!==!0&&(S=p(S))),S):u.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,a,s){var h=e("./reader/readerFor"),n=e("./utils"),f=e("./signature"),r=e("./zipEntry");e("./utf8");var u=e("./support");function p(c){this.files=[],this.loadOptions=c}p.prototype={checkSignature:function(c){if(!this.reader.readAndCheckSignature(c)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(g)+", expected "+n.pretty(c)+")")}},isSignature:function(c,g){var m=this.reader.index;this.reader.setIndex(c);var C=this.reader.readString(4),I=C===g;return this.reader.setIndex(m),I},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var c=this.reader.readData(this.zipCommentLength),g=u.uint8array?"uint8array":"array",m=n.transformTo(g,c);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var c=this.zip64EndOfCentralSize-44,g=0,m,C,I;g<c;)m=this.reader.readInt(2),C=this.reader.readInt(4),I=this.reader.readData(C),this.zip64ExtensibleData[m]={id:m,length:C,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var c,g;for(c=0;c<this.files.length;c++)g=this.files[c],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var c;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)c=new r({zip64:this.zip64},this.loadOptions),c.readCentralPart(this.reader),this.files.push(c);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var c=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(c<0){var g=!this.isSignature(0,f.LOCAL_FILE_HEADER);throw g?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(c);var m=c;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,c=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),c<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(c),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var C=this.centralDirOffset+this.centralDirSize;this.zip64&&(C+=20,C+=12+this.zip64EndOfCentralSize);var I=m-C;if(I>0)this.isSignature(m,f.CENTRAL_FILE_HEADER)||(this.reader.zero=I);else if(I<0)throw new Error("Corrupted zip: missing "+Math.abs(I)+" bytes.")},prepareReader:function(c){this.reader=h(c)},load:function(c){this.prepareReader(c),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,a,s){var h=e("./reader/readerFor"),n=e("./utils"),f=e("./compressedObject"),r=e("./crc32"),u=e("./utf8"),p=e("./compressions"),c=e("./support"),g=0,m=3,C=function(v){for(var o in p)if(!!p.hasOwnProperty(o)&&p[o].magic===v)return p[o];return null};function I(v,o){this.options=v,this.loadOptions=o}I.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(v){var o,b;if(v.skip(22),this.fileNameLength=v.readInt(2),b=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(o=C(this.compressionMethod),o===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,o,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var o=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(o),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),v===g&&(this.dosPermissions=this.externalFileAttributes&63),v===m&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(v){if(!!this.extraFields[1]){var o=h(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(v){var o=v.index+this.extraFieldsLength,b,x,E;for(this.extraFields||(this.extraFields={});v.index+4<o;)b=v.readInt(2),x=v.readInt(2),E=v.readData(x),this.extraFields[b]={id:b,length:x,value:E};v.setIndex(o)},handleUTF8:function(){var v=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var o=this.findExtraFieldUnicodePath();if(o!==null)this.fileNameStr=o;else{var b=n.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var E=n.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var o=h(v.value);return o.readInt(1)!==1||r(this.fileName)!==o.readInt(4)?null:u.utf8decode(o.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var o=h(v.value);return o.readInt(1)!==1||r(this.fileComment)!==o.readInt(4)?null:u.utf8decode(o.readData(v.length-5))}return null}},a.exports=I},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,a,s){var h=e("./stream/StreamHelper"),n=e("./stream/DataWorker"),f=e("./utf8"),r=e("./compressedObject"),u=e("./stream/GenericWorker"),p=function(C,I,v){this.name=C,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=I,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}};p.prototype={internalStream:function(C){var I=null,v="string";try{if(!C)throw new Error("No output type specified.");v=C.toLowerCase();var o=v==="string"||v==="text";(v==="binarystring"||v==="text")&&(v="string"),I=this._decompressWorker();var b=!this._dataBinary;b&&!o&&(I=I.pipe(new f.Utf8EncodeWorker)),!b&&o&&(I=I.pipe(new f.Utf8DecodeWorker))}catch(x){I=new u("error"),I.error(x)}return new h(I,v,"")},async:function(C,I){return this.internalStream(C).accumulate(I)},nodeStream:function(C,I){return this.internalStream(C||"nodebuffer").toNodejsStream(I)},_compressWorker:function(C,I){if(this._data instanceof r&&this._data.compression.magic===C.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new f.Utf8EncodeWorker)),r.createWorkerFrom(v,C,I)},_decompressWorker:function(){return this._data instanceof r?this._data.getContentWorker():this._data instanceof u?this._data:new n(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<c.length;m++)p.prototype[c[m]]=g;a.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,a,s){(function(h){var n=h.MutationObserver||h.WebKitMutationObserver,f;if(n){var r=0,u=new n(C),p=h.document.createTextNode("");u.observe(p,{characterData:!0}),f=function(){p.data=r=++r%2}}else if(!h.setImmediate&&typeof h.MessageChannel<"u"){var c=new h.MessageChannel;c.port1.onmessage=C,f=function(){c.port2.postMessage(0)}}else"document"in h&&"onreadystatechange"in h.document.createElement("script")?f=function(){var v=h.document.createElement("script");v.onreadystatechange=function(){C(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},h.document.documentElement.appendChild(v)}:f=function(){setTimeout(C,0)};var g,m=[];function C(){g=!0;for(var v,o,b=m.length;b;){for(o=m,m=[],v=-1;++v<b;)o[v]();b=m.length}g=!1}a.exports=I;function I(v){m.push(v)===1&&!g&&f()}}).call(this,typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,a,s){var h=e("immediate");function n(){}var f={},r=["REJECTED"],u=["FULFILLED"],p=["PENDING"];a.exports=c;function c(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,y!==n&&I(this,y)}c.prototype.finally=function(y){if(typeof y!="function")return this;var k=this.constructor;return this.then(S,A);function S(z){function R(){return z}return k.resolve(y()).then(R)}function A(z){function R(){throw z}return k.resolve(y()).then(R)}},c.prototype.catch=function(y){return this.then(null,y)},c.prototype.then=function(y,k){if(typeof y!="function"&&this.state===u||typeof k!="function"&&this.state===r)return this;var S=new this.constructor(n);if(this.state!==p){var A=this.state===u?y:k;m(S,A,this.outcome)}else this.queue.push(new g(S,y,k));return S};function g(y,k,S){this.promise=y,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(y){f.resolve(this.promise,y)},g.prototype.otherCallFulfilled=function(y){m(this.promise,this.onFulfilled,y)},g.prototype.callRejected=function(y){f.reject(this.promise,y)},g.prototype.otherCallRejected=function(y){m(this.promise,this.onRejected,y)};function m(y,k,S){h(function(){var A;try{A=k(S)}catch(z){return f.reject(y,z)}A===y?f.reject(y,new TypeError("Cannot resolve promise with itself")):f.resolve(y,A)})}f.resolve=function(y,k){var S=v(C,k);if(S.status==="error")return f.reject(y,S.value);var A=S.value;if(A)I(y,A);else{y.state=u,y.outcome=k;for(var z=-1,R=y.queue.length;++z<R;)y.queue[z].callFulfilled(k)}return y},f.reject=function(y,k){y.state=r,y.outcome=k;for(var S=-1,A=y.queue.length;++S<A;)y.queue[S].callRejected(k);return y};function C(y){var k=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof k=="function")return function(){k.apply(y,arguments)}}function I(y,k){var S=!1;function A(L){S||(S=!0,f.reject(y,L))}function z(L){S||(S=!0,f.resolve(y,L))}function R(){k(z,A)}var V=v(R);V.status==="error"&&A(V.value)}function v(y,k){var S={};try{S.value=y(k),S.status="success"}catch(A){S.status="error",S.value=A}return S}c.resolve=o;function o(y){return y instanceof this?y:f.resolve(new this(n),y)}c.reject=b;function b(y){var k=new this(n);return f.reject(k,y)}c.all=x;function x(y){var k=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var z=new Array(S),R=0,V=-1,L=new this(n);++V<S;)Z(y[V],V);return L;function Z($,K){k.resolve($).then(q,function(G){A||(A=!0,f.reject(L,G))});function q(G){z[K]=G,++R===S&&!A&&(A=!0,f.resolve(L,z))}}}c.race=E;function E(y){var k=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=y.length,A=!1;if(!S)return this.resolve([]);for(var z=-1,R=new this(n);++z<S;)V(y[z]);return R;function V(L){k.resolve(L).then(function(Z){A||(A=!0,f.resolve(R,Z))},function(Z){A||(A=!0,f.reject(R,Z))})}}},{immediate:36}],38:[function(e,a,s){var h=e("./lib/utils/common").assign,n=e("./lib/deflate"),f=e("./lib/inflate"),r=e("./lib/zlib/constants"),u={};h(u,n,f,r),a.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,a,s){var h=e("./zlib/deflate"),n=e("./utils/common"),f=e("./utils/strings"),r=e("./zlib/messages"),u=e("./zlib/zstream"),p=Object.prototype.toString,c=0,g=4,m=0,C=1,I=2,v=-1,o=0,b=8;function x(S){if(!(this instanceof x))return new x(S);this.options=n.assign({level:v,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},S||{});var A=this.options;A.raw&&A.windowBits>0?A.windowBits=-A.windowBits:A.gzip&&A.windowBits>0&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var z=h.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(z!==m)throw new Error(r[z]);if(A.header&&h.deflateSetHeader(this.strm,A.header),A.dictionary){var R;if(typeof A.dictionary=="string"?R=f.string2buf(A.dictionary):p.call(A.dictionary)==="[object ArrayBuffer]"?R=new Uint8Array(A.dictionary):R=A.dictionary,z=h.deflateSetDictionary(this.strm,R),z!==m)throw new Error(r[z]);this._dict_set=!0}}x.prototype.push=function(S,A){var z=this.strm,R=this.options.chunkSize,V,L;if(this.ended)return!1;L=A===~~A?A:A===!0?g:c,typeof S=="string"?z.input=f.string2buf(S):p.call(S)==="[object ArrayBuffer]"?z.input=new Uint8Array(S):z.input=S,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new n.Buf8(R),z.next_out=0,z.avail_out=R),V=h.deflate(z,L),V!==C&&V!==m)return this.onEnd(V),this.ended=!0,!1;(z.avail_out===0||z.avail_in===0&&(L===g||L===I))&&(this.options.to==="string"?this.onData(f.buf2binstring(n.shrinkBuf(z.output,z.next_out))):this.onData(n.shrinkBuf(z.output,z.next_out)))}while((z.avail_in>0||z.avail_out===0)&&V!==C);return L===g?(V=h.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===m):(L===I&&(this.onEnd(m),z.avail_out=0),!0)},x.prototype.onData=function(S){this.chunks.push(S)},x.prototype.onEnd=function(S){S===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function E(S,A){var z=new x(A);if(z.push(S,!0),z.err)throw z.msg||r[z.err];return z.result}function y(S,A){return A=A||{},A.raw=!0,E(S,A)}function k(S,A){return A=A||{},A.gzip=!0,E(S,A)}s.Deflate=x,s.deflate=E,s.deflateRaw=y,s.gzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,a,s){var h=e("./zlib/inflate"),n=e("./utils/common"),f=e("./utils/strings"),r=e("./zlib/constants"),u=e("./zlib/messages"),p=e("./zlib/zstream"),c=e("./zlib/gzheader"),g=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},v||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(v&&v.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15)===0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var b=h.inflateInit2(this.strm,o.windowBits);if(b!==r.Z_OK)throw new Error(u[b]);this.header=new c,h.inflateGetHeader(this.strm,this.header)}m.prototype.push=function(v,o){var b=this.strm,x=this.options.chunkSize,E=this.options.dictionary,y,k,S,A,z,R,V=!1;if(this.ended)return!1;k=o===~~o?o:o===!0?r.Z_FINISH:r.Z_NO_FLUSH,typeof v=="string"?b.input=f.binstring2buf(v):g.call(v)==="[object ArrayBuffer]"?b.input=new Uint8Array(v):b.input=v,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new n.Buf8(x),b.next_out=0,b.avail_out=x),y=h.inflate(b,r.Z_NO_FLUSH),y===r.Z_NEED_DICT&&E&&(typeof E=="string"?R=f.string2buf(E):g.call(E)==="[object ArrayBuffer]"?R=new Uint8Array(E):R=E,y=h.inflateSetDictionary(this.strm,R)),y===r.Z_BUF_ERROR&&V===!0&&(y=r.Z_OK,V=!1),y!==r.Z_STREAM_END&&y!==r.Z_OK)return this.onEnd(y),this.ended=!0,!1;b.next_out&&(b.avail_out===0||y===r.Z_STREAM_END||b.avail_in===0&&(k===r.Z_FINISH||k===r.Z_SYNC_FLUSH))&&(this.options.to==="string"?(S=f.utf8border(b.output,b.next_out),A=b.next_out-S,z=f.buf2string(b.output,S),b.next_out=A,b.avail_out=x-A,A&&n.arraySet(b.output,b.output,S,A,0),this.onData(z)):this.onData(n.shrinkBuf(b.output,b.next_out))),b.avail_in===0&&b.avail_out===0&&(V=!0)}while((b.avail_in>0||b.avail_out===0)&&y!==r.Z_STREAM_END);return y===r.Z_STREAM_END&&(k=r.Z_FINISH),k===r.Z_FINISH?(y=h.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===r.Z_OK):(k===r.Z_SYNC_FLUSH&&(this.onEnd(r.Z_OK),b.avail_out=0),!0)},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===r.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function C(v,o){var b=new m(o);if(b.push(v,!0),b.err)throw b.msg||u[b.err];return b.result}function I(v,o){return o=o||{},o.raw=!0,C(v,o)}s.Inflate=m,s.inflate=C,s.inflateRaw=I,s.ungzip=C},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,a,s){var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(r){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var p=u.shift();if(!!p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var c in p)p.hasOwnProperty(c)&&(r[c]=p[c])}}return r},s.shrinkBuf=function(r,u){return r.length===u?r:r.subarray?r.subarray(0,u):(r.length=u,r)};var n={arraySet:function(r,u,p,c,g){if(u.subarray&&r.subarray){r.set(u.subarray(p,p+c),g);return}for(var m=0;m<c;m++)r[g+m]=u[p+m]},flattenChunks:function(r){var u,p,c,g,m,C;for(c=0,u=0,p=r.length;u<p;u++)c+=r[u].length;for(C=new Uint8Array(c),g=0,u=0,p=r.length;u<p;u++)m=r[u],C.set(m,g),g+=m.length;return C}},f={arraySet:function(r,u,p,c,g){for(var m=0;m<c;m++)r[g+m]=u[p+m]},flattenChunks:function(r){return[].concat.apply([],r)}};s.setTyped=function(r){r?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,n)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,f))},s.setTyped(h)},{}],42:[function(e,a,s){var h=e("./common"),n=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var r=new h.Buf8(256),u=0;u<256;u++)r[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;r[254]=r[254]=1,s.string2buf=function(c){var g,m,C,I,v,o=c.length,b=0;for(I=0;I<o;I++)m=c.charCodeAt(I),(m&64512)===55296&&I+1<o&&(C=c.charCodeAt(I+1),(C&64512)===56320&&(m=65536+(m-55296<<10)+(C-56320),I++)),b+=m<128?1:m<2048?2:m<65536?3:4;for(g=new h.Buf8(b),v=0,I=0;v<b;I++)m=c.charCodeAt(I),(m&64512)===55296&&I+1<o&&(C=c.charCodeAt(I+1),(C&64512)===56320&&(m=65536+(m-55296<<10)+(C-56320),I++)),m<128?g[v++]=m:m<2048?(g[v++]=192|m>>>6,g[v++]=128|m&63):m<65536?(g[v++]=224|m>>>12,g[v++]=128|m>>>6&63,g[v++]=128|m&63):(g[v++]=240|m>>>18,g[v++]=128|m>>>12&63,g[v++]=128|m>>>6&63,g[v++]=128|m&63);return g};function p(c,g){if(g<65537&&(c.subarray&&f||!c.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(c,g));for(var m="",C=0;C<g;C++)m+=String.fromCharCode(c[C]);return m}s.buf2binstring=function(c){return p(c,c.length)},s.binstring2buf=function(c){for(var g=new h.Buf8(c.length),m=0,C=g.length;m<C;m++)g[m]=c.charCodeAt(m);return g},s.buf2string=function(c,g){var m,C,I,v,o=g||c.length,b=new Array(o*2);for(C=0,m=0;m<o;){if(I=c[m++],I<128){b[C++]=I;continue}if(v=r[I],v>4){b[C++]=65533,m+=v-1;continue}for(I&=v===2?31:v===3?15:7;v>1&&m<o;)I=I<<6|c[m++]&63,v--;if(v>1){b[C++]=65533;continue}I<65536?b[C++]=I:(I-=65536,b[C++]=55296|I>>10&1023,b[C++]=56320|I&1023)}return p(b,C)},s.utf8border=function(c,g){var m;for(g=g||c.length,g>c.length&&(g=c.length),m=g-1;m>=0&&(c[m]&192)===128;)m--;return m<0||m===0?g:m+r[c[m]]>g?m:g}},{"./common":41}],43:[function(e,a,s){function h(n,f,r,u){for(var p=n&65535|0,c=n>>>16&65535|0,g=0;r!==0;){g=r>2e3?2e3:r,r-=g;do p=p+f[u++]|0,c=c+p|0;while(--g);p%=65521,c%=65521}return p|c<<16|0}a.exports=h},{}],44:[function(e,a,s){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,a,s){function h(){for(var r,u=[],p=0;p<256;p++){r=p;for(var c=0;c<8;c++)r=r&1?3988292384^r>>>1:r>>>1;u[p]=r}return u}var n=h();function f(r,u,p,c){var g=n,m=c+p;r^=-1;for(var C=c;C<m;C++)r=r>>>8^g[(r^u[C])&255];return r^-1}a.exports=f},{}],46:[function(e,a,s){var h=e("../utils/common"),n=e("./trees"),f=e("./adler32"),r=e("./crc32"),u=e("./messages"),p=0,c=1,g=3,m=4,C=5,I=0,v=1,o=-2,b=-3,x=-5,E=-1,y=1,k=2,S=3,A=4,z=0,R=2,V=8,L=9,Z=15,$=8,K=29,q=256,G=q+1+K,j=30,et=19,st=2*G+1,pt=15,J=3,lt=258,ft=lt+J+1,Ot=32,It=42,mt=69,at=73,St=91,gt=103,ct=113,bt=666,ht=1,Dt=2,Ut=3,Bt=4,dt=3;function Rt(i,D){return i.msg=u[D],D}function ce(i){return(i<<1)-(i>4?9:0)}function Vt(i){for(var D=i.length;--D>=0;)i[D]=0}function Mt(i){var D=i.state,T=D.pending;T>i.avail_out&&(T=i.avail_out),T!==0&&(h.arraySet(i.output,D.pending_buf,D.pending_out,T,i.next_out),i.next_out+=T,D.pending_out+=T,i.total_out+=T,i.avail_out-=T,D.pending-=T,D.pending===0&&(D.pending_out=0))}function ut(i,D){n._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,D),i.block_start=i.strstart,Mt(i.strm)}function rt(i,D){i.pending_buf[i.pending++]=D}function Zt(i,D){i.pending_buf[i.pending++]=D>>>8&255,i.pending_buf[i.pending++]=D&255}function de(i,D,T,d){var w=i.avail_in;return w>d&&(w=d),w===0?0:(i.avail_in-=w,h.arraySet(D,i.input,i.next_in,w,T),i.state.wrap===1?i.adler=f(i.adler,D,w,T):i.state.wrap===2&&(i.adler=r(i.adler,D,w,T)),i.next_in+=w,i.total_in+=w,w)}function ne(i,D){var T=i.max_chain_length,d=i.strstart,w,O,H=i.prev_length,Y=i.nice_match,W=i.strstart>i.w_size-ft?i.strstart-(i.w_size-ft):0,nt=i.window,te=i.w_mask,vt=i.prev,ot=i.strstart+lt,xt=nt[d+H-1],Tt=nt[d+H];i.prev_length>=i.good_match&&(T>>=2),Y>i.lookahead&&(Y=i.lookahead);do if(w=D,!(nt[w+H]!==Tt||nt[w+H-1]!==xt||nt[w]!==nt[d]||nt[++w]!==nt[d+1])){d+=2,w++;do;while(nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&nt[++d]===nt[++w]&&d<ot);if(O=lt-(ot-d),d=ot-lt,O>H){if(i.match_start=D,H=O,O>=Y)break;xt=nt[d+H-1],Tt=nt[d+H]}}while((D=vt[D&te])>W&&--T!==0);return H<=i.lookahead?H:i.lookahead}function jt(i){var D=i.w_size,T,d,w,O,H;do{if(O=i.window_size-i.lookahead-i.strstart,i.strstart>=D+(D-ft)){h.arraySet(i.window,i.window,D,D,0),i.match_start-=D,i.strstart-=D,i.block_start-=D,d=i.hash_size,T=d;do w=i.head[--T],i.head[T]=w>=D?w-D:0;while(--d);d=D,T=d;do w=i.prev[--T],i.prev[T]=w>=D?w-D:0;while(--d);O+=D}if(i.strm.avail_in===0)break;if(d=de(i.strm,i.window,i.strstart+i.lookahead,O),i.lookahead+=d,i.lookahead+i.insert>=J)for(H=i.strstart-i.insert,i.ins_h=i.window[H],i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[H+J-1])&i.hash_mask,i.prev[H&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=H,H++,i.insert--,!(i.lookahead+i.insert<J)););}while(i.lookahead<ft&&i.strm.avail_in!==0)}function ue(i,D){var T=65535;for(T>i.pending_buf_size-5&&(T=i.pending_buf_size-5);;){if(i.lookahead<=1){if(jt(i),i.lookahead===0&&D===p)return ht;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var d=i.block_start+T;if((i.strstart===0||i.strstart>=d)&&(i.lookahead=i.strstart-d,i.strstart=d,ut(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-ft&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===m?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):(i.strstart>i.block_start&&(ut(i,!1),i.strm.avail_out===0),ht)}function se(i,D){for(var T,d;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&D===p)return ht;if(i.lookahead===0)break}if(T=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),T!==0&&i.strstart-T<=i.w_size-ft&&(i.match_length=ne(i,T)),i.match_length>=J)if(d=n._tr_tally(i,i.strstart-i.match_start,i.match_length-J),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=J){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else d=n._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(d&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=i.strstart<J-1?i.strstart:J-1,D===m?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function Wt(i,D){for(var T,d,w;;){if(i.lookahead<ft){if(jt(i),i.lookahead<ft&&D===p)return ht;if(i.lookahead===0)break}if(T=0,i.lookahead>=J&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=J-1,T!==0&&i.prev_length<i.max_lazy_match&&i.strstart-T<=i.w_size-ft&&(i.match_length=ne(i,T),i.match_length<=5&&(i.strategy===y||i.match_length===J&&i.strstart-i.match_start>4096)&&(i.match_length=J-1)),i.prev_length>=J&&i.match_length<=i.prev_length){w=i.strstart+i.lookahead-J,d=n._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-J),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=w&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+J-1])&i.hash_mask,T=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=J-1,i.strstart++,d&&(ut(i,!1),i.strm.avail_out===0))return ht}else if(i.match_available){if(d=n._tr_tally(i,0,i.window[i.strstart-1]),d&&ut(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return ht}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(d=n._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<J-1?i.strstart:J-1,D===m?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function _e(i,D){for(var T,d,w,O,H=i.window;;){if(i.lookahead<=lt){if(jt(i),i.lookahead<=lt&&D===p)return ht;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=J&&i.strstart>0&&(w=i.strstart-1,d=H[w],d===H[++w]&&d===H[++w]&&d===H[++w])){O=i.strstart+lt;do;while(d===H[++w]&&d===H[++w]&&d===H[++w]&&d===H[++w]&&d===H[++w]&&d===H[++w]&&d===H[++w]&&d===H[++w]&&w<O);i.match_length=lt-(O-w),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=J?(T=n._tr_tally(i,1,i.match_length-J),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(T=n._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),T&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===m?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function oe(i,D){for(var T;;){if(i.lookahead===0&&(jt(i),i.lookahead===0)){if(D===p)return ht;break}if(i.match_length=0,T=n._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,T&&(ut(i,!1),i.strm.avail_out===0))return ht}return i.insert=0,D===m?(ut(i,!0),i.strm.avail_out===0?Ut:Bt):i.last_lit&&(ut(i,!1),i.strm.avail_out===0)?ht:Dt}function At(i,D,T,d,w){this.good_length=i,this.max_lazy=D,this.nice_length=T,this.max_chain=d,this.func=w}var Gt;Gt=[new At(0,0,0,0,ue),new At(4,4,8,4,se),new At(4,5,16,8,se),new At(4,6,32,32,se),new At(4,4,16,16,Wt),new At(8,16,32,32,Wt),new At(8,16,128,128,Wt),new At(8,32,128,256,Wt),new At(32,128,258,1024,Wt),new At(32,258,258,4096,Wt)];function pe(i){i.window_size=2*i.w_size,Vt(i.head),i.max_lazy_match=Gt[i.level].max_lazy,i.good_match=Gt[i.level].good_length,i.nice_match=Gt[i.level].nice_length,i.max_chain_length=Gt[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=J-1,i.match_available=0,i.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=V,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(st*2),this.dyn_dtree=new h.Buf16((2*j+1)*2),this.bl_tree=new h.Buf16((2*et+1)*2),Vt(this.dyn_ltree),Vt(this.dyn_dtree),Vt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(pt+1),this.heap=new h.Buf16(2*G+1),Vt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*G+1),Vt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(i){var D;return!i||!i.state?Rt(i,o):(i.total_in=i.total_out=0,i.data_type=R,D=i.state,D.pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?It:ct,i.adler=D.wrap===2?0:1,D.last_flush=p,n._tr_init(D),I)}function B(i){var D=M(i);return D===I&&pe(i.state),D}function X(i,D){return!i||!i.state||i.state.wrap!==2?o:(i.state.gzhead=D,I)}function F(i,D,T,d,w,O){if(!i)return o;var H=1;if(D===E&&(D=6),d<0?(H=0,d=-d):d>15&&(H=2,d-=16),w<1||w>L||T!==V||d<8||d>15||D<0||D>9||O<0||O>A)return Rt(i,o);d===8&&(d=9);var Y=new _;return i.state=Y,Y.strm=i,Y.wrap=H,Y.gzhead=null,Y.w_bits=d,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=w+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+J-1)/J),Y.window=new h.Buf8(Y.w_size*2),Y.head=new h.Buf16(Y.hash_size),Y.prev=new h.Buf16(Y.w_size),Y.lit_bufsize=1<<w+6,Y.pending_buf_size=Y.lit_bufsize*4,Y.pending_buf=new h.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=(1+2)*Y.lit_bufsize,Y.level=D,Y.strategy=O,Y.method=T,B(i)}function P(i,D){return F(i,D,V,Z,$,z)}function l(i,D){var T,d,w,O;if(!i||!i.state||D>C||D<0)return i?Rt(i,o):o;if(d=i.state,!i.output||!i.input&&i.avail_in!==0||d.status===bt&&D!==m)return Rt(i,i.avail_out===0?x:o);if(d.strm=i,T=d.last_flush,d.last_flush=D,d.status===It)if(d.wrap===2)i.adler=0,rt(d,31),rt(d,139),rt(d,8),d.gzhead?(rt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),rt(d,d.gzhead.time&255),rt(d,d.gzhead.time>>8&255),rt(d,d.gzhead.time>>16&255),rt(d,d.gzhead.time>>24&255),rt(d,d.level===9?2:d.strategy>=k||d.level<2?4:0),rt(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(rt(d,d.gzhead.extra.length&255),rt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(i.adler=r(i.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=mt):(rt(d,0),rt(d,0),rt(d,0),rt(d,0),rt(d,0),rt(d,d.level===9?2:d.strategy>=k||d.level<2?4:0),rt(d,dt),d.status=ct);else{var H=V+(d.w_bits-8<<4)<<8,Y=-1;d.strategy>=k||d.level<2?Y=0:d.level<6?Y=1:d.level===6?Y=2:Y=3,H|=Y<<6,d.strstart!==0&&(H|=Ot),H+=31-H%31,d.status=ct,Zt(d,H),d.strstart!==0&&(Zt(d,i.adler>>>16),Zt(d,i.adler&65535)),i.adler=1}if(d.status===mt)if(d.gzhead.extra){for(w=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),Mt(i),w=d.pending,d.pending===d.pending_buf_size));)rt(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=at)}else d.status=at;if(d.status===at)if(d.gzhead.name){w=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),Mt(i),w=d.pending,d.pending===d.pending_buf_size)){O=1;break}d.gzindex<d.gzhead.name.length?O=d.gzhead.name.charCodeAt(d.gzindex++)&255:O=0,rt(d,O)}while(O!==0);d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),O===0&&(d.gzindex=0,d.status=St)}else d.status=St;if(d.status===St)if(d.gzhead.comment){w=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),Mt(i),w=d.pending,d.pending===d.pending_buf_size)){O=1;break}d.gzindex<d.gzhead.comment.length?O=d.gzhead.comment.charCodeAt(d.gzindex++)&255:O=0,rt(d,O)}while(O!==0);d.gzhead.hcrc&&d.pending>w&&(i.adler=r(i.adler,d.pending_buf,d.pending-w,w)),O===0&&(d.status=gt)}else d.status=gt;if(d.status===gt&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&Mt(i),d.pending+2<=d.pending_buf_size&&(rt(d,i.adler&255),rt(d,i.adler>>8&255),i.adler=0,d.status=ct)):d.status=ct),d.pending!==0){if(Mt(i),i.avail_out===0)return d.last_flush=-1,I}else if(i.avail_in===0&&ce(D)<=ce(T)&&D!==m)return Rt(i,x);if(d.status===bt&&i.avail_in!==0)return Rt(i,x);if(i.avail_in!==0||d.lookahead!==0||D!==p&&d.status!==bt){var W=d.strategy===k?oe(d,D):d.strategy===S?_e(d,D):Gt[d.level].func(d,D);if((W===Ut||W===Bt)&&(d.status=bt),W===ht||W===Ut)return i.avail_out===0&&(d.last_flush=-1),I;if(W===Dt&&(D===c?n._tr_align(d):D!==C&&(n._tr_stored_block(d,0,0,!1),D===g&&(Vt(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),Mt(i),i.avail_out===0))return d.last_flush=-1,I}return D!==m?I:d.wrap<=0?v:(d.wrap===2?(rt(d,i.adler&255),rt(d,i.adler>>8&255),rt(d,i.adler>>16&255),rt(d,i.adler>>24&255),rt(d,i.total_in&255),rt(d,i.total_in>>8&255),rt(d,i.total_in>>16&255),rt(d,i.total_in>>24&255)):(Zt(d,i.adler>>>16),Zt(d,i.adler&65535)),Mt(i),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?I:v)}function U(i){var D;return!i||!i.state?o:(D=i.state.status,D!==It&&D!==mt&&D!==at&&D!==St&&D!==gt&&D!==ct&&D!==bt?Rt(i,o):(i.state=null,D===ct?Rt(i,b):I))}function Q(i,D){var T=D.length,d,w,O,H,Y,W,nt,te;if(!i||!i.state||(d=i.state,H=d.wrap,H===2||H===1&&d.status!==It||d.lookahead))return o;for(H===1&&(i.adler=f(i.adler,D,T,0)),d.wrap=0,T>=d.w_size&&(H===0&&(Vt(d.head),d.strstart=0,d.block_start=0,d.insert=0),te=new h.Buf8(d.w_size),h.arraySet(te,D,T-d.w_size,d.w_size,0),D=te,T=d.w_size),Y=i.avail_in,W=i.next_in,nt=i.input,i.avail_in=T,i.next_in=0,i.input=D,jt(d);d.lookahead>=J;){w=d.strstart,O=d.lookahead-(J-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[w+J-1])&d.hash_mask,d.prev[w&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=w,w++;while(--O);d.strstart=w,d.lookahead=J-1,jt(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=J-1,d.match_available=0,i.next_in=W,i.input=nt,i.avail_in=Y,d.wrap=H,I}s.deflateInit=P,s.deflateInit2=F,s.deflateReset=B,s.deflateResetKeep=M,s.deflateSetHeader=X,s.deflate=l,s.deflateEnd=U,s.deflateSetDictionary=Q,s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,a,s){function h(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}a.exports=h},{}],48:[function(e,a,s){var h=30,n=12;a.exports=function(r,u){var p,c,g,m,C,I,v,o,b,x,E,y,k,S,A,z,R,V,L,Z,$,K,q,G,j;p=r.state,c=r.next_in,G=r.input,g=c+(r.avail_in-5),m=r.next_out,j=r.output,C=m-(u-r.avail_out),I=m+(r.avail_out-257),v=p.dmax,o=p.wsize,b=p.whave,x=p.wnext,E=p.window,y=p.hold,k=p.bits,S=p.lencode,A=p.distcode,z=(1<<p.lenbits)-1,R=(1<<p.distbits)-1;t:do{k<15&&(y+=G[c++]<<k,k+=8,y+=G[c++]<<k,k+=8),V=S[y&z];e:for(;;){if(L=V>>>24,y>>>=L,k-=L,L=V>>>16&255,L===0)j[m++]=V&65535;else if(L&16){Z=V&65535,L&=15,L&&(k<L&&(y+=G[c++]<<k,k+=8),Z+=y&(1<<L)-1,y>>>=L,k-=L),k<15&&(y+=G[c++]<<k,k+=8,y+=G[c++]<<k,k+=8),V=A[y&R];i:for(;;){if(L=V>>>24,y>>>=L,k-=L,L=V>>>16&255,L&16){if($=V&65535,L&=15,k<L&&(y+=G[c++]<<k,k+=8,k<L&&(y+=G[c++]<<k,k+=8)),$+=y&(1<<L)-1,$>v){r.msg="invalid distance too far back",p.mode=h;break t}if(y>>>=L,k-=L,L=m-C,$>L){if(L=$-L,L>b&&p.sane){r.msg="invalid distance too far back",p.mode=h;break t}if(K=0,q=E,x===0){if(K+=o-L,L<Z){Z-=L;do j[m++]=E[K++];while(--L);K=m-$,q=j}}else if(x<L){if(K+=o+x-L,L-=x,L<Z){Z-=L;do j[m++]=E[K++];while(--L);if(K=0,x<Z){L=x,Z-=L;do j[m++]=E[K++];while(--L);K=m-$,q=j}}}else if(K+=x-L,L<Z){Z-=L;do j[m++]=E[K++];while(--L);K=m-$,q=j}for(;Z>2;)j[m++]=q[K++],j[m++]=q[K++],j[m++]=q[K++],Z-=3;Z&&(j[m++]=q[K++],Z>1&&(j[m++]=q[K++]))}else{K=m-$;do j[m++]=j[K++],j[m++]=j[K++],j[m++]=j[K++],Z-=3;while(Z>2);Z&&(j[m++]=j[K++],Z>1&&(j[m++]=j[K++]))}}else if((L&64)===0){V=A[(V&65535)+(y&(1<<L)-1)];continue i}else{r.msg="invalid distance code",p.mode=h;break t}break}}else if((L&64)===0){V=S[(V&65535)+(y&(1<<L)-1)];continue e}else if(L&32){p.mode=n;break t}else{r.msg="invalid literal/length code",p.mode=h;break t}break}}while(c<g&&m<I);Z=k>>3,c-=Z,k-=Z<<3,y&=(1<<k)-1,r.next_in=c,r.next_out=m,r.avail_in=c<g?5+(g-c):5-(c-g),r.avail_out=m<I?257+(I-m):257-(m-I),p.hold=y,p.bits=k}},{}],49:[function(e,a,s){var h=e("../utils/common"),n=e("./adler32"),f=e("./crc32"),r=e("./inffast"),u=e("./inftrees"),p=0,c=1,g=2,m=4,C=5,I=6,v=0,o=1,b=2,x=-2,E=-3,y=-4,k=-5,S=8,A=1,z=2,R=3,V=4,L=5,Z=6,$=7,K=8,q=9,G=10,j=11,et=12,st=13,pt=14,J=15,lt=16,ft=17,Ot=18,It=19,mt=20,at=21,St=22,gt=23,ct=24,bt=25,ht=26,Dt=27,Ut=28,Bt=29,dt=30,Rt=31,ce=32,Vt=852,Mt=592,ut=15,rt=ut;function Zt(F){return(F>>>24&255)+(F>>>8&65280)+((F&65280)<<8)+((F&255)<<24)}function de(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ne(F){var P;return!F||!F.state?x:(P=F.state,F.total_in=F.total_out=P.total=0,F.msg="",P.wrap&&(F.adler=P.wrap&1),P.mode=A,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new h.Buf32(Vt),P.distcode=P.distdyn=new h.Buf32(Mt),P.sane=1,P.back=-1,v)}function jt(F){var P;return!F||!F.state?x:(P=F.state,P.wsize=0,P.whave=0,P.wnext=0,ne(F))}function ue(F,P){var l,U;return!F||!F.state||(U=F.state,P<0?(l=0,P=-P):(l=(P>>4)+1,P<48&&(P&=15)),P&&(P<8||P>15))?x:(U.window!==null&&U.wbits!==P&&(U.window=null),U.wrap=l,U.wbits=P,jt(F))}function se(F,P){var l,U;return F?(U=new de,F.state=U,U.window=null,l=ue(F,P),l!==v&&(F.state=null),l):x}function Wt(F){return se(F,rt)}var _e=!0,oe,At;function Gt(F){if(_e){var P;for(oe=new h.Buf32(512),At=new h.Buf32(32),P=0;P<144;)F.lens[P++]=8;for(;P<256;)F.lens[P++]=9;for(;P<280;)F.lens[P++]=7;for(;P<288;)F.lens[P++]=8;for(u(c,F.lens,0,288,oe,0,F.work,{bits:9}),P=0;P<32;)F.lens[P++]=5;u(g,F.lens,0,32,At,0,F.work,{bits:5}),_e=!1}F.lencode=oe,F.lenbits=9,F.distcode=At,F.distbits=5}function pe(F,P,l,U){var Q,i=F.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new h.Buf8(i.wsize)),U>=i.wsize?(h.arraySet(i.window,P,l-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(Q=i.wsize-i.wnext,Q>U&&(Q=U),h.arraySet(i.window,P,l-U,Q,i.wnext),U-=Q,U?(h.arraySet(i.window,P,l-U,U,0),i.wnext=U,i.whave=i.wsize):(i.wnext+=Q,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=Q))),0}function _(F,P){var l,U,Q,i,D,T,d,w,O,H,Y,W,nt,te,vt=0,ot,xt,Tt,Lt,Fe,Se,yt,Yt,Ct=new h.Buf8(4),ee,Jt,Ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return x;l=F.state,l.mode===et&&(l.mode=st),D=F.next_out,Q=F.output,d=F.avail_out,i=F.next_in,U=F.input,T=F.avail_in,w=l.hold,O=l.bits,H=T,Y=d,Yt=v;t:for(;;)switch(l.mode){case A:if(l.wrap===0){l.mode=st;break}for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(l.wrap&2&&w===35615){l.check=0,Ct[0]=w&255,Ct[1]=w>>>8&255,l.check=f(l.check,Ct,2,0),w=0,O=0,l.mode=z;break}if(l.flags=0,l.head&&(l.head.done=!1),!(l.wrap&1)||(((w&255)<<8)+(w>>8))%31){F.msg="incorrect header check",l.mode=dt;break}if((w&15)!==S){F.msg="unknown compression method",l.mode=dt;break}if(w>>>=4,O-=4,yt=(w&15)+8,l.wbits===0)l.wbits=yt;else if(yt>l.wbits){F.msg="invalid window size",l.mode=dt;break}l.dmax=1<<yt,F.adler=l.check=1,l.mode=w&512?G:et,w=0,O=0;break;case z:for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(l.flags=w,(l.flags&255)!==S){F.msg="unknown compression method",l.mode=dt;break}if(l.flags&57344){F.msg="unknown header flags set",l.mode=dt;break}l.head&&(l.head.text=w>>8&1),l.flags&512&&(Ct[0]=w&255,Ct[1]=w>>>8&255,l.check=f(l.check,Ct,2,0)),w=0,O=0,l.mode=R;case R:for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.head&&(l.head.time=w),l.flags&512&&(Ct[0]=w&255,Ct[1]=w>>>8&255,Ct[2]=w>>>16&255,Ct[3]=w>>>24&255,l.check=f(l.check,Ct,4,0)),w=0,O=0,l.mode=V;case V:for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.head&&(l.head.xflags=w&255,l.head.os=w>>8),l.flags&512&&(Ct[0]=w&255,Ct[1]=w>>>8&255,l.check=f(l.check,Ct,2,0)),w=0,O=0,l.mode=L;case L:if(l.flags&1024){for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.length=w,l.head&&(l.head.extra_len=w),l.flags&512&&(Ct[0]=w&255,Ct[1]=w>>>8&255,l.check=f(l.check,Ct,2,0)),w=0,O=0}else l.head&&(l.head.extra=null);l.mode=Z;case Z:if(l.flags&1024&&(W=l.length,W>T&&(W=T),W&&(l.head&&(yt=l.head.extra_len-l.length,l.head.extra||(l.head.extra=new Array(l.head.extra_len)),h.arraySet(l.head.extra,U,i,W,yt)),l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,l.length-=W),l.length))break t;l.length=0,l.mode=$;case $:if(l.flags&2048){if(T===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.name+=String.fromCharCode(yt));while(yt&&W<T);if(l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,yt)break t}else l.head&&(l.head.name=null);l.length=0,l.mode=K;case K:if(l.flags&4096){if(T===0)break t;W=0;do yt=U[i+W++],l.head&&yt&&l.length<65536&&(l.head.comment+=String.fromCharCode(yt));while(yt&&W<T);if(l.flags&512&&(l.check=f(l.check,U,W,i)),T-=W,i+=W,yt)break t}else l.head&&(l.head.comment=null);l.mode=q;case q:if(l.flags&512){for(;O<16;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w!==(l.check&65535)){F.msg="header crc mismatch",l.mode=dt;break}w=0,O=0}l.head&&(l.head.hcrc=l.flags>>9&1,l.head.done=!0),F.adler=l.check=0,l.mode=et;break;case G:for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}F.adler=l.check=Zt(w),w=0,O=0,l.mode=j;case j:if(l.havedict===0)return F.next_out=D,F.avail_out=d,F.next_in=i,F.avail_in=T,l.hold=w,l.bits=O,b;F.adler=l.check=1,l.mode=et;case et:if(P===C||P===I)break t;case st:if(l.last){w>>>=O&7,O-=O&7,l.mode=Dt;break}for(;O<3;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}switch(l.last=w&1,w>>>=1,O-=1,w&3){case 0:l.mode=pt;break;case 1:if(Gt(l),l.mode=mt,P===I){w>>>=2,O-=2;break t}break;case 2:l.mode=ft;break;case 3:F.msg="invalid block type",l.mode=dt}w>>>=2,O-=2;break;case pt:for(w>>>=O&7,O-=O&7;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if((w&65535)!==(w>>>16^65535)){F.msg="invalid stored block lengths",l.mode=dt;break}if(l.length=w&65535,w=0,O=0,l.mode=J,P===I)break t;case J:l.mode=lt;case lt:if(W=l.length,W){if(W>T&&(W=T),W>d&&(W=d),W===0)break t;h.arraySet(Q,U,i,W,D),T-=W,i+=W,d-=W,D+=W,l.length-=W;break}l.mode=et;break;case ft:for(;O<14;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(l.nlen=(w&31)+257,w>>>=5,O-=5,l.ndist=(w&31)+1,w>>>=5,O-=5,l.ncode=(w&15)+4,w>>>=4,O-=4,l.nlen>286||l.ndist>30){F.msg="too many length or distance symbols",l.mode=dt;break}l.have=0,l.mode=Ot;case Ot:for(;l.have<l.ncode;){for(;O<3;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.lens[Ye[l.have++]]=w&7,w>>>=3,O-=3}for(;l.have<19;)l.lens[Ye[l.have++]]=0;if(l.lencode=l.lendyn,l.lenbits=7,ee={bits:l.lenbits},Yt=u(p,l.lens,0,19,l.lencode,0,l.work,ee),l.lenbits=ee.bits,Yt){F.msg="invalid code lengths set",l.mode=dt;break}l.have=0,l.mode=It;case It:for(;l.have<l.nlen+l.ndist;){for(;vt=l.lencode[w&(1<<l.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(Tt<16)w>>>=ot,O-=ot,l.lens[l.have++]=Tt;else{if(Tt===16){for(Jt=ot+2;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w>>>=ot,O-=ot,l.have===0){F.msg="invalid bit length repeat",l.mode=dt;break}yt=l.lens[l.have-1],W=3+(w&3),w>>>=2,O-=2}else if(Tt===17){for(Jt=ot+3;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=ot,O-=ot,yt=0,W=3+(w&7),w>>>=3,O-=3}else{for(Jt=ot+7;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=ot,O-=ot,yt=0,W=11+(w&127),w>>>=7,O-=7}if(l.have+W>l.nlen+l.ndist){F.msg="invalid bit length repeat",l.mode=dt;break}for(;W--;)l.lens[l.have++]=yt}}if(l.mode===dt)break;if(l.lens[256]===0){F.msg="invalid code -- missing end-of-block",l.mode=dt;break}if(l.lenbits=9,ee={bits:l.lenbits},Yt=u(c,l.lens,0,l.nlen,l.lencode,0,l.work,ee),l.lenbits=ee.bits,Yt){F.msg="invalid literal/lengths set",l.mode=dt;break}if(l.distbits=6,l.distcode=l.distdyn,ee={bits:l.distbits},Yt=u(g,l.lens,l.nlen,l.ndist,l.distcode,0,l.work,ee),l.distbits=ee.bits,Yt){F.msg="invalid distances set",l.mode=dt;break}if(l.mode=mt,P===I)break t;case mt:l.mode=at;case at:if(T>=6&&d>=258){F.next_out=D,F.avail_out=d,F.next_in=i,F.avail_in=T,l.hold=w,l.bits=O,r(F,Y),D=F.next_out,Q=F.output,d=F.avail_out,i=F.next_in,U=F.input,T=F.avail_in,w=l.hold,O=l.bits,l.mode===et&&(l.back=-1);break}for(l.back=0;vt=l.lencode[w&(1<<l.lenbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(xt&&(xt&240)===0){for(Lt=ot,Fe=xt,Se=Tt;vt=l.lencode[Se+((w&(1<<Lt+Fe)-1)>>Lt)],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(Lt+ot<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=Lt,O-=Lt,l.back+=Lt}if(w>>>=ot,O-=ot,l.back+=ot,l.length=Tt,xt===0){l.mode=ht;break}if(xt&32){l.back=-1,l.mode=et;break}if(xt&64){F.msg="invalid literal/length code",l.mode=dt;break}l.extra=xt&15,l.mode=St;case St:if(l.extra){for(Jt=l.extra;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.length+=w&(1<<l.extra)-1,w>>>=l.extra,O-=l.extra,l.back+=l.extra}l.was=l.length,l.mode=gt;case gt:for(;vt=l.distcode[w&(1<<l.distbits)-1],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(ot<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if((xt&240)===0){for(Lt=ot,Fe=xt,Se=Tt;vt=l.distcode[Se+((w&(1<<Lt+Fe)-1)>>Lt)],ot=vt>>>24,xt=vt>>>16&255,Tt=vt&65535,!(Lt+ot<=O);){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}w>>>=Lt,O-=Lt,l.back+=Lt}if(w>>>=ot,O-=ot,l.back+=ot,xt&64){F.msg="invalid distance code",l.mode=dt;break}l.offset=Tt,l.extra=xt&15,l.mode=ct;case ct:if(l.extra){for(Jt=l.extra;O<Jt;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}l.offset+=w&(1<<l.extra)-1,w>>>=l.extra,O-=l.extra,l.back+=l.extra}if(l.offset>l.dmax){F.msg="invalid distance too far back",l.mode=dt;break}l.mode=bt;case bt:if(d===0)break t;if(W=Y-d,l.offset>W){if(W=l.offset-W,W>l.whave&&l.sane){F.msg="invalid distance too far back",l.mode=dt;break}W>l.wnext?(W-=l.wnext,nt=l.wsize-W):nt=l.wnext-W,W>l.length&&(W=l.length),te=l.window}else te=Q,nt=D-l.offset,W=l.length;W>d&&(W=d),d-=W,l.length-=W;do Q[D++]=te[nt++];while(--W);l.length===0&&(l.mode=at);break;case ht:if(d===0)break t;Q[D++]=l.length,d--,l.mode=at;break;case Dt:if(l.wrap){for(;O<32;){if(T===0)break t;T--,w|=U[i++]<<O,O+=8}if(Y-=d,F.total_out+=Y,l.total+=Y,Y&&(F.adler=l.check=l.flags?f(l.check,Q,Y,D-Y):n(l.check,Q,Y,D-Y)),Y=d,(l.flags?w:Zt(w))!==l.check){F.msg="incorrect data check",l.mode=dt;break}w=0,O=0}l.mode=Ut;case Ut:if(l.wrap&&l.flags){for(;O<32;){if(T===0)break t;T--,w+=U[i++]<<O,O+=8}if(w!==(l.total&4294967295)){F.msg="incorrect length check",l.mode=dt;break}w=0,O=0}l.mode=Bt;case Bt:Yt=o;break t;case dt:Yt=E;break t;case Rt:return y;case ce:default:return x}return F.next_out=D,F.avail_out=d,F.next_in=i,F.avail_in=T,l.hold=w,l.bits=O,(l.wsize||Y!==F.avail_out&&l.mode<dt&&(l.mode<Dt||P!==m))&&pe(F,F.output,F.next_out,Y-F.avail_out),H-=F.avail_in,Y-=F.avail_out,F.total_in+=H,F.total_out+=Y,l.total+=Y,l.wrap&&Y&&(F.adler=l.check=l.flags?f(l.check,Q,Y,F.next_out-Y):n(l.check,Q,Y,F.next_out-Y)),F.data_type=l.bits+(l.last?64:0)+(l.mode===et?128:0)+(l.mode===mt||l.mode===J?256:0),(H===0&&Y===0||P===m)&&Yt===v&&(Yt=k),Yt}function M(F){if(!F||!F.state)return x;var P=F.state;return P.window&&(P.window=null),F.state=null,v}function B(F,P){var l;return!F||!F.state||(l=F.state,(l.wrap&2)===0)?x:(l.head=P,P.done=!1,v)}function X(F,P){var l=P.length,U,Q,i;return!F||!F.state||(U=F.state,U.wrap!==0&&U.mode!==j)?x:U.mode===j&&(Q=1,Q=n(Q,P,l,0),Q!==U.check)?E:(i=pe(F,P,l,l),i?(U.mode=Rt,y):(U.havedict=1,v))}s.inflateReset=jt,s.inflateReset2=ue,s.inflateResetKeep=ne,s.inflateInit=Wt,s.inflateInit2=se,s.inflate=_,s.inflateEnd=M,s.inflateGetHeader=B,s.inflateSetDictionary=X,s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,a,s){var h=e("../utils/common"),n=15,f=852,r=592,u=0,p=1,c=2,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],I=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(o,b,x,E,y,k,S,A){var z=A.bits,R=0,V=0,L=0,Z=0,$=0,K=0,q=0,G=0,j=0,et=0,st,pt,J,lt,ft,Ot=null,It=0,mt,at=new h.Buf16(n+1),St=new h.Buf16(n+1),gt=null,ct=0,bt,ht,Dt;for(R=0;R<=n;R++)at[R]=0;for(V=0;V<E;V++)at[b[x+V]]++;for($=z,Z=n;Z>=1&&at[Z]===0;Z--);if($>Z&&($=Z),Z===0)return y[k++]=1<<24|64<<16|0,y[k++]=1<<24|64<<16|0,A.bits=1,0;for(L=1;L<Z&&at[L]===0;L++);for($<L&&($=L),G=1,R=1;R<=n;R++)if(G<<=1,G-=at[R],G<0)return-1;if(G>0&&(o===u||Z!==1))return-1;for(St[1]=0,R=1;R<n;R++)St[R+1]=St[R]+at[R];for(V=0;V<E;V++)b[x+V]!==0&&(S[St[b[x+V]]++]=V);if(o===u?(Ot=gt=S,mt=19):o===p?(Ot=g,It-=257,gt=m,ct-=257,mt=256):(Ot=C,gt=I,mt=-1),et=0,V=0,R=L,ft=k,K=$,q=0,J=-1,j=1<<$,lt=j-1,o===p&&j>f||o===c&&j>r)return 1;for(;;){bt=R-q,S[V]<mt?(ht=0,Dt=S[V]):S[V]>mt?(ht=gt[ct+S[V]],Dt=Ot[It+S[V]]):(ht=32+64,Dt=0),st=1<<R-q,pt=1<<K,L=pt;do pt-=st,y[ft+(et>>q)+pt]=bt<<24|ht<<16|Dt|0;while(pt!==0);for(st=1<<R-1;et&st;)st>>=1;if(st!==0?(et&=st-1,et+=st):et=0,V++,--at[R]===0){if(R===Z)break;R=b[x+S[V]]}if(R>$&&(et&lt)!==J){for(q===0&&(q=$),ft+=L,K=R-q,G=1<<K;K+q<Z&&(G-=at[K+q],!(G<=0));)K++,G<<=1;if(j+=1<<K,o===p&&j>f||o===c&&j>r)return 1;J=et&lt,y[J]=$<<24|K<<16|ft-k|0}}return et!==0&&(y[ft+et]=R-q<<24|64<<16|0),A.bits=$,0}},{"../utils/common":41}],51:[function(e,a,s){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,a,s){var h=e("../utils/common"),n=4,f=0,r=1,u=2;function p(_){for(var M=_.length;--M>=0;)_[M]=0}var c=0,g=1,m=2,C=3,I=258,v=29,o=256,b=o+1+v,x=30,E=19,y=2*b+1,k=15,S=16,A=7,z=256,R=16,V=17,L=18,Z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=512,j=new Array((b+2)*2);p(j);var et=new Array(x*2);p(et);var st=new Array(G);p(st);var pt=new Array(I-C+1);p(pt);var J=new Array(v);p(J);var lt=new Array(x);p(lt);function ft(_,M,B,X,F){this.static_tree=_,this.extra_bits=M,this.extra_base=B,this.elems=X,this.max_length=F,this.has_stree=_&&_.length}var Ot,It,mt;function at(_,M){this.dyn_tree=_,this.max_code=0,this.stat_desc=M}function St(_){return _<256?st[_]:st[256+(_>>>7)]}function gt(_,M){_.pending_buf[_.pending++]=M&255,_.pending_buf[_.pending++]=M>>>8&255}function ct(_,M,B){_.bi_valid>S-B?(_.bi_buf|=M<<_.bi_valid&65535,gt(_,_.bi_buf),_.bi_buf=M>>S-_.bi_valid,_.bi_valid+=B-S):(_.bi_buf|=M<<_.bi_valid&65535,_.bi_valid+=B)}function bt(_,M,B){ct(_,B[M*2],B[M*2+1])}function ht(_,M){var B=0;do B|=_&1,_>>>=1,B<<=1;while(--M>0);return B>>>1}function Dt(_){_.bi_valid===16?(gt(_,_.bi_buf),_.bi_buf=0,_.bi_valid=0):_.bi_valid>=8&&(_.pending_buf[_.pending++]=_.bi_buf&255,_.bi_buf>>=8,_.bi_valid-=8)}function Ut(_,M){var B=M.dyn_tree,X=M.max_code,F=M.stat_desc.static_tree,P=M.stat_desc.has_stree,l=M.stat_desc.extra_bits,U=M.stat_desc.extra_base,Q=M.stat_desc.max_length,i,D,T,d,w,O,H=0;for(d=0;d<=k;d++)_.bl_count[d]=0;for(B[_.heap[_.heap_max]*2+1]=0,i=_.heap_max+1;i<y;i++)D=_.heap[i],d=B[B[D*2+1]*2+1]+1,d>Q&&(d=Q,H++),B[D*2+1]=d,!(D>X)&&(_.bl_count[d]++,w=0,D>=U&&(w=l[D-U]),O=B[D*2],_.opt_len+=O*(d+w),P&&(_.static_len+=O*(F[D*2+1]+w)));if(H!==0){do{for(d=Q-1;_.bl_count[d]===0;)d--;_.bl_count[d]--,_.bl_count[d+1]+=2,_.bl_count[Q]--,H-=2}while(H>0);for(d=Q;d!==0;d--)for(D=_.bl_count[d];D!==0;)T=_.heap[--i],!(T>X)&&(B[T*2+1]!==d&&(_.opt_len+=(d-B[T*2+1])*B[T*2],B[T*2+1]=d),D--)}}function Bt(_,M,B){var X=new Array(k+1),F=0,P,l;for(P=1;P<=k;P++)X[P]=F=F+B[P-1]<<1;for(l=0;l<=M;l++){var U=_[l*2+1];U!==0&&(_[l*2]=ht(X[U]++,U))}}function dt(){var _,M,B,X,F,P=new Array(k+1);for(B=0,X=0;X<v-1;X++)for(J[X]=B,_=0;_<1<<Z[X];_++)pt[B++]=X;for(pt[B-1]=X,F=0,X=0;X<16;X++)for(lt[X]=F,_=0;_<1<<$[X];_++)st[F++]=X;for(F>>=7;X<x;X++)for(lt[X]=F<<7,_=0;_<1<<$[X]-7;_++)st[256+F++]=X;for(M=0;M<=k;M++)P[M]=0;for(_=0;_<=143;)j[_*2+1]=8,_++,P[8]++;for(;_<=255;)j[_*2+1]=9,_++,P[9]++;for(;_<=279;)j[_*2+1]=7,_++,P[7]++;for(;_<=287;)j[_*2+1]=8,_++,P[8]++;for(Bt(j,b+1,P),_=0;_<x;_++)et[_*2+1]=5,et[_*2]=ht(_,5);Ot=new ft(j,Z,o+1,b,k),It=new ft(et,$,0,x,k),mt=new ft(new Array(0),K,0,E,A)}function Rt(_){var M;for(M=0;M<b;M++)_.dyn_ltree[M*2]=0;for(M=0;M<x;M++)_.dyn_dtree[M*2]=0;for(M=0;M<E;M++)_.bl_tree[M*2]=0;_.dyn_ltree[z*2]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function ce(_){_.bi_valid>8?gt(_,_.bi_buf):_.bi_valid>0&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function Vt(_,M,B,X){ce(_),X&&(gt(_,B),gt(_,~B)),h.arraySet(_.pending_buf,_.window,M,B,_.pending),_.pending+=B}function Mt(_,M,B,X){var F=M*2,P=B*2;return _[F]<_[P]||_[F]===_[P]&&X[M]<=X[B]}function ut(_,M,B){for(var X=_.heap[B],F=B<<1;F<=_.heap_len&&(F<_.heap_len&&Mt(M,_.heap[F+1],_.heap[F],_.depth)&&F++,!Mt(M,X,_.heap[F],_.depth));)_.heap[B]=_.heap[F],B=F,F<<=1;_.heap[B]=X}function rt(_,M,B){var X,F,P=0,l,U;if(_.last_lit!==0)do X=_.pending_buf[_.d_buf+P*2]<<8|_.pending_buf[_.d_buf+P*2+1],F=_.pending_buf[_.l_buf+P],P++,X===0?bt(_,F,M):(l=pt[F],bt(_,l+o+1,M),U=Z[l],U!==0&&(F-=J[l],ct(_,F,U)),X--,l=St(X),bt(_,l,B),U=$[l],U!==0&&(X-=lt[l],ct(_,X,U)));while(P<_.last_lit);bt(_,z,M)}function Zt(_,M){var B=M.dyn_tree,X=M.stat_desc.static_tree,F=M.stat_desc.has_stree,P=M.stat_desc.elems,l,U,Q=-1,i;for(_.heap_len=0,_.heap_max=y,l=0;l<P;l++)B[l*2]!==0?(_.heap[++_.heap_len]=Q=l,_.depth[l]=0):B[l*2+1]=0;for(;_.heap_len<2;)i=_.heap[++_.heap_len]=Q<2?++Q:0,B[i*2]=1,_.depth[i]=0,_.opt_len--,F&&(_.static_len-=X[i*2+1]);for(M.max_code=Q,l=_.heap_len>>1;l>=1;l--)ut(_,B,l);i=P;do l=_.heap[1],_.heap[1]=_.heap[_.heap_len--],ut(_,B,1),U=_.heap[1],_.heap[--_.heap_max]=l,_.heap[--_.heap_max]=U,B[i*2]=B[l*2]+B[U*2],_.depth[i]=(_.depth[l]>=_.depth[U]?_.depth[l]:_.depth[U])+1,B[l*2+1]=B[U*2+1]=i,_.heap[1]=i++,ut(_,B,1);while(_.heap_len>=2);_.heap[--_.heap_max]=_.heap[1],Ut(_,M),Bt(B,Q,_.bl_count)}function de(_,M,B){var X,F=-1,P,l=M[0*2+1],U=0,Q=7,i=4;for(l===0&&(Q=138,i=3),M[(B+1)*2+1]=65535,X=0;X<=B;X++)P=l,l=M[(X+1)*2+1],!(++U<Q&&P===l)&&(U<i?_.bl_tree[P*2]+=U:P!==0?(P!==F&&_.bl_tree[P*2]++,_.bl_tree[R*2]++):U<=10?_.bl_tree[V*2]++:_.bl_tree[L*2]++,U=0,F=P,l===0?(Q=138,i=3):P===l?(Q=6,i=3):(Q=7,i=4))}function ne(_,M,B){var X,F=-1,P,l=M[0*2+1],U=0,Q=7,i=4;for(l===0&&(Q=138,i=3),X=0;X<=B;X++)if(P=l,l=M[(X+1)*2+1],!(++U<Q&&P===l)){if(U<i)do bt(_,P,_.bl_tree);while(--U!==0);else P!==0?(P!==F&&(bt(_,P,_.bl_tree),U--),bt(_,R,_.bl_tree),ct(_,U-3,2)):U<=10?(bt(_,V,_.bl_tree),ct(_,U-3,3)):(bt(_,L,_.bl_tree),ct(_,U-11,7));U=0,F=P,l===0?(Q=138,i=3):P===l?(Q=6,i=3):(Q=7,i=4)}}function jt(_){var M;for(de(_,_.dyn_ltree,_.l_desc.max_code),de(_,_.dyn_dtree,_.d_desc.max_code),Zt(_,_.bl_desc),M=E-1;M>=3&&_.bl_tree[q[M]*2+1]===0;M--);return _.opt_len+=3*(M+1)+5+5+4,M}function ue(_,M,B,X){var F;for(ct(_,M-257,5),ct(_,B-1,5),ct(_,X-4,4),F=0;F<X;F++)ct(_,_.bl_tree[q[F]*2+1],3);ne(_,_.dyn_ltree,M-1),ne(_,_.dyn_dtree,B-1)}function se(_){var M=4093624447,B;for(B=0;B<=31;B++,M>>>=1)if(M&1&&_.dyn_ltree[B*2]!==0)return f;if(_.dyn_ltree[9*2]!==0||_.dyn_ltree[10*2]!==0||_.dyn_ltree[13*2]!==0)return r;for(B=32;B<o;B++)if(_.dyn_ltree[B*2]!==0)return r;return f}var Wt=!1;function _e(_){Wt||(dt(),Wt=!0),_.l_desc=new at(_.dyn_ltree,Ot),_.d_desc=new at(_.dyn_dtree,It),_.bl_desc=new at(_.bl_tree,mt),_.bi_buf=0,_.bi_valid=0,Rt(_)}function oe(_,M,B,X){ct(_,(c<<1)+(X?1:0),3),Vt(_,M,B,!0)}function At(_){ct(_,g<<1,3),bt(_,z,j),Dt(_)}function Gt(_,M,B,X){var F,P,l=0;_.level>0?(_.strm.data_type===u&&(_.strm.data_type=se(_)),Zt(_,_.l_desc),Zt(_,_.d_desc),l=jt(_),F=_.opt_len+3+7>>>3,P=_.static_len+3+7>>>3,P<=F&&(F=P)):F=P=B+5,B+4<=F&&M!==-1?oe(_,M,B,X):_.strategy===n||P===F?(ct(_,(g<<1)+(X?1:0),3),rt(_,j,et)):(ct(_,(m<<1)+(X?1:0),3),ue(_,_.l_desc.max_code+1,_.d_desc.max_code+1,l+1),rt(_,_.dyn_ltree,_.dyn_dtree)),Rt(_),X&&ce(_)}function pe(_,M,B){return _.pending_buf[_.d_buf+_.last_lit*2]=M>>>8&255,_.pending_buf[_.d_buf+_.last_lit*2+1]=M&255,_.pending_buf[_.l_buf+_.last_lit]=B&255,_.last_lit++,M===0?_.dyn_ltree[B*2]++:(_.matches++,M--,_.dyn_ltree[(pt[B]+o+1)*2]++,_.dyn_dtree[St(M)*2]++),_.last_lit===_.lit_bufsize-1}s._tr_init=_e,s._tr_stored_block=oe,s._tr_flush_block=Gt,s._tr_tally=pe,s._tr_align=At},{"../utils/common":41}],53:[function(e,a,s){function h(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}a.exports=h},{}],54:[function(e,a,s){a.exports=typeof setImmediate=="function"?setImmediate:function(){var n=[].slice.apply(arguments);n.splice(1,0,0),setTimeout.apply(null,n)}},{}]},{},[10])(10)})})(je);var Je=je.exports;class Qe{load(t,e){fetch(t).then(function(a){return a.status===200||a.status===0?Promise.resolve(a.blob()):Promise.reject(new Error(a.statusText))}).then(Je.loadAsync).then(async function(a){console.log(a);let s=null;const h={};for(let f in a.files){const r=a.files[f],u=f.split(".").pop();if(console.log(f,r,u),u==="ssfb"){if(s!==null){e(null,null,new Error("already exist ssfb file"));return}s=f}else if(u==="png"){const p=f.split(".").slice(0,-1).join(".");h[p]=await a.file(f).async("uint8array")}}let n=await a.file(s).async("uint8array");e(n,h,null)},function(s){console.log(s),e(null,null,s)})}}class $e{static createAnimePackMap(t){const e=t.fbObj.animePacksLength(),a={};for(let s=0;s<e;s++){const h=t.fbObj.animePacks(s),n=h.name(),f=[],r=h.animationsLength();for(let p=0;p<r;p++){const c=h.animations(p),g=c.name();g!=="Setup"&&(f[g]=c)}const u=h.partsLength();a[n]={animePack:h,animationMap:f,parts_count:u}}return a}}const ke=30;class qe{constructor(t){this.textureMap=null,this.animePackMap=null,this.infinityFlag=!0,this.pixiApplication=null,this.canvasWidth=null,this.canvasHeight=null,this.mainContainer=null,this.textureContainer=null,this.currentAnimePack=null,this.currentAnimation=null,this.onUserDataCallback=null,this.playEndCallback=null,this.onUpdateCallback=null,this.onPlayStateChangeCallback=null,this.frameDataMap=null,this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight;const e=new Xe.Application({width:this.canvasWidth,height:this.canvasHeight,transparent:!0}),a=e.view;t.appendChild(a);const s=new We;e.stage.addChild(s),this.mainContainer=s,this.pixiApplication=e}getAnimePackMap(){return this.animePackMap}getCurrentAnimePack(){return this.currentAnimePack}getCurrentAnimation(){return this.currentAnimation}getFrameDataMap(){return this.frameDataMap}getTextureContainer(){return this.textureContainer}loadSsfb(t){const e=this;let a=new Ve(t,()=>{e.setupForLoadComplete(a)})}loadSspkg(t){const e=this;new Qe().load(t,(s,h,n)=>{if(n!==null)return;let f=new Ve(s,h,()=>{e.setupForLoadComplete(f)})})}setupForLoadComplete(t){this.projectData=t,this.textureMap={};for(let e in t.resources){const a=t.resources[e];this.textureMap[e]=a.texture}this.animePackMap=$e.createAnimePackMap(this.projectData),this.onComplete!==null&&this.onComplete()}loadAnimation(t,e){let a=!1;this.textureContainer==null&&(a=!0,this.textureContainer=new Ge(this));const s=this.animePackMap[t],h=s.animePack,f=s.animationMap[e];this.currentAnimation=f,this.currentAnimePack=h,this.textureContainer.Setup(t,e);const r=f.labelDataLength();for(let u=0;u<r;u++)f.labelData(u);a&&this.mainContainer.addChild(this.textureContainer),this.setupDefaultPosition(),this.setupDefaultScaleRatio(),this.frameDataMap=this.getCurrentAnimationFrameDataMap()}play(){this.textureContainer.Play()}pause(){this.textureContainer.Pause()}stop(){this.textureContainer.Stop()}resume(){this.textureContainer.Resume()}movePosition(t,e){this.mainContainer.movePosition(t,e)}zoom(t){this.mainContainer.zoom(t)}zoomIn(){this.mainContainer.zoomIn()}zoomOut(){this.mainContainer.zoomOut()}switchGridDisplay(){this.mainContainer.switchGridDisplay()}setFrame(t){this.textureContainer.SetFrame(t)}nextFrame(){this.textureContainer.NextFrame()}prevFrame(){this.textureContainer.PrevFrame()}get startFrame(){return this.currentAnimation.startFrame}get endFrame(){return this.currentAnimation.endFrames()}get totalFrame(){return this.currentAnimation.totalFrames()}get fps(){return this.currentAnimation.fps()}get frameNo(){return this.textureContainer.frameNo}get isPlaying(){return this.textureContainer.isPlaying}get isPausing(){return this.textureContainer.isPausing}setAnimationSpeed(t){this.textureContainer.SetAnimationSpeed(t)}switchLoop(t){this.textureContainer.loop=t?-1:1,this.infinityFlag=t}setAnimationSection(t=-1,e=-1,a=-1){this.textureContainer.SetAnimationSection(t,e,a)}setupDefaultPosition(){const t=this.currentAnimation,e=t.canvasPvotX(),a=t.canvasPvotY();let s;switch(e){case .5:s=ke;break;case 0:s=this.canvasWidth*.5;break;case-.5:s=this.canvasWidth-ke;break}let h;switch(a){case .5:h=ke;break;case 0:h=this.canvasHeight*.5;break;case-.5:h=this.canvasHeight-ke}this.mainContainer.setPosition(s,h)}setupDefaultScaleRatio(){const t=this.currentAnimation,e=t.canvasSizeH(),a=t.canvasSizeW(),s=this.canvasWidth/a,h=this.canvasHeight/e;let n=null;s<h?n=s:h<s&&(n=h),this.mainContainer.setDefaultScaleRatio(n),this.mainContainer.zoom(100)}getCurrentAnimationFrameDataMap(){return this.textureContainer.getCurrentAnimationFrameDataMap()}}return Ce.Player=qe,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce}({},PIXI,PIXI,PIXI,PIXI,PIXI,PIXI,PIXI.filters,PIXI);

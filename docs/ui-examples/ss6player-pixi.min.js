/**
 * -----------------------------------------------------------
 * SS6Player For pixi.js v1.7.3
 *
 * Copyright(C) Web Technology Corp.
 * https://www.webtech.co.jp/
 * -----------------------------------------------------------
 */

this.PIXI=this.PIXI||{};var ss6PlayerPixi=function(ot,_t,pt,ut,bt,It,B){"use strict";const Q=new Int32Array(2),Ft=new Float32Array(Q.buffer),mt=new Float64Array(Q.buffer),rt=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var lt;(function(c){c[c.UTF8_BYTES=1]="UTF8_BYTES",c[c.UTF16_STRING=2]="UTF16_STRING"})(lt||(lt={}));class ht{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new ht(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return Q[0]=this.readInt32(t),Ft[0]}readFloat64(t){return Q[rt?0:1]=this.readInt32(t),Q[rt?1:0]=this.readInt32(t+4),mt[0]}writeInt8(t,s){this.bytes_[t]=s}writeUint8(t,s){this.bytes_[t]=s}writeInt16(t,s){this.bytes_[t]=s,this.bytes_[t+1]=s>>8}writeUint16(t,s){this.bytes_[t]=s,this.bytes_[t+1]=s>>8}writeInt32(t,s){this.bytes_[t]=s,this.bytes_[t+1]=s>>8,this.bytes_[t+2]=s>>16,this.bytes_[t+3]=s>>24}writeUint32(t,s){this.bytes_[t]=s,this.bytes_[t+1]=s>>8,this.bytes_[t+2]=s>>16,this.bytes_[t+3]=s>>24}writeInt64(t,s){this.writeInt32(t,Number(BigInt.asIntN(32,s))),this.writeInt32(t+4,Number(BigInt.asIntN(32,s>>BigInt(32))))}writeUint64(t,s){this.writeUint32(t,Number(BigInt.asUintN(32,s))),this.writeUint32(t+4,Number(BigInt.asUintN(32,s>>BigInt(32))))}writeFloat32(t,s){Ft[0]=s,this.writeInt32(t,Q[0])}writeFloat64(t,s){mt[0]=s,this.writeInt32(t,Q[rt?0:1]),this.writeInt32(t+4,Q[rt?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let s=0;s<4;s++)t+=String.fromCharCode(this.readInt8(this.position_+4+s));return t}__offset(t,s){const e=t-this.readInt32(t);return s<this.readInt16(e)?this.readInt16(e+s):0}__union(t,s){return t.bb_pos=s+this.readInt32(s),t.bb=this,t}__string(t,s){t+=this.readInt32(t);const e=this.readInt32(t);let i="",h=0;if(t+=4,s===lt.UTF8_BYTES)return this.bytes_.subarray(t,t+e);for(;h<e;){let a;const r=this.readUint8(t+h++);if(r<192)a=r;else{const n=this.readUint8(t+h++);if(r<224)a=(r&31)<<6|n&63;else{const o=this.readUint8(t+h++);if(r<240)a=(r&15)<<12|(n&63)<<6|o&63;else{const b=this.readUint8(t+h++);a=(r&7)<<18|(n&63)<<12|(o&63)<<6|b&63}}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode((a>>10)+55296,(a&(1<<10)-1)+56320))}return i}__union_with_string(t,s){return typeof t=="string"?this.__string(s):this.__union(t,s)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=4)throw new Error("FlatBuffers: file identifier must be length "+4);for(let s=0;s<4;s++)if(t.charCodeAt(s)!=this.readInt8(this.position()+4+s))return!1;return!0}createScalarList(t,s){const e=[];for(let i=0;i<s;++i)t(i)!==null&&e.push(t(i));return e}createObjList(t,s){const e=[];for(let i=0;i<s;++i){const h=t(i);h!==null&&e.push(h.unpack())}return e}}const v=4,gt=new Int32Array(2);new Float32Array(gt.buffer),new Float64Array(gt.buffer),new Uint16Array(new Uint8Array([1,0]).buffer)[0];var vt;(function(c){c[c.UTF8_BYTES=1]="UTF8_BYTES",c[c.UTF16_STRING=2]="UTF16_STRING"})(vt||(vt={}));class p{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsAnimationInitialData(t,s){return(s||new p).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationInitialData(t,s){return t.setPosition(t.position()+v),(s||new p).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}lowflag(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}highflag(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):0}priority(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}opacity(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}localopacity(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}masklimen(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}positionX(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}positionY(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}positionZ(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationX(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationY(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}rotationZ(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleX(){const t=this.bb.__offset(this.bb_pos,36);return t?this.bb.readFloat32(this.bb_pos+t):0}scaleY(){const t=this.bb.__offset(this.bb_pos,38);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleX(){const t=this.bb.__offset(this.bb_pos,40);return t?this.bb.readFloat32(this.bb_pos+t):0}localscaleY(){const t=this.bb.__offset(this.bb_pos,42);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeX(){const t=this.bb.__offset(this.bb_pos,44);return t?this.bb.readFloat32(this.bb_pos+t):0}sizeY(){const t=this.bb.__offset(this.bb_pos,46);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveX(){const t=this.bb.__offset(this.bb_pos,48);return t?this.bb.readFloat32(this.bb_pos+t):0}uvMoveY(){const t=this.bb.__offset(this.bb_pos,50);return t?this.bb.readFloat32(this.bb_pos+t):0}uvRotation(){const t=this.bb.__offset(this.bb_pos,52);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleX(){const t=this.bb.__offset(this.bb_pos,54);return t?this.bb.readFloat32(this.bb_pos+t):0}uvScaleY(){const t=this.bb.__offset(this.bb_pos,56);return t?this.bb.readFloat32(this.bb_pos+t):0}boundingRadius(){const t=this.bb.__offset(this.bb_pos,58);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,60);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueStartFrame(){const t=this.bb.__offset(this.bb_pos,62);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueEndFrame(){const t=this.bb.__offset(this.bb_pos,64);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueLoopNum(){const t=this.bb.__offset(this.bb_pos,66);return t?this.bb.readInt32(this.bb_pos+t):0}instanceValueSpeed(){const t=this.bb.__offset(this.bb_pos,68);return t?this.bb.readFloat32(this.bb_pos+t):0}instanceValueLoopflag(){const t=this.bb.__offset(this.bb_pos,70);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueCurKeyframe(){const t=this.bb.__offset(this.bb_pos,72);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueStartTime(){const t=this.bb.__offset(this.bb_pos,74);return t?this.bb.readInt32(this.bb_pos+t):0}effectValueSpeed(){const t=this.bb.__offset(this.bb_pos,76);return t?this.bb.readFloat32(this.bb_pos+t):0}effectValueLoopflag(){const t=this.bb.__offset(this.bb_pos,78);return t?this.bb.readInt32(this.bb_pos+t):0}static startAnimationInitialData(t){t.startObject(38)}static addIndex(t,s){t.addFieldInt16(0,s,0)}static addLowflag(t,s){t.addFieldInt32(1,s,0)}static addHighflag(t,s){t.addFieldInt32(2,s,0)}static addPriority(t,s){t.addFieldInt16(3,s,0)}static addCellIndex(t,s){t.addFieldInt16(4,s,0)}static addOpacity(t,s){t.addFieldInt16(5,s,0)}static addLocalopacity(t,s){t.addFieldInt16(6,s,0)}static addMasklimen(t,s){t.addFieldInt16(7,s,0)}static addPositionX(t,s){t.addFieldFloat32(8,s,0)}static addPositionY(t,s){t.addFieldFloat32(9,s,0)}static addPositionZ(t,s){t.addFieldFloat32(10,s,0)}static addPivotX(t,s){t.addFieldFloat32(11,s,0)}static addPivotY(t,s){t.addFieldFloat32(12,s,0)}static addRotationX(t,s){t.addFieldFloat32(13,s,0)}static addRotationY(t,s){t.addFieldFloat32(14,s,0)}static addRotationZ(t,s){t.addFieldFloat32(15,s,0)}static addScaleX(t,s){t.addFieldFloat32(16,s,0)}static addScaleY(t,s){t.addFieldFloat32(17,s,0)}static addLocalscaleX(t,s){t.addFieldFloat32(18,s,0)}static addLocalscaleY(t,s){t.addFieldFloat32(19,s,0)}static addSizeX(t,s){t.addFieldFloat32(20,s,0)}static addSizeY(t,s){t.addFieldFloat32(21,s,0)}static addUvMoveX(t,s){t.addFieldFloat32(22,s,0)}static addUvMoveY(t,s){t.addFieldFloat32(23,s,0)}static addUvRotation(t,s){t.addFieldFloat32(24,s,0)}static addUvScaleX(t,s){t.addFieldFloat32(25,s,0)}static addUvScaleY(t,s){t.addFieldFloat32(26,s,0)}static addBoundingRadius(t,s){t.addFieldFloat32(27,s,0)}static addInstanceValueCurKeyframe(t,s){t.addFieldInt32(28,s,0)}static addInstanceValueStartFrame(t,s){t.addFieldInt32(29,s,0)}static addInstanceValueEndFrame(t,s){t.addFieldInt32(30,s,0)}static addInstanceValueLoopNum(t,s){t.addFieldInt32(31,s,0)}static addInstanceValueSpeed(t,s){t.addFieldFloat32(32,s,0)}static addInstanceValueLoopflag(t,s){t.addFieldInt32(33,s,0)}static addEffectValueCurKeyframe(t,s){t.addFieldInt32(34,s,0)}static addEffectValueStartTime(t,s){t.addFieldInt32(35,s,0)}static addEffectValueSpeed(t,s){t.addFieldFloat32(36,s,0)}static addEffectValueLoopflag(t,s){t.addFieldInt32(37,s,0)}static endAnimationInitialData(t){return t.endObject()}static createAnimationInitialData(t,s,e,i,h,a,r,n,o,b,d,f,_,u,l,m,g,U,E,y,j,Y,x,C,M,P,X,st,N,T,z,J,k,Z,$,q,ft,nt,Et){return p.startAnimationInitialData(t),p.addIndex(t,s),p.addLowflag(t,e),p.addHighflag(t,i),p.addPriority(t,h),p.addCellIndex(t,a),p.addOpacity(t,r),p.addLocalopacity(t,n),p.addMasklimen(t,o),p.addPositionX(t,b),p.addPositionY(t,d),p.addPositionZ(t,f),p.addPivotX(t,_),p.addPivotY(t,u),p.addRotationX(t,l),p.addRotationY(t,m),p.addRotationZ(t,g),p.addScaleX(t,U),p.addScaleY(t,E),p.addLocalscaleX(t,y),p.addLocalscaleY(t,j),p.addSizeX(t,Y),p.addSizeY(t,x),p.addUvMoveX(t,C),p.addUvMoveY(t,M),p.addUvRotation(t,P),p.addUvScaleX(t,X),p.addUvScaleY(t,st),p.addBoundingRadius(t,N),p.addInstanceValueCurKeyframe(t,T),p.addInstanceValueStartFrame(t,z),p.addInstanceValueEndFrame(t,J),p.addInstanceValueLoopNum(t,k),p.addInstanceValueSpeed(t,Z),p.addInstanceValueLoopflag(t,$),p.addEffectValueCurKeyframe(t,q),p.addEffectValueStartTime(t,ft),p.addEffectValueSpeed(t,nt),p.addEffectValueLoopflag(t,Et),p.endAnimationInitialData(t)}}class R{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAspartState(t,s){return(s||new R).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAspartState(t,s){return t.setPosition(t.position()+v),(s||new R).__init(t.readInt32(t.position())+t.position(),t)}index(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}flag1(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flag2(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}data(t){const s=this.bb.__offset(this.bb_pos,10);return s?this.bb.readUint32(this.bb.__vector(this.bb_pos+s)+t*4):0}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}dataArray(){const t=this.bb.__offset(this.bb_pos,10);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startpartState(t){t.startObject(4)}static addIndex(t,s){t.addFieldInt16(0,s,0)}static addFlag1(t,s){t.addFieldInt32(1,s,0)}static addFlag2(t,s){t.addFieldInt32(2,s,0)}static addData(t,s){t.addFieldOffset(3,s,0)}static createDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addInt32(s[e]);return t.endVector()}static startDataVector(t,s){t.startVector(4,s,4)}static endpartState(t){return t.endObject()}static createpartState(t,s,e,i,h){return R.startpartState(t),R.addIndex(t,s),R.addFlag1(t,e),R.addFlag2(t,i),R.addData(t,h),R.endpartState(t)}}class et{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsframeDataIndex(t,s){return(s||new et).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsframeDataIndex(t,s){return t.setPosition(t.position()+v),(s||new et).__init(t.readInt32(t.position())+t.position(),t)}states(t,s){const e=this.bb.__offset(this.bb_pos,4);return e?(s||new R).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}statesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startframeDataIndex(t){t.startObject(1)}static addStates(t,s){t.addFieldOffset(0,s,0)}static createStatesVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startStatesVector(t,s){t.startVector(4,s,4)}static endframeDataIndex(t){return t.endObject()}static createframeDataIndex(t,s){return et.startframeDataIndex(t),et.addStates(t,s),et.endframeDataIndex(t)}}class G{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAslabelDataItem(t,s){return(s||new G).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAslabelDataItem(t,s){return t.setPosition(t.position()+v),(s||new G).__init(t.readInt32(t.position())+t.position(),t)}label(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}frameIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}static startlabelDataItem(t){t.startObject(2)}static addLabel(t,s){t.addFieldOffset(0,s,0)}static addFrameIndex(t,s){t.addFieldInt16(1,s,0)}static endlabelDataItem(t){return t.endObject()}static createlabelDataItem(t,s,e){return G.startlabelDataItem(t),G.addLabel(t,s),G.addFrameIndex(t,e),G.endlabelDataItem(t)}}class it{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsmeshDataIndices(t,s){return(s||new it).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataIndices(t,s){return t.setPosition(t.position()+v),(s||new it).__init(t.readInt32(t.position())+t.position(),t)}indices(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readFloat32(this.bb.__vector(this.bb_pos+s)+t*4):0}indicesLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}indicesArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataIndices(t){t.startObject(1)}static addIndices(t,s){t.addFieldOffset(0,s,0)}static createIndicesVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addFloat32(s[e]);return t.endVector()}static startIndicesVector(t,s){t.startVector(4,s,4)}static endmeshDataIndices(t){return t.endObject()}static createmeshDataIndices(t,s){return it.startmeshDataIndices(t),it.addIndices(t,s),it.endmeshDataIndices(t)}}class at{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsmeshDataUV(t,s){return(s||new at).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsmeshDataUV(t,s){return t.setPosition(t.position()+v),(s||new at).__init(t.readInt32(t.position())+t.position(),t)}uv(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.readFloat32(this.bb.__vector(this.bb_pos+s)+t*4):0}uvLength(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}uvArray(){const t=this.bb.__offset(this.bb_pos,4);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startmeshDataUV(t){t.startObject(1)}static addUv(t,s){t.addFieldOffset(0,s,0)}static createUvVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addFloat32(s[e]);return t.endVector()}static startUvVector(t,s){t.startVector(4,s,4)}static endmeshDataUV(t){return t.endObject()}static createmeshDataUV(t,s){return at.startmeshDataUV(t),at.addUv(t,s),at.endmeshDataUV(t)}}class A{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsuserDataItem(t,s){return(s||new A).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataItem(t,s){return t.setPosition(t.position()+v),(s||new A).__init(t.readInt32(t.position())+t.position(),t)}flags(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}arrayIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}dataType(t){const s=this.bb.__offset(this.bb_pos,8);return s?this.bb.readUint8(this.bb.__vector(this.bb_pos+s)+t):0}dataTypeLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataTypeArray(){const t=this.bb.__offset(this.bb_pos,8);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}data(t,s){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(s,this.bb.__vector(this.bb_pos+e)+t*4):null}dataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataItem(t){t.startObject(4)}static addFlags(t,s){t.addFieldInt16(0,s,0)}static addArrayIndex(t,s){t.addFieldInt16(1,s,0)}static addDataType(t,s){t.addFieldOffset(2,s,0)}static createDataTypeVector(t,s){t.startVector(1,s.length,1);for(let e=s.length-1;e>=0;e--)t.addInt8(s[e]);return t.endVector()}static startDataTypeVector(t,s){t.startVector(1,s,1)}static addData(t,s){t.addFieldOffset(3,s,0)}static createDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startDataVector(t,s){t.startVector(4,s,4)}static enduserDataItem(t){return t.endObject()}static createuserDataItem(t,s,e,i,h){return A.startuserDataItem(t),A.addFlags(t,s),A.addArrayIndex(t,e),A.addDataType(t,i),A.addData(t,h),A.enduserDataItem(t)}}class tt{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsuserDataPerFrame(t,s){return(s||new tt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataPerFrame(t,s){return t.setPosition(t.position()+v),(s||new tt).__init(t.readInt32(t.position())+t.position(),t)}frameIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}data(t,s){const e=this.bb.__offset(this.bb_pos,6);return e?(s||new A).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}dataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startuserDataPerFrame(t){t.startObject(2)}static addFrameIndex(t,s){t.addFieldInt16(0,s,0)}static addData(t,s){t.addFieldOffset(1,s,0)}static createDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startDataVector(t,s){t.startVector(4,s,4)}static enduserDataPerFrame(t){return t.endObject()}static createuserDataPerFrame(t,s,e){return tt.startuserDataPerFrame(t),tt.addFrameIndex(t,s),tt.addData(t,e),tt.enduserDataPerFrame(t)}}class F{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsAnimationData(t,s){return(s||new F).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimationData(t,s){return t.setPosition(t.position()+v),(s||new F).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}defaultData(t,s){const e=this.bb.__offset(this.bb_pos,6);return e?(s||new p).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}defaultDataLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}frameData(t,s){const e=this.bb.__offset(this.bb_pos,8);return e?(s||new et).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}frameDataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}userData(t,s){const e=this.bb.__offset(this.bb_pos,10);return e?(s||new tt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}userDataLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}labelData(t,s){const e=this.bb.__offset(this.bb_pos,12);return e?(s||new G).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}labelDataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataUV(t,s){const e=this.bb.__offset(this.bb_pos,14);return e?(s||new at).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}meshsDataUVLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}meshsDataIndices(t,s){const e=this.bb.__offset(this.bb_pos,16);return e?(s||new it).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}meshsDataIndicesLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}startFrames(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}endFrames(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}totalFrames(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}fps(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readInt16(this.bb_pos+t):0}labelNum(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeW(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readInt16(this.bb_pos+t):0}canvasSizeH(){const t=this.bb.__offset(this.bb_pos,30);return t?this.bb.readInt16(this.bb_pos+t):0}canvasPvotX(){const t=this.bb.__offset(this.bb_pos,32);return t?this.bb.readFloat32(this.bb_pos+t):0}canvasPvotY(){const t=this.bb.__offset(this.bb_pos,34);return t?this.bb.readFloat32(this.bb_pos+t):0}static startAnimationData(t){t.startObject(16)}static addName(t,s){t.addFieldOffset(0,s,0)}static addDefaultData(t,s){t.addFieldOffset(1,s,0)}static createDefaultDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startDefaultDataVector(t,s){t.startVector(4,s,4)}static addFrameData(t,s){t.addFieldOffset(2,s,0)}static createFrameDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startFrameDataVector(t,s){t.startVector(4,s,4)}static addUserData(t,s){t.addFieldOffset(3,s,0)}static createUserDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startUserDataVector(t,s){t.startVector(4,s,4)}static addLabelData(t,s){t.addFieldOffset(4,s,0)}static createLabelDataVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startLabelDataVector(t,s){t.startVector(4,s,4)}static addMeshsDataUV(t,s){t.addFieldOffset(5,s,0)}static createMeshsDataUVVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startMeshsDataUVVector(t,s){t.startVector(4,s,4)}static addMeshsDataIndices(t,s){t.addFieldOffset(6,s,0)}static createMeshsDataIndicesVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startMeshsDataIndicesVector(t,s){t.startVector(4,s,4)}static addStartFrames(t,s){t.addFieldInt16(7,s,0)}static addEndFrames(t,s){t.addFieldInt16(8,s,0)}static addTotalFrames(t,s){t.addFieldInt16(9,s,0)}static addFps(t,s){t.addFieldInt16(10,s,0)}static addLabelNum(t,s){t.addFieldInt16(11,s,0)}static addCanvasSizeW(t,s){t.addFieldInt16(12,s,0)}static addCanvasSizeH(t,s){t.addFieldInt16(13,s,0)}static addCanvasPvotX(t,s){t.addFieldFloat32(14,s,0)}static addCanvasPvotY(t,s){t.addFieldFloat32(15,s,0)}static endAnimationData(t){return t.endObject()}static createAnimationData(t,s,e,i,h,a,r,n,o,b,d,f,_,u,l,m,g){return F.startAnimationData(t),F.addName(t,s),F.addDefaultData(t,e),F.addFrameData(t,i),F.addUserData(t,h),F.addLabelData(t,a),F.addMeshsDataUV(t,r),F.addMeshsDataIndices(t,n),F.addStartFrames(t,o),F.addEndFrames(t,b),F.addTotalFrames(t,d),F.addFps(t,f),F.addLabelNum(t,_),F.addCanvasSizeW(t,u),F.addCanvasSizeH(t,l),F.addCanvasPvotX(t,m),F.addCanvasPvotY(t,g),F.endAnimationData(t)}}var V=(c=>(c[c.Invalid=-1]="Invalid",c[c.Nulltype=0]="Nulltype",c[c.Normal=1]="Normal",c[c.Text=2]="Text",c[c.Instance=3]="Instance",c[c.Armature=4]="Armature",c[c.Effect=5]="Effect",c[c.Mesh=6]="Mesh",c[c.Movenode=7]="Movenode",c[c.Constraint=8]="Constraint",c[c.Mask=9]="Mask",c[c.Joint=10]="Joint",c[c.Bonepoint=11]="Bonepoint",c))(V||{});class S{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsPartData(t,s){return(s||new S).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsPartData(t,s){return t.setPosition(t.position()+v),(s||new S).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}index(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt8(this.bb_pos+t):V.Nulltype}boundsType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}alphaBlendType(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}refname(t){const s=this.bb.__offset(this.bb_pos,16);return s?this.bb.__string(this.bb_pos+s,t):null}effectfilename(t){const s=this.bb.__offset(this.bb_pos,18);return s?this.bb.__string(this.bb_pos+s,t):null}colorLabel(t){const s=this.bb.__offset(this.bb_pos,20);return s?this.bb.__string(this.bb_pos+s,t):null}maskInfluence(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startPartData(t){t.startObject(10)}static addName(t,s){t.addFieldOffset(0,s,0)}static addIndex(t,s){t.addFieldInt16(1,s,0)}static addParentIndex(t,s){t.addFieldInt16(2,s,0)}static addType(t,s){t.addFieldInt8(3,s,V.Nulltype)}static addBoundsType(t,s){t.addFieldInt16(4,s,0)}static addAlphaBlendType(t,s){t.addFieldInt16(5,s,0)}static addRefname(t,s){t.addFieldOffset(6,s,0)}static addEffectfilename(t,s){t.addFieldOffset(7,s,0)}static addColorLabel(t,s){t.addFieldOffset(8,s,0)}static addMaskInfluence(t,s){t.addFieldInt16(9,s,0)}static endPartData(t){return t.endObject()}static createPartData(t,s,e,i,h,a,r,n,o,b,d){return S.startPartData(t),S.addName(t,s),S.addIndex(t,e),S.addParentIndex(t,i),S.addType(t,h),S.addBoundsType(t,a),S.addAlphaBlendType(t,r),S.addRefname(t,n),S.addEffectfilename(t,o),S.addColorLabel(t,b),S.addMaskInfluence(t,d),S.endPartData(t)}}class K{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsAnimePackData(t,s){return(s||new K).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAnimePackData(t,s){return t.setPosition(t.position()+v),(s||new K).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}parts(t,s){const e=this.bb.__offset(this.bb_pos,6);return e?(s||new S).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}partsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}animations(t,s){const e=this.bb.__offset(this.bb_pos,8);return e?(s||new F).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}animationsLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAnimePackData(t){t.startObject(3)}static addName(t,s){t.addFieldOffset(0,s,0)}static addParts(t,s){t.addFieldOffset(1,s,0)}static createPartsVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startPartsVector(t,s){t.startVector(4,s,4)}static addAnimations(t,s){t.addFieldOffset(2,s,0)}static createAnimationsVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startAnimationsVector(t,s){t.startVector(4,s,4)}static endAnimePackData(t){return t.endObject()}static createAnimePackData(t,s,e,i){return K.startAnimePackData(t),K.addName(t,s),K.addParts(t,e),K.addAnimations(t,i),K.endAnimePackData(t)}}class L{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsCellMap(t,s){return(s||new L).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCellMap(t,s){return t.setPosition(t.position()+v),(s||new L).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}imagePath(t){const s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,t):null}index(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}wrapmode(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}filtermode(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}static startCellMap(t){t.startObject(5)}static addName(t,s){t.addFieldOffset(0,s,0)}static addImagePath(t,s){t.addFieldOffset(1,s,0)}static addIndex(t,s){t.addFieldInt16(2,s,0)}static addWrapmode(t,s){t.addFieldInt16(3,s,0)}static addFiltermode(t,s){t.addFieldInt16(4,s,0)}static endCellMap(t){return t.endObject()}static createCellMap(t,s,e,i,h,a){return L.startCellMap(t),L.addName(t,s),L.addImagePath(t,e),L.addIndex(t,i),L.addWrapmode(t,h),L.addFiltermode(t,a),L.endCellMap(t)}}class ct{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsCell(t,s){return(s||new ct).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCell(t,s){return t.setPosition(t.position()+v),(s||new ct).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}cellMap(t){const s=this.bb.__offset(this.bb_pos,6);return s?(t||new L).__init(this.bb.__indirect(this.bb_pos+s),this.bb):null}indexInCellMap(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}x(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}y(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}width(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}height(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}pivotX(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readFloat32(this.bb_pos+t):0}pivotY(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readFloat32(this.bb_pos+t):0}u1(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readFloat32(this.bb_pos+t):0}v1(){const t=this.bb.__offset(this.bb_pos,24);return t?this.bb.readFloat32(this.bb_pos+t):0}u2(){const t=this.bb.__offset(this.bb_pos,26);return t?this.bb.readFloat32(this.bb_pos+t):0}v2(){const t=this.bb.__offset(this.bb_pos,28);return t?this.bb.readFloat32(this.bb_pos+t):0}static startCell(t){t.startObject(13)}static addName(t,s){t.addFieldOffset(0,s,0)}static addCellMap(t,s){t.addFieldOffset(1,s,0)}static addIndexInCellMap(t,s){t.addFieldInt16(2,s,0)}static addX(t,s){t.addFieldInt16(3,s,0)}static addY(t,s){t.addFieldInt16(4,s,0)}static addWidth(t,s){t.addFieldInt16(5,s,0)}static addHeight(t,s){t.addFieldInt16(6,s,0)}static addPivotX(t,s){t.addFieldFloat32(7,s,0)}static addPivotY(t,s){t.addFieldFloat32(8,s,0)}static addU1(t,s){t.addFieldFloat32(9,s,0)}static addV1(t,s){t.addFieldFloat32(10,s,0)}static addU2(t,s){t.addFieldFloat32(11,s,0)}static addV2(t,s){t.addFieldFloat32(12,s,0)}static endCell(t){return t.endObject()}}class D{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsEffectNode(t,s){return(s||new D).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectNode(t,s){return t.setPosition(t.position()+v),(s||new D).__init(t.readInt32(t.position())+t.position(),t)}arrayIndex(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):0}parentIndex(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}type(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}cellIndex(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}blendType(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}numBehavior(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}BehaviorType(t){const s=this.bb.__offset(this.bb_pos,16);return s?this.bb.readUint8(this.bb.__vector(this.bb_pos+s)+t):0}BehaviorTypeLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}BehaviorTypeArray(){const t=this.bb.__offset(this.bb_pos,16);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}Behavior(t,s){const e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__union(s,this.bb.__vector(this.bb_pos+e)+t*4):null}BehaviorLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectNode(t){t.startObject(8)}static addArrayIndex(t,s){t.addFieldInt16(0,s,0)}static addParentIndex(t,s){t.addFieldInt16(1,s,0)}static addType(t,s){t.addFieldInt16(2,s,0)}static addCellIndex(t,s){t.addFieldInt16(3,s,0)}static addBlendType(t,s){t.addFieldInt16(4,s,0)}static addNumBehavior(t,s){t.addFieldInt16(5,s,0)}static addBehaviorType(t,s){t.addFieldOffset(6,s,0)}static createBehaviorTypeVector(t,s){t.startVector(1,s.length,1);for(let e=s.length-1;e>=0;e--)t.addInt8(s[e]);return t.endVector()}static startBehaviorTypeVector(t,s){t.startVector(1,s,1)}static addBehavior(t,s){t.addFieldOffset(7,s,0)}static createBehaviorVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startBehaviorVector(t,s){t.startVector(4,s,4)}static endEffectNode(t){return t.endObject()}static createEffectNode(t,s,e,i,h,a,r,n,o){return D.startEffectNode(t),D.addArrayIndex(t,s),D.addParentIndex(t,e),D.addType(t,i),D.addCellIndex(t,h),D.addBlendType(t,a),D.addNumBehavior(t,r),D.addBehaviorType(t,n),D.addBehavior(t,o),D.endEffectNode(t)}}class w{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsEffectFile(t,s){return(s||new w).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsEffectFile(t,s){return t.setPosition(t.position()+v),(s||new w).__init(t.readInt32(t.position())+t.position(),t)}name(t){const s=this.bb.__offset(this.bb_pos,4);return s?this.bb.__string(this.bb_pos+s,t):null}fps(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt16(this.bb_pos+t):0}isLockRandSeed(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt16(this.bb_pos+t):0}lockRandSeed(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleX(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt16(this.bb_pos+t):0}layoutScaleY(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt16(this.bb_pos+t):0}numNodeList(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt16(this.bb_pos+t):0}effectNode(t,s){const e=this.bb.__offset(this.bb_pos,18);return e?(s||new D).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}effectNodeLength(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startEffectFile(t){t.startObject(8)}static addName(t,s){t.addFieldOffset(0,s,0)}static addFps(t,s){t.addFieldInt16(1,s,0)}static addIsLockRandSeed(t,s){t.addFieldInt16(2,s,0)}static addLockRandSeed(t,s){t.addFieldInt16(3,s,0)}static addLayoutScaleX(t,s){t.addFieldInt16(4,s,0)}static addLayoutScaleY(t,s){t.addFieldInt16(5,s,0)}static addNumNodeList(t,s){t.addFieldInt16(6,s,0)}static addEffectNode(t,s){t.addFieldOffset(7,s,0)}static createEffectNodeVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startEffectNodeVector(t,s){t.startVector(4,s,4)}static endEffectFile(t){return t.endObject()}static createEffectFile(t,s,e,i,h,a,r,n,o){return w.startEffectFile(t),w.addName(t,s),w.addFps(t,e),w.addIsLockRandSeed(t,i),w.addLockRandSeed(t,h),w.addLayoutScaleX(t,a),w.addLayoutScaleY(t,r),w.addNumNodeList(t,n),w.addEffectNode(t,o),w.endEffectFile(t)}}var I=(c=>(c[c.INVISIBLE=1]="INVISIBLE",c[c.FLIP_H=2]="FLIP_H",c[c.FLIP_V=4]="FLIP_V",c[c.CELL_INDEX=8]="CELL_INDEX",c[c.POSITION_X=16]="POSITION_X",c[c.POSITION_Y=32]="POSITION_Y",c[c.POSITION_Z=64]="POSITION_Z",c[c.PIVOT_X=128]="PIVOT_X",c[c.PIVOT_Y=256]="PIVOT_Y",c[c.ROTATIONX=512]="ROTATIONX",c[c.ROTATIONY=1024]="ROTATIONY",c[c.ROTATIONZ=2048]="ROTATIONZ",c[c.SCALE_X=4096]="SCALE_X",c[c.SCALE_Y=8192]="SCALE_Y",c[c.LOCALSCALE_X=16384]="LOCALSCALE_X",c[c.LOCALSCALE_Y=32768]="LOCALSCALE_Y",c[c.OPACITY=65536]="OPACITY",c[c.LOCALOPACITY=131072]="LOCALOPACITY",c[c.PARTS_COLOR=262144]="PARTS_COLOR",c[c.VERTEX_TRANSFORM=524288]="VERTEX_TRANSFORM",c[c.SIZE_X=1048576]="SIZE_X",c[c.SIZE_Y=2097152]="SIZE_Y",c[c.U_MOVE=4194304]="U_MOVE",c[c.V_MOVE=8388608]="V_MOVE",c[c.UV_ROTATION=16777216]="UV_ROTATION",c[c.U_SCALE=33554432]="U_SCALE",c[c.V_SCALE=67108864]="V_SCALE",c[c.BOUNDINGRADIUS=134217728]="BOUNDINGRADIUS",c[c.MASK=268435456]="MASK",c[c.PRIORITY=536870912]="PRIORITY",c[c.INSTANCE_KEYFRAME=1073741824]="INSTANCE_KEYFRAME",c[c.EFFECT_KEYFRAME=2147483648]="EFFECT_KEYFRAME",c))(I||{}),Vt=(c=>(c[c.MESHDATA=1]="MESHDATA",c))(Vt||{});class O{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsProjectData(t,s){return(s||new O).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsProjectData(t,s){return t.setPosition(t.position()+v),(s||new O).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("SSFB")}dataId(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}version(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint32(this.bb_pos+t):0}flags(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint32(this.bb_pos+t):0}imageBaseDir(t){const s=this.bb.__offset(this.bb_pos,10);return s?this.bb.__string(this.bb_pos+s,t):null}cells(t,s){const e=this.bb.__offset(this.bb_pos,12);return e?(s||new ct).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}cellsLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}animePacks(t,s){const e=this.bb.__offset(this.bb_pos,14);return e?(s||new K).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}animePacksLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}effectFileList(t,s){const e=this.bb.__offset(this.bb_pos,16);return e?(s||new w).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+e)+t*4),this.bb):null}effectFileListLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}numCells(){const t=this.bb.__offset(this.bb_pos,18);return t?this.bb.readInt16(this.bb_pos+t):0}numAnimePacks(){const t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readInt16(this.bb_pos+t):0}numEffectFileList(){const t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readInt16(this.bb_pos+t):0}static startProjectData(t){t.startObject(10)}static addDataId(t,s){t.addFieldInt32(0,s,0)}static addVersion(t,s){t.addFieldInt32(1,s,0)}static addFlags(t,s){t.addFieldInt32(2,s,0)}static addImageBaseDir(t,s){t.addFieldOffset(3,s,0)}static addCells(t,s){t.addFieldOffset(4,s,0)}static createCellsVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startCellsVector(t,s){t.startVector(4,s,4)}static addAnimePacks(t,s){t.addFieldOffset(5,s,0)}static createAnimePacksVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startAnimePacksVector(t,s){t.startVector(4,s,4)}static addEffectFileList(t,s){t.addFieldOffset(6,s,0)}static createEffectFileListVector(t,s){t.startVector(4,s.length,4);for(let e=s.length-1;e>=0;e--)t.addOffset(s[e]);return t.endVector()}static startEffectFileListVector(t,s){t.startVector(4,s,4)}static addNumCells(t,s){t.addFieldInt16(7,s,0)}static addNumAnimePacks(t,s){t.addFieldInt16(8,s,0)}static addNumEffectFileList(t,s){t.addFieldInt16(9,s,0)}static endProjectData(t){return t.endObject()}static finishProjectDataBuffer(t,s){t.finish(s,"SSFB")}static finishSizePrefixedProjectDataBuffer(t,s){t.finish(s,"SSFB",!0)}static createProjectData(t,s,e,i,h,a,r,n,o,b,d){return O.startProjectData(t),O.addDataId(t,s),O.addVersion(t,e),O.addFlags(t,i),O.addImageBaseDir(t,h),O.addCells(t,a),O.addAnimePacks(t,r),O.addEffectFileList(t,n),O.addNumCells(t,o),O.addNumAnimePacks(t,b),O.addNumEffectFileList(t,d),O.endProjectData(t)}}class Ct{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}integer(){return this.bb.readInt32(this.bb_pos)}static sizeOf(){return 4}static createuserDataInteger(t,s){return t.prep(4,4),t.writeInt32(s),t.offset()}}class Ot{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}static sizeOf(){return 8}static createuserDataPoint(t,s,e){return t.prep(4,8),t.writeInt32(e),t.writeInt32(s),t.offset()}}class dt{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}x(){return this.bb.readInt32(this.bb_pos)}y(){return this.bb.readInt32(this.bb_pos+4)}w(){return this.bb.readInt32(this.bb_pos+8)}h(){return this.bb.readInt32(this.bb_pos+12)}static sizeOf(){return 16}static createuserDataRect(t,s,e,i,h){return t.prep(4,16),t.writeInt32(h),t.writeInt32(i),t.writeInt32(e),t.writeInt32(s),t.offset()}}class H{constructor(){this.bb=null,this.bb_pos=0}__init(t,s){return this.bb_pos=t,this.bb=s,this}static getRootAsuserDataString(t,s){return(s||new H).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsuserDataString(t,s){return t.setPosition(t.position()+v),(s||new H).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}data(t){const s=this.bb.__offset(this.bb_pos,6);return s?this.bb.__string(this.bb_pos+s,t):null}static startuserDataString(t){t.startObject(2)}static addLength(t,s){t.addFieldInt32(0,s,0)}static addData(t,s){t.addFieldOffset(1,s,0)}static enduserDataString(t){return t.endObject()}static createuserDataString(t,s,e){return H.startuserDataString(t),H.addLength(t,s),H.addData(t,e),H.enduserDataString(t)}}class St{constructor(t,s,e,i,h,a,r){if(typeof t=="string"){let n=t,o=s,b=e!==void 0?e:0,d=i!==void 0?i:0,f=h!==void 0?h:null,_=a!==void 0?a:null,u=r!==void 0?r:null;this.ssfbPath=n;const l=n.lastIndexOf("/");this.rootPath=n.substring(0,l)+"/",this.status="not ready",this.onComplete=o,this.onError=f,this.onTimeout=_,this.onRetry=u,this.LoadFlatBuffersProject(n,b,d)}else if(typeof t=="object"&&t.constructor===Uint8Array){let n=t,o=s;this.onComplete=e!==void 0?e:null,this.load(n,o)}}LoadFlatBuffersProject(t,s=0,e=0){const i=this,h=new XMLHttpRequest,a="GET";h.open(a,t,!0),h.responseType="arraybuffer",h.timeout=s,h.onload=function(){if(!(h.status>=200&&h.status<400)){i.onError!==null&&i.onError(t,s,e,h);return}const r=this.response,n=new Uint8Array(r),o=new ht(n);i.fbObj=O.getRootAsProjectData(o),i.LoadCellResources()},h.ontimeout=function(){e>0?(i.onRetry!==null&&i.onRetry(t,s,e-1,h),i.LoadFlatBuffersProject(t,s,e-1)):i.onTimeout!==null&&i.onTimeout(t,s,e,h)},h.onerror=function(){i.onError!==null&&i.onError(t,s,e,h)},h.send(null)}LoadCellResources(){const t=this;let s=new _t.Loader,e=[];for(let i=0;i<t.fbObj.cellsLength();i++)e.some(function(h){return h===t.fbObj.cells(i).cellMap().index()})||(e.push(t.fbObj.cells(i).cellMap().index()),s.add(t.fbObj.cells(i).cellMap().name(),t.rootPath+this.fbObj.cells(i).cellMap().imagePath()));s.load(function(i,h){t.resources=h,t.status="ready",t.onComplete!==null&&t.onComplete()})}load(t,s){const e=new ht(t);this.fbObj=O.getRootAsProjectData(e);const i=new _t.Loader;for(let a in s){const r=s[a];let n="";const o=r.byteLength;for(let d=0;d<o;d++)n+=String.fromCharCode(r[d]);const b="data:image/png;base64,"+window.btoa(n);i.add(a,b)}const h=this;i.load((a,r)=>{h.resources=r,h.status="ready",h.onComplete!==null&&h.onComplete()})}}class yt{constructor(){this.refStartframe=0,this.refEndframe=0,this.refSpeed=1,this.refloopNum=0,this.infinity=!1,this.reverse=!1,this.pingpong=!1,this.independent=!1}}class W extends pt.Container{constructor(t,s=null,e=null){super();this.animation=[],this.curAnimePackName=null,this.curAnimeName=null,this.curAnimation=null,this.curAnimePackData=null,this.parts=-1,this.parentIndex=[],this.prio2index=[],this.userData=[],this.frameDataCache={},this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[],this.parentAlpha=1,this.prevCellID=[],this.prevMesh=[],this.substituteOverWrite=[],this.substituteKeyParam=[],this.alphaBlendType=[],this._uint32=new Uint32Array(1),this._float32=new Float32Array(this._uint32.buffer),this.defaultColorFilter=new It.ColorMatrixFilter,this.ss6project=t,this.fbObj=this.ss6project.fbObj,this.resources=this.ss6project.resources,this.parentAlpha=1,s!==null&&e!==null&&this.Setup(s,e),this.on("added",(...i)=>{bt.Ticker.shared.add(this.Update,this)},this),this.on("removed",(...i)=>{bt.Ticker.shared.remove(this.Update,this)},this)}get startFrame(){return this._startFrame}get endFrame(){return this.curAnimation.endFrames()}get totalFrame(){return this.curAnimation.totalFrames()}get fps(){return this.curAnimation.fps()}get frameNo(){return Math.floor(this._currentFrame)}set loop(t){this._loops=t}get loop(){return this._loops}get isPlaying(){return this._isPlaying}get isPausing(){return this._isPausing}get animePackName(){return this.curAnimePackName}get animeName(){return this.curAnimeName}Setup(t,s){this.clearCaches();const e=this.fbObj.animePacksLength();for(let i=0;i<e;i++)if(this.fbObj.animePacks(i).name()===t){let h;const a=this.fbObj.animePacks(i).animationsLength();for(h=0;h<a;h++)if(this.fbObj.animePacks(i).animations(h).name()===s){this.animation=[i,h],this.curAnimePackName=t,this.curAnimeName=s,this.curAnimePackData=this.fbObj.animePacks(this.animation[0]),this.curAnimation=this.curAnimePackData.animations(this.animation[1]);break}const r=this.curAnimation.defaultDataLength();for(let o=0;o<r;o++){const b=this.curAnimation.defaultData(o);this.defaultFrameMap[b.index()]=b}this.parts=i;const n=this.fbObj.animePacks(this.parts).partsLength();for(this.parentIndex=new Array(n),this.prevCellID=new Array(n),this.prevMesh=new Array(n),this.substituteOverWrite=new Array(n),this.substituteKeyParam=new Array(n),h=0;h<n;h++){const o=this.fbObj.animePacks(this.parts).parts(h).index();this.parentIndex[o]=this.fbObj.animePacks(i).parts(h).parentIndex(),this.prevCellID[o]=-1,this.prevMesh[o]=null,this.substituteOverWrite[o]=null,this.substituteKeyParam[o]=null}}this.alphaBlendType=this.GetPartsBlendMode(),this._isPlaying=!1,this._isPausing=!0,this._startFrame=this.curAnimation.startFrames(),this._endFrame=this.curAnimation.endFrames(),this._currentFrame=this.curAnimation.startFrames(),this.nextFrameTime=0,this._loops=-1,this.skipEnabled=!0,this.updateInterval=1e3/this.curAnimation.fps(),this.playDirection=1,this.onUserDataCallback=null,this.playEndCallback=null,this.parentAlpha=1}clearCaches(){this.prio2index=[],this.userData=[],this.frameDataCache=[],this.currentCachedFrameNumber=-1,this.liveFrame=[],this.colorMatrixFilterCache=[],this.defaultFrameMap=[]}Update(t){this.UpdateInternal(t)}UpdateInternal(t,s=!0){const e=bt.Ticker.shared.elapsedMS;if(this._isPlaying&&!this._isPausing&&this.updateInterval!==0){if(this.nextFrameTime+=e,this.nextFrameTime>=this.updateInterval){let h=!1;const a=this.nextFrameTime/this.updateInterval;this.nextFrameTime-=this.updateInterval*a;let r=this.skipEnabled?a*this.playDirection:this.playDirection,n=this._currentFrame+r,o=Math.floor(n),b=n-o,d=Math.floor(this._currentFrame);if(this.playDirection>=1)for(let f=o-d;f;f--){let _=d+1;if(_>this._endFrame)if(this._loops===-1)_=this._startFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,_=s?this._startFrame:this._endFrame;break}else _=this._startFrame;d=_,this._isPlaying&&this.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(d))}if(this.playDirection<=-1)for(let f=d-o;f;f--){let _=d-1;if(_<this._startFrame)if(this._loops===-1)_=this._endFrame;else if(this._loops--,h=!0,this._loops===0){this._isPlaying=!1,_=s?this._endFrame:this._startFrame;break}else _=this._endFrame;d=_,this._isPlaying&&this.HaveUserData(d)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(d))}this._currentFrame=d+b,h&&this.playEndCallback!==null&&this.playEndCallback(this),this.SetFrameAnimation(Math.floor(this._currentFrame),a)}}else this.SetFrameAnimation(Math.floor(this._currentFrame))}SetAnimationFramerate(t,s=!0){t<=0||(this.updateInterval=1e3/t,this.skipEnabled=s)}SetAnimationSpeed(t,s=!0){t!==0&&(this.playDirection=t>0?1:-1,this.updateInterval=1e3/(this.curAnimation.fps()*t*this.playDirection),this.skipEnabled=s)}SetAnimationSection(t=-1,s=-1,e=-1){t>=0&&t<this.curAnimation.totalFrames()&&(this._startFrame=t),s>=0&&s<this.curAnimation.totalFrames()&&(this._endFrame=s),e>0?this._loops=e:this._loops=-1,this._currentFrame=this.playDirection>0?this._startFrame:this._endFrame}Play(t){this._isPlaying=!0,this._isPausing=!1;let s=this.playDirection>0?this._startFrame:this._endFrame;t&&typeof t=="number"&&(s=t),this._currentFrame=s,this.resetLiveFrame();const e=Math.floor(this._currentFrame);this.SetFrameAnimation(e),this.HaveUserData(e)&&this.onUserDataCallback!==null&&this.onUserDataCallback(this.GetUserData(e))}Pause(){this._isPausing=!0}Resume(){this._isPausing=!1}Stop(){this._isPlaying=!1}SetFrame(t){this._currentFrame=t}NextFrame(){const t=Math.floor(this._currentFrame),s=this.endFrame;t!==s&&this.SetFrame(t+1)}PrevFrame(){const t=Math.floor(this._currentFrame);t!==0&&this.SetFrame(t-1)}SetAlpha(t){this.parentAlpha=t}ThrowError(t){}SetUserDataCalback(t){this.onUserDataCallback=t}SetPlayEndCallback(t){this.playEndCallback=t}HaveUserData(t){if(this.userData[t]===-1)return!1;if(this.userData[t])return!0;for(let s=0;s<this.curAnimation.userDataLength();s++)if(t===this.curAnimation.userData(s).frameIndex())return this.userData[t]=this.curAnimation.userData(s),!0;return this.userData[t]=-1,!1}GetUserData(t){if(this.HaveUserData(t)===!1)return;const s=this.userData[t],e=s.dataLength();let i=0,h=[];for(let a=0;a<e;a++){const r=s.data(a).flags(),n=s.data(a).arrayIndex();let o=null,b=null,d=null,f=null,_=null,u=null,l=null,m=null,g=null;r&1&&(o=s.data(a).data(i,new Ct).integer(),i++),r&2&&(b=s.data(a).data(i,new dt).x(),d=s.data(a).data(i,new dt).y(),f=s.data(a).data(i,new dt).w(),_=s.data(a).data(i,new dt).h(),i++),r&4&&(u=s.data(a).data(i,new Ot).x(),l=s.data(a).data(i,new Ot).y(),i++),r&8&&(m=s.data(a).data(i,new H).length(),g=s.data(a).data(i,new H).data(),i++),h.push([n,r,o,b,d,f,_,u,l,m,g])}return h}GetPartsBlendMode(){const t=this.fbObj.animePacks(this.parts).partsLength(),s=[],e=this.fbObj.animePacks(this.parts);for(let i=0;i<t;i++)s.push(e.parts(i).alphaBlendType());return s}I2F(t){return this._uint32[0]=t,this._float32[0]}GetFrameData(t){if(this.currentCachedFrameNumber===t&&this.frameDataCache)return this.frameDataCache;const s=this.curAnimation.defaultDataLength();let e=new Array(s);this.prio2index=new Array(s);const i=this.curAnimation.frameData(t);for(let h=0;h<s;h++){const a=i.states(h),r=a.index();let n=a.flag1(),o=a.flag2(),b=-1,d=this.GetDefaultDataByIndex(r);d.flag1=n,d.flag2=o;let f=0;if(n&I.INVISIBLE&&(d.f_hide=!0),n&I.FLIP_H&&(d.f_flipH=!0),n&I.FLIP_V&&(d.f_flipV=!0),n&I.CELL_INDEX&&(d.cellIndex=a.data(f++)),n&I.POSITION_X&&(d.positionX=this.I2F(a.data(f++))),n&I.POSITION_Y&&(d.positionY=this.I2F(a.data(f++))),n&I.POSITION_Z&&f++,n&I.PIVOT_X&&(d.pivotX=this.I2F(a.data(f++))),n&I.PIVOT_Y&&(d.pivotY=this.I2F(a.data(f++))),n&I.ROTATIONX&&f++,n&I.ROTATIONY&&f++,n&I.ROTATIONZ&&(d.rotationZ=this.I2F(a.data(f++))),n&I.SCALE_X&&(d.scaleX=this.I2F(a.data(f++))),n&I.SCALE_Y&&(d.scaleY=this.I2F(a.data(f++))),n&I.LOCALSCALE_X&&(d.localscaleX=this.I2F(a.data(f++))),n&I.LOCALSCALE_Y&&(d.localscaleY=this.I2F(a.data(f++))),n&I.OPACITY&&(d.opacity=a.data(f++)),n&I.LOCALOPACITY&&(d.localopacity=a.data(f++)),n&I.SIZE_X&&(d.size_X=this.I2F(a.data(f++))),n&I.SIZE_Y&&(d.size_Y=this.I2F(a.data(f++))),n&I.U_MOVE&&(d.uv_move_X=this.I2F(a.data(f++))),n&I.V_MOVE&&(d.uv_move_Y=this.I2F(a.data(f++))),n&I.UV_ROTATION&&(d.uv_rotation=this.I2F(a.data(f++))),n&I.U_SCALE&&(d.uv_scale_X=this.I2F(a.data(f++))),n&I.V_SCALE&&(d.uv_scale_Y=this.I2F(a.data(f++))),n&I.BOUNDINGRADIUS&&f++,n&I.MASK&&(d.masklimen=a.data(f++)),n&I.PRIORITY&&(d.priority=a.data(f++)),n&I.INSTANCE_KEYFRAME&&(d.instanceValue_curKeyframe=a.data(f++),d.instanceValue_startFrame=a.data(f++),d.instanceValue_endFrame=a.data(f++),d.instanceValue_loopNum=a.data(f++),d.instanceValue_speed=this.I2F(a.data(f++)),d.instanceValue_loopflag=a.data(f++)),n&I.EFFECT_KEYFRAME&&(d.effectValue_curKeyframe=a.data(f++),d.effectValue_startTime=a.data(f++),d.effectValue_speed=this.I2F(a.data(f++)),d.effectValue_loopflag=a.data(f++)),n&I.VERTEX_TRANSFORM){d.f_mesh=!0;const _=d.i_transformVerts=a.data(f++);_&1&&(d.u00=this.I2F(a.data(f++)),d.v00=this.I2F(a.data(f++))),_&2&&(d.u01=this.I2F(a.data(f++)),d.v01=this.I2F(a.data(f++))),_&4&&(d.u10=this.I2F(a.data(f++)),d.v10=this.I2F(a.data(f++))),_&8&&(d.u11=this.I2F(a.data(f++)),d.v11=this.I2F(a.data(f++)))}if(n&I.PARTS_COLOR){const _=a.data(f++);if(b=_&255,d.useColorMatrix=b!==1,_&4096){const u=this.I2F(a.data(f++)),l=a.data(f++),m=a.data(f++),g=l<<16|m;d.partsColorARGB=g>>>0,b===1?d.tint=g&16777215:d.colorMatrix=this.GetColorMatrixFilter(b,u,g)}_&2048&&(f++,f++,f++,d.colorMatrix=this.defaultColorFilter),_&1024&&(f++,f++,f++,d.colorMatrix=this.defaultColorFilter),_&512&&(f++,f++,f++,d.colorMatrix=this.defaultColorFilter),_&256&&(f++,f++,f++,d.colorMatrix=this.defaultColorFilter)}if(o&Vt.MESHDATA){d.meshIsBind=this.curAnimation.meshsDataUV(r).uv(0),d.meshNum=this.curAnimation.meshsDataUV(r).uv(1);let _=new Float32Array(d.meshNum*3);for(let u=0;u<d.meshNum;u++){const l=this.I2F(a.data(f++)),m=this.I2F(a.data(f++)),g=this.I2F(a.data(f++));_[u*3+0]=l,_[u*3+1]=m,_[u*3+2]=g}d.meshDataPoint=_}e[r]=d,this.prio2index[h]=r,this.fbObj.animePacks(this.parts).parts(r).type()===0&&(e[r].cellIndex=-2)}return this.frameDataCache=e,this.currentCachedFrameNumber=t,e}GetColorMatrixFilter(t,s,e){const i=t.toString()+"_"+s.toString()+"_"+e.toString();if(this.colorMatrixFilterCache[i])return this.colorMatrixFilterCache[i];const h=new It.ColorMatrixFilter,a=((e&4278190080)>>>24)/255,r=((e&16711680)>>>16)/255,n=((e&65280)>>>8)/255,o=(e&255)/255;if(t===0){const b=1-s;h.matrix=[b,0,0,0,r*s,0,b,0,0,n*s,0,0,b,0,o*s,0,0,0,1,0]}else t===1?h.matrix=[r,0,0,0,0,0,n,0,0,0,0,0,o,0,0,0,0,0,a,0]:t===2?h.matrix=[1,0,0,0,r,0,1,0,0,n,0,0,1,0,o,0,0,0,a,0]:t===3&&(h.matrix=[1,0,0,0,-r,0,1,0,0,-n,0,0,1,0,-o,0,0,0,a,0]);return this.colorMatrixFilterCache[i]=h,h}GetDefaultDataByIndex(t){const s=this.defaultFrameMap[t];return{index:s.index(),lowflag:s.lowflag(),highflag:s.highflag(),priority:s.priority(),cellIndex:s.cellIndex(),opacity:s.opacity(),localopacity:s.localopacity(),masklimen:s.masklimen(),positionX:s.positionX(),positionY:s.positionY(),pivotX:s.pivotX(),pivotY:s.pivotY(),rotationX:s.rotationX(),rotationY:s.rotationY(),rotationZ:s.rotationZ(),scaleX:s.scaleX(),scaleY:s.scaleY(),localscaleX:s.localscaleX(),localscaleY:s.localscaleY(),size_X:s.sizeX(),size_Y:s.sizeY(),uv_move_X:s.uvMoveX(),uv_move_Y:s.uvMoveY(),uv_rotation:s.uvRotation(),uv_scale_X:s.uvScaleX(),uv_scale_Y:s.uvScaleY(),boundingRadius:s.boundingRadius(),instanceValue_curKeyframe:s.instanceValueCurKeyframe(),instanceValue_endFrame:s.instanceValueEndFrame(),instanceValue_startFrame:s.instanceValueStartFrame(),instanceValue_loopNum:s.instanceValueLoopNum(),instanceValue_speed:s.instanceValueSpeed(),instanceValue_loopflag:s.instanceValueLoopflag(),effectValue_curKeyframe:s.effectValueCurKeyframe(),effectValue_startTime:s.effectValueStartTime(),effectValue_speed:s.effectValueSpeed(),effectValue_loopflag:s.effectValueLoopflag(),f_hide:!1,f_flipH:!1,f_flipV:!1,f_mesh:!1,i_transformVerts:0,u00:0,v00:0,u01:0,v01:0,u10:0,v10:0,u11:0,v11:0,useColorMatrix:!1,colorMatrix:null,meshIsBind:0,meshNum:0,meshDataPoint:0,flag1:0,flag2:0,partsColorARGB:0}}SetFrameAnimation(t,s=0){const e=this.GetFrameData(t);this.removeChildren();const i=e.length;for(let h=0;h<i;h=h+1|0){const a=this.prio2index[h],r=e[a],n=r.cellIndex;let o=this.prevMesh[a];const b=this.fbObj.animePacks(this.parts).parts(a),d=b.type();let f=this.substituteOverWrite[a]!==null?this.substituteOverWrite[a]:!1,_=this.substituteKeyParam[a];switch(d){case V.Instance:o==null&&(o=this.MakeCellPlayer(b.refname()),o.name=b.name());break;case V.Normal:case V.Mask:n>=0&&this.prevCellID[a]!==n&&(o?.destroy(),o=this.MakeCellMesh(n),o.name=b.name());break;case V.Mesh:n>=0&&this.prevCellID[a]!==n&&(o?.destroy(),o=this.MakeMeshCellMesh(a,n),o.name=b.name());break;case V.Nulltype:case V.Joint:this.prevCellID[a]!==n&&(o?.destroy(),o=new pt.Container,o.name=b.name());break;default:n>=0&&this.prevCellID[a]!==n&&(o?.destroy(),o=this.MakeCellMesh(n),o.name=b.name());break}if(o!=null)switch(this.prevCellID[a]=n,this.prevMesh[a]=o,d){case V.Instance:{let u=new Float32Array(5);u[0]=0,u[1]=0,u[2]=1,u[3]=1,u[4]=0,u=this.TransformPositionLocal(u,r.index,t);const l=u[4]*Math.PI/180;o.rotation=l,o.position.set(u[0],u[1]),o.scale.set(u[2],u[3]);let m=r.opacity/255;r.localopacity<255&&(m=r.localopacity/255),o.SetAlpha(m*this.parentAlpha),o.visible=!r.f_hide;let g=r.instanceValue_curKeyframe,U=r.instanceValue_startFrame,E=r.instanceValue_endFrame,y=r.instanceValue_speed,j=r.instanceValue_loopNum,Y=!1,x=!1,C=!1,M=!1;const P=1,X=2,st=4,N=8,T=r.instanceValue_loopflag;T&P&&(Y=!0),T&X&&(x=!0),T&st&&(C=!0),T&N&&(M=!0),f&&(U=_.refStartframe,E=_.refEndframe,y=_.refSpeed,j=_.refloopNum,Y=_.infinity,x=_.reverse,C=_.pingpong,M=_.independent);let z=t;M===!0&&(this.liveFrame[h]+=s,z=Math.floor(this.liveFrame[h]));const J=g;let k=Math.floor((z-J)*y);if(k<0||J>z)continue;const Z=E-U+1;if(Z<=0)continue;let $=Math.floor(k/Z),q=j;C&&(q=q*2),Y||$>=q&&(k=Z-1,$=q-1);const ft=Math.floor(k%Z);let nt=0;C&&$%2===1&&(x?x=!1:x=!0),this.playDirection<=-1&&(x=!x),x?nt=E-ft:nt=ft+U,o.SetFrame(Math.floor(nt)),this.addChild(o);break}case V.Normal:case V.Mesh:case V.Joint:case V.Mask:{const u=this.fbObj.cells(n);let l;if(d===V.Mesh?r.meshIsBind===0?l=this.TransformMeshVertsLocal(W.GetMeshVerts(u,r),r.index,t):l=W.GetMeshVerts(u,r):l=this.TransformVertsLocal(W.GetVerts(u,r),r.index,t),r.flag1&I.VERTEX_TRANSFORM){const y=l[6],j=l[3*2+1],Y=l[1*2+0],x=l[1*2+1],C=l[4*2+0],M=l[4*2+1],P=l[2*2+0],X=l[2*2+1],st=(y+C)*.5,N=(j+M)*.5,T=(y+Y)*.5,z=(j+x)*.5,J=(Y+P)*.5,k=(x+X)*.5,Z=(C+P)*.5,$=(M+X)*.5,q=W.CoordinateGetDiagonalIntersection(l[0],l[1],st,N,Z,$,T,z,J,k);l[0]=q[0],l[1]=q[1]}const m=l[0],g=l[1];for(let y=0;y<l.length/2;y++)l[y*2]-=m,l[y*2+1]-=g;if(o.vertices=l,r.flag1&I.U_MOVE||r.flag1&I.V_MOVE||r.flag1&I.U_SCALE||r.flag1&I.V_SCALE||r.flag1&I.UV_ROTATION){const y=u.u1()+r.uv_move_X,j=u.u2()+r.uv_move_X,Y=u.v1()+r.uv_move_Y,x=u.v2()+r.uv_move_Y,C=(j+y)/2,M=(x+Y)/2,P=(j-y)/2*r.uv_scale_X,X=(x-Y)/2*r.uv_scale_Y;if(o.uvs[0]=C,o.uvs[1]=M,o.uvs[2]=C-P,o.uvs[3]=M-X,o.uvs[4]=C+P,o.uvs[5]=M-X,o.uvs[6]=C-P,o.uvs[7]=M+X,o.uvs[8]=C+P,o.uvs[9]=M+X,r.flag1&I.UV_ROTATION){const st=r.uv_rotation*Math.PI/180;for(let N=0;N<5;N++){const T=o.uvs[N*2+0]-C,z=o.uvs[N*2+1]-M,J=Math.cos(st),k=Math.sin(st),Z=J*T-k*z,$=k*T+J*z;o.uvs[N*2+0]=C+Z,o.uvs[N*2+1]=M+$}}o.dirty++}o.position.set(m,g);let U=r.opacity/255;if(r.localopacity<255&&(U=r.localopacity/255),o.alpha=U*this.parentAlpha,o.visible=!r.f_hide,r.useColorMatrix&&(o.filters=[r.colorMatrix]),r.tint){o.tint=r.tint;const y=((r.partsColorARGB&4278190080)>>>24)/255;o.alpha=o.alpha*y}r.tintRgb&&(o.tintRgb=r.tintRgb);const E=this.alphaBlendType[a];E===0&&(o.blendMode=B.BLEND_MODES.NORMAL),E===1&&(o.blendMode=B.BLEND_MODES.MULTIPLY,o.alpha=1),E===2&&(o.blendMode=B.BLEND_MODES.ADD),E===3&&(o.blendMode=B.BLEND_MODES.NORMAL),E===4&&(o.blendMode=B.BLEND_MODES.MULTIPLY),E===5&&(o.blendMode=B.BLEND_MODES.SCREEN,o.alpha=1),E===6&&(o.blendMode=B.BLEND_MODES.EXCLUSION),E===7&&(o.blendMode=B.BLEND_MODES.NORMAL),d!==V.Mask&&this.addChild(o);break}case V.Nulltype:{const u=this.InheritOpacity(1,r.index,t);o.alpha=u*r.localopacity/255;const l=this.TransformVerts(W.GetDummyVerts(),r.index,t),m=l[0],g=l[1];o.position.set(m,g);const U=Math.atan2(l[5]-l[3],l[4]-l[2]),E=Math.atan2(l[7]-l[3],l[6]-l[2]);o.rotation=U,o.skew.x=E-U-Math.PI/2;break}}}}ChangeInstanceAnime(t,s,e,i,h=null){let a=!1;if(this.curAnimePackName!==null&&this.curAnimation!==null){let r=this.curAnimePackData,n=r.partsLength();for(let o=0;o<n;o++){let b=r.parts(o);if(b.name()===t){let d=this.prevMesh[o];if(d===null||d instanceof W){let f;h!==null?(f=h,d=this.MakeCellPlayer(s+"/"+e,h.refStartframe)):(d=this.MakeCellPlayer(s+"/"+e),f=new yt,f.refStartframe=d.startFrame,f.refEndframe=d.endFrame),d.name=b.name(),this.prevMesh[o]=d,this.substituteKeyParam[o]=f,a=!0;break}}}}return a}InheritOpacity(t,s,e){return t=this.GetFrameData(e)[s].opacity/255,this.parentIndex[s]>=0&&(t=this.InheritOpacity(t,this.parentIndex[s],e)),t}TransformVertsLocal(t,s,e){const i=this.GetFrameData(e)[s],h=-i.rotationZ*Math.PI/180,a=Math.cos(h),r=Math.sin(h);for(let n=0;n<t.length/2;n++){let o=t[n*2],b=t[n*2+1];i.i_transformVerts&1&&n===1&&(o+=i.u00,b-=i.v00),i.i_transformVerts&2&&n===2&&(o+=i.u01,b-=i.v01),i.i_transformVerts&4&&n===3&&(o+=i.u10,b-=i.v10),i.i_transformVerts&8&&n===4&&(o+=i.u11,b-=i.v11),o*=i.scaleX*i.localscaleX,b*=i.scaleY*i.localscaleY,t[n*2]=a*o-r*b+i.positionX,t[n*2+1]=r*o+a*b-i.positionY,i.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),i.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this.parentIndex[s]>=0&&(t=this.TransformVerts(t,this.parentIndex[s],e)),t}TransformMeshVertsLocal(t,s,e){const i=this.GetFrameData(e)[s],h=-i.rotationZ*Math.PI/180,a=Math.cos(h),r=Math.sin(h);for(let n=0;n<t.length/2;n++){let o=t[n*2],b=t[n*2+1];o*=i.scaleX*i.localscaleX,b*=i.scaleY*i.localscaleY,t[n*2]=a*o-r*b+i.positionX,t[n*2+1]=r*o+a*b-i.positionY}return this.parentIndex[s]>=0&&(t=this.TransformVerts(t,this.parentIndex[s],e)),t}TransformPositionLocal(t,s,e){const i=this.GetFrameData(e)[s];t[4]+=-i.rotationZ;const h=-i.rotationZ*Math.PI/180,a=Math.cos(h),r=Math.sin(h),n=t[0],o=t[1];return t[2]*=i.scaleX*i.localscaleX,t[3]*=i.scaleY*i.localscaleY,t[0]=a*n-r*o+i.positionX,t[1]=r*n+a*o-i.positionY,this.parentIndex[s]>=0&&(t=this.TransformPosition(t,this.parentIndex[s],e)),t}static CoordinateGetDiagonalIntersection(t,s,e,i,h,a,r,n,o,b){let d=new Float32Array([t,s]);const f=(n-a)*(r-e)-(r-h)*(n-i),_=(o-e)*(n-i)-(b-i)*(r-e),u=(o-e)*(n-a)-(b-i)*(r-h);if(u<=0&&u>=0)return d;const l=f/u,m=_/u;return 0<=l&&1>=l&&0<=m&&1>=m&&(t=e+l*(o-e),s=i+l*(b-i)),d[0]=t,d[1]=s,d}TransformVerts(t,s,e){const i=this.GetFrameData(e)[s],h=-i.rotationZ*Math.PI/180,a=Math.cos(h),r=Math.sin(h);for(let n=0;n<t.length/2;n++){let o=t[n*2],b=t[n*2+1];o*=i.scaleX,b*=i.scaleY,t[n*2]=a*o-r*b+i.positionX,t[n*2+1]=r*o+a*b-i.positionY,i.f_flipH&&(t[n*2]=t[0]*2-t[n*2]),i.f_flipV&&(t[n*2+1]=t[1]*2-t[n*2+1])}return this.parentIndex[s]>=0&&(t=this.TransformVerts(t,this.parentIndex[s],e)),t}TransformPosition(t,s,e){const i=this.GetFrameData(e)[s];t[4]+=-i.rotationZ;const h=-i.rotationZ*Math.PI/180,a=Math.cos(h),r=Math.sin(h),n=t[0],o=t[1];return t[2]*=i.scaleX,t[3]*=i.scaleY,t[0]=a*n-r*o+i.positionX,t[1]=r*n+a*o-i.positionY,this.parentIndex[s]>=0&&(t=this.TransformPosition(t,this.parentIndex[s],e)),t}MakeCellMesh(t){const s=this.fbObj.cells(t),e=s.u1(),i=s.u2(),h=s.v1(),a=s.v2(),r=s.width()/2,n=s.height()/2,o=new Float32Array([0,0,-r,-n,r,-n,-r,n,r,n]),b=new Float32Array([(e+i)/2,(h+a)/2,e,h,i,h,e,a,i,a]),d=new Uint16Array([0,1,2,0,2,4,0,4,3,0,1,3]);return new ut.SimpleMesh(this.resources[s.cellMap().name()].texture,o,b,d,B.DRAW_MODES.TRIANGLES)}MakeMeshCellMesh(t,s){const e=this.curAnimation.meshsDataUV(t),i=e.uvLength();if(i>0){const h=new Float32Array(i-2),a=e.uv(1);for(let f=2;f<i;f++)h[f-2]=e.uv(f);const r=this.curAnimation.meshsDataIndices(t),n=r.indicesLength(),o=new Uint16Array(n-1);for(let f=1;f<n;f++)o[f-1]=r.indices(f);const b=new Float32Array(a*2);return new ut.SimpleMesh(this.resources[this.fbObj.cells(s).cellMap().name()].texture,b,h,o,B.DRAW_MODES.TRIANGLES)}return null}MakeCellPlayer(t,s=void 0){const e=t.split("/"),i=new W(this.ss6project);return i.Setup(e[0],e[1]),i.Play(s),i}static GetVerts(t,s){const e=s.size_X/2,i=s.size_Y/2,h=s.size_X*-(s.pivotX+t.pivotX()),a=s.size_Y*(s.pivotY+t.pivotY());return new Float32Array([h,a,h-e,a-i,h+e,a-i,h-e,a+i,h+e,a+i])}static GetMeshVerts(t,s){let e=new Float32Array(s.meshNum*2);for(let i=0;i<s.meshNum;i++)e[i*2+0]=s.meshDataPoint[i*3+0],e[i*2+1]=-s.meshDataPoint[i*3+1];return e}static GetDummyVerts(){return new Float32Array([0,0,-.5,-.5,.5,-.5,-.5,.5,.5,.5])}resetLiveFrame(){const t=this.curAnimation.defaultDataLength();for(let s=0;s<t;s++)this.liveFrame[s]=0}}return ot.SS6Player=W,ot.SS6PlayerInstanceKeyParam=yt,ot.SS6Project=St,Object.defineProperty(ot,"__esModule",{value:!0}),ot}({},PIXI,PIXI,PIXI,PIXI,PIXI.filters,PIXI);
